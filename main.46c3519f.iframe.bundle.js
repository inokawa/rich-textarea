(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src/index.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RichTextarea})),__webpack_require__.d(__webpack_exports__,"b",(function(){return renderers_createRegexRenderer}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-int.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),build=__webpack_require__("./node_modules/range-at-index/build/index.js"),build_default=__webpack_require__.n(build),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["children","value","style","onScroll","onInput","onKeyDown","onMouseDown","onMouseUp","onMouseMove","onMouseLeave","onFocus","onBlur","onSelectionChange"];function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var STYLE_KEYS=["direction","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight","border","borderWidth","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderStyle","borderTopStyle","borderBottomStyle","borderLeftStyle","borderRightStyle","fontSize","fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSizeAdjust","textAlign","textTransform","textIndent","letterSpacing","wordSpacing","lineHeight","whiteSpace","wordBreak","overflowWrap","tabSize","MozTabSize"],getValueFromStyle=function getValueFromStyle(style,key){var value=style.getPropertyValue(key);return value?parseInt(value,10):0},getVerticalPadding=function getVerticalPadding(style){return getValueFromStyle(style,"padding-top")+getValueFromStyle(style,"padding-bottom")+getValueFromStyle(style,"border-top")+getValueFromStyle(style,"border-bottom")},getHorizontalPadding=function getHorizontalPadding(style){return getValueFromStyle(style,"padding-left")+getValueFromStyle(style,"padding-right")+getValueFromStyle(style,"border-left")+getValueFromStyle(style,"border-right")},_setRangeText=function setRangeText(el,text,start,end,preserve){"function"==typeof el.setRangeText?el.setRangeText(text,start,end,preserve):(el.focus(),el.selectionStart=start,el.selectionEnd=end,document.execCommand("insertText",!1,text)),el.dispatchEvent(new Event("input",{bubbles:!0}))},dispatchMouseEvent=function dispatchMouseEvent(textarea,backdrop,e,pointedRef,isMouseMove){var prev=textarea.style.getPropertyValue("pointer-events"),backPrev=backdrop.style.getPropertyValue("pointer-events");textarea.style.setProperty("pointer-events","none"),backdrop.style.setProperty("pointer-events","auto");var pointed=document.elementFromPoint(e.clientX,e.clientY);textarea.style.setProperty("pointer-events",prev),backdrop.style.setProperty("pointer-events",backPrev);var _pointedRef$current,isInsideBackdrop=!!pointed&&backdrop!==pointed&&backdrop.contains(pointed);isMouseMove&&(pointedRef.current!==pointed&&(null===(_pointedRef$current=pointedRef.current)||void 0===_pointedRef$current||_pointedRef$current.dispatchEvent(new MouseEvent("mouseout",e.nativeEvent)),pointedRef.current=pointed,isInsideBackdrop&&(null==pointed||pointed.dispatchEvent(new MouseEvent("mouseover",e.nativeEvent)))));isInsideBackdrop&&(null==pointed||pointed.dispatchEvent(new MouseEvent(e.nativeEvent.type,e.nativeEvent)))},stopPropagation=function stopPropagation(event){event.preventDefault(),event.stopPropagation()},caretDetectorStyle={color:"transparent"},RichTextarea=Object(react.forwardRef)((function(_ref,propRef){var _ref$current7,_ref$current8,render=_ref.children,value=_ref.value,style=_ref.style,onScroll=_ref.onScroll,onInput=_ref.onInput,onKeyDown=_ref.onKeyDown,onMouseDown=_ref.onMouseDown,onMouseUp=_ref.onMouseUp,onMouseMove=_ref.onMouseMove,onMouseLeave=_ref.onMouseLeave,onFocus=_ref.onFocus,onBlur=_ref.onBlur,onSelectionChange=_ref.onSelectionChange,props=_objectWithoutProperties(_ref,_excluded),ref=Object(react.useRef)(null),backdropRef=Object(react.useRef)(null),_useState2=_slicedToArray(Object(react.useState)([0,0]),2),_useState2$=_slicedToArray(_useState2[0],2),left=_useState2$[0],top=_useState2$[1],setPos=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([0,0,0,0]),2),_useState4$=_slicedToArray(_useState4[0],4),width=_useState4$[0],height=_useState4$[1],hPadding=_useState4$[2],vPadding=_useState4$[3],setRect=_useState4[1],refresh=function useForceRefresh(){var setState=Object(react.useState)(0)[1];return Object(react.useCallback)((function(){return setState((function(p){return p+1}))}),[])}(),_useState6=_slicedToArray(Object(react.useState)(!1),2),focused=_useState6[0],setFocused=_useState6[1],caretColorRef=Object(react.useRef)(""),pointedRef=Object(react.useRef)(null);Object(react.useImperativeHandle)(propRef,(function(){return{ref:ref,get selectionStart(){var _ref$current$selectio,_ref$current;return null!==(_ref$current$selectio=null===(_ref$current=ref.current)||void 0===_ref$current?void 0:_ref$current.selectionStart)&&void 0!==_ref$current$selectio?_ref$current$selectio:0},get selectionEnd(){var _ref$current$selectio2,_ref$current2;return null!==(_ref$current$selectio2=null===(_ref$current2=ref.current)||void 0===_ref$current2?void 0:_ref$current2.selectionEnd)&&void 0!==_ref$current$selectio2?_ref$current$selectio2:0},focus:function focus(){var _ref$current3;null===(_ref$current3=ref.current)||void 0===_ref$current3||_ref$current3.focus()},blur:function blur(){var _ref$current4;null===(_ref$current4=ref.current)||void 0===_ref$current4||_ref$current4.blur()},select:function select(){var _ref$current5;null===(_ref$current5=ref.current)||void 0===_ref$current5||_ref$current5.select()},setSelectionRange:function setSelectionRange(){var _ref$current6;ref.current&&(ref.current.focus(),(_ref$current6=ref.current).setSelectionRange.apply(_ref$current6,arguments))},setRangeText:function setRangeText(){if(ref.current){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_setRangeText.apply(void 0,[ref.current].concat(args))}}}}),[ref]),Object(react.useEffect)((function(){if(ref.current){var observer=new ResizeObserver((function(entries){if(ref.current){var style=getComputedStyle(ref.current);setRect([entries[0].contentRect.width,entries[0].contentRect.height,getHorizontalPadding(style),getVerticalPadding(style)])}}));return observer.observe(ref.current),function(){observer.disconnect()}}}),[]),Object(react.useEffect)((function(){var _style$caretColor;if(backdropRef.current&&ref.current){var s=getComputedStyle(ref.current);caretColorRef.current||(caretColorRef.current=s.getPropertyValue("color")),function copyStyle(keys,style,baseStyle){keys.forEach((function(k){style[k]=baseStyle[k]}))}(STYLE_KEYS,backdropRef.current.style,s),ref.current.style.color="transparent",ref.current.style.caretColor=null!==(_style$caretColor=null==style?void 0:style.caretColor)&&void 0!==_style$caretColor?_style$caretColor:caretColorRef.current,backdropRef.current.style.borderColor="transparent"}}),[style]);var selectionStart=null===(_ref$current7=ref.current)||void 0===_ref$current7?void 0:_ref$current7.selectionStart,selectionEnd=null===(_ref$current8=ref.current)||void 0===_ref$current8?void 0:_ref$current8.selectionEnd;Object(react.useEffect)((function(){if(null!=selectionStart&&null!=selectionEnd&&onSelectionChange)if(focused){var rect=build_default()(backdropRef.current,selectionStart,selectionStart+1).getBoundingClientRect();onSelectionChange({focused:!0,top:rect.top,left:rect.left,height:rect.height,selectionStart:selectionStart,selectionEnd:selectionEnd},value)}else onSelectionChange({focused:!1,selectionStart:selectionStart,selectionEnd:selectionEnd},value)}),[focused,selectionStart,selectionEnd]);var setCaretPosition=Object(react.useCallback)((function(){onSelectionChange&&setTimeout((function(){refresh()}))}),[onSelectionChange]),totalWidth=width+hPadding,totalHeight=height+vPadding;return Object(jsx_runtime.jsxs)("div",{style:Object(react.useMemo)((function(){return{display:"inline-block",position:"relative",width:totalWidth,height:totalHeight}}),[totalWidth,totalHeight]),children:[Object(jsx_runtime.jsx)("div",{style:Object(react.useMemo)((function(){var s={position:"absolute",overflow:"hidden",top:0,left:0,width:totalWidth,height:totalHeight};return style?(style.background&&(s.background=style.background),style.backgroundColor&&(s.backgroundColor=style.backgroundColor),s):s}),[totalWidth,totalHeight,style]),children:Object(jsx_runtime.jsxs)("div",{ref:backdropRef,"aria-hidden":!0,style:Object(react.useMemo)((function(){return{width:width,transform:"translate("+-left+"px, "+-top+"px)",pointerEvents:"none",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",textSizeAdjust:"100%",WebkitTextSizeAdjust:"100%"}}),[left,top,width]),onMouseOver:stopPropagation,onMouseOut:stopPropagation,onMouseMove:stopPropagation,onMouseDown:stopPropagation,onMouseUp:stopPropagation,children:[Object(react.useMemo)((function(){return render?render(value):value}),[value,render]),Object(jsx_runtime.jsx)("span",{style:caretDetectorStyle,children:"​"})]})}),Object(jsx_runtime.jsx)("textarea",Object.assign({},props,{ref:ref,value:value,style:Object(react.useMemo)((function(){return Object.assign({},style,{background:"transparent",margin:0,position:"absolute"})}),[style]),onScroll:Object(react.useCallback)((function(e){setPos([e.currentTarget.scrollLeft,e.currentTarget.scrollTop]),null==onScroll||onScroll(e)}),[onScroll]),onInput:Object(react.useCallback)((function(e){null==onInput||onInput(e),setCaretPosition()}),[onInput,setCaretPosition]),onKeyDown:Object(react.useCallback)((function(e){null==onKeyDown||onKeyDown(e),setCaretPosition()}),[onKeyDown,setCaretPosition]),onMouseDown:Object(react.useCallback)((function(e){null==onMouseDown||onMouseDown(e),setCaretPosition(),ref.current&&backdropRef.current&&dispatchMouseEvent(ref.current,backdropRef.current,e,pointedRef)}),[onMouseDown,setCaretPosition]),onMouseUp:Object(react.useCallback)((function(e){null==onMouseUp||onMouseUp(e),setCaretPosition(),ref.current&&backdropRef.current&&dispatchMouseEvent(ref.current,backdropRef.current,e,pointedRef)}),[onMouseUp,setCaretPosition]),onMouseMove:Object(react.useCallback)((function(e){null==onMouseMove||onMouseMove(e),ref.current&&backdropRef.current&&dispatchMouseEvent(ref.current,backdropRef.current,e,pointedRef,!0)}),[onMouseMove]),onMouseLeave:Object(react.useCallback)((function(e){var _pointedRef$current2;null==onMouseLeave||onMouseLeave(e),null===(_pointedRef$current2=pointedRef.current)||void 0===_pointedRef$current2||_pointedRef$current2.dispatchEvent(new MouseEvent("mouseout",e.nativeEvent)),pointedRef.current=null}),[onMouseLeave]),onFocus:Object(react.useCallback)((function(e){null==onFocus||onFocus(e),setFocused(!0)}),[onFocus]),onBlur:Object(react.useCallback)((function(e){null==onBlur||onBlur(e),setFocused(!1)}),[onBlur])}))]})}));try{RichTextarea.displayName="RichTextarea",RichTextarea.__docgenInfo={description:"",displayName:"RichTextarea",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!1,type:{name:"((pos: CaretPosition, value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/textarea.tsx#RichTextarea"]={docgenInfo:RichTextarea.__docgenInfo,name:"RichTextarea",path:"src/textarea.tsx#RichTextarea"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js");function utils_slicedToArray(arr,i){return function utils_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function utils_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function utils_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_arrayLikeToArray(o,minLen)}(arr,i)||function utils_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return renderers_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||renderers_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function renderers_slicedToArray(arr,i){return function renderers_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function renderers_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||renderers_unsupportedIterableToArray(arr,i)||function renderers_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function renderers_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return renderers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?renderers_arrayLikeToArray(o,minLen):void 0}}function renderers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var renderers_createRegexRenderer=function createRegexRenderer(matchers){return function(value){var styles={},ranges=[];matchers.forEach((function(_ref,i){var _ref2=renderers_slicedToArray(_ref,2),matcher=_ref2[0],style=_ref2[1];ranges.push.apply(ranges,_toConsumableArray(function execReg(reg,text){for(var results=[],match=reg.exec(text);match;)results.push(match),match=reg.exec(text);return results}(matcher,value).map((function(m){return[m.index,m.index+m[0].length,i]})))),styles[String(i)]=style}));for(var chunks=function merge(ranges){ranges.sort((function(a,b){return a[0]-b[0]||a[1]-b[1]}));var last,results=[];return ranges.forEach((function(_ref){var _ref3,_ref2=utils_slicedToArray(_ref,3),start=_ref2[0],end=_ref2[1],styleId=_ref2[2];if(!last||start>=last[1])results.push(last=[start,end,(_ref3={},_ref3[styleId]=!0,_ref3)]);else if(end>last[1]){var _ref4;last[2][styleId]=!0,results.push(last=[last[1],end,(_ref4={},_ref4[styleId]=!0,_ref4)])}else if(end<=last[1]){var lastEnd=last[1],lastStyle=Object.assign({},last[2]),lastStyle2=Object.assign({},last[2]);last[0]!==start?last[1]=start:results.pop(),lastStyle[styleId]=!0,results.push(last=[start,end,lastStyle]),end!==lastEnd&&results.push(last=[end,lastEnd,lastStyle2])}})),results}(ranges),res=[],prevEnd=0,i=0;i<chunks.length;i++){var _chunks$i=renderers_slicedToArray(chunks[i],3),start=_chunks$i[0],end=_chunks$i[1],styleIds=_chunks$i[2];res.push(value.slice(prevEnd,start));var style=Object.keys(styleIds).reduce((function(acc,i){var s=styles[i];return Object.keys(s).forEach((function(k){acc[k]=s[k]})),acc}),{});res.push(Object(jsx_runtime.jsx)("span",{style:style,children:value.slice(start,end)},i)),prevEnd=end,start}return res.push(value.slice(prevEnd)),res}};try{renderers_createRegexRenderer.displayName="createRegexRenderer",renderers_createRegexRenderer.__docgenInfo={description:"",displayName:"createRegexRenderer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/renderers.tsx#createRegexRenderer"]={docgenInfo:renderers_createRegexRenderer.__docgenInfo,name:"createRegexRenderer",path:"src/renderers.tsx#createRegexRenderer"})}catch(__react_docgen_typescript_loader_error){}},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./diff.stories.tsx":"./stories/diff.stories.tsx","./emoji.stories.tsx":"./stories/emoji.stories.tsx","./kuromoji.stories.tsx":"./stories/kuromoji.stories.tsx","./mention.stories.tsx":"./stories/mention.stories.tsx","./prism.stories.tsx":"./stories/prism.stories.tsx","./regex.stories.tsx":"./stories/regex.stories.tsx","./segmenter.stories.tsx":"./stories/segmenter.stories.tsx","./textlint.stories.tsx":"./stories/textlint.stories.tsx","./toolbar.stories.tsx":"./stories/toolbar.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./stories/diff.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Diff",(function(){return Diff}));__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/index.ts"),monaco_diff__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/monaco-diff/lib/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"300px",height:"400px"},createDiffRenderer=function createDiffRenderer(tokens,type){return function(value){var _step,orgLines=Array.from({length:value.length}),modLines=Array.from({length:value.length}),_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(tokens);try{for(_iterator.s();!(_step=_iterator.n()).done;){for(var _token$charChanges,token=_step.value,i=token.originalStartLineNumber;i<=token.originalEndLineNumber;i++)orgLines[i-1]||(orgLines[i-1]=[]),0===token.modifiedEndLineNumber&&orgLines[i-1].push({start:void 0,end:void 0});for(var _i=token.modifiedStartLineNumber;_i<=token.modifiedEndLineNumber;_i++)modLines[_i-1]||(modLines[_i-1]=[]),0===token.originalEndLineNumber&&modLines[_i-1].push({start:void 0,end:void 0});null===(_token$charChanges=token.charChanges)||void 0===_token$charChanges||_token$charChanges.forEach((function(c){for(var _i2=c.originalStartLineNumber;_i2<=c.originalEndLineNumber;_i2++)_i2===c.originalStartLineNumber?c.originalStartLineNumber===c.originalEndLineNumber?(orgLines[_i2-1]||(orgLines[_i2-1]=[])).push({start:c.originalStartColumn,end:c.originalEndColumn}):(orgLines[_i2-1]||(orgLines[_i2-1]=[])).push({start:c.originalStartColumn,end:void 0}):_i2===c.originalEndLineNumber?(orgLines[_i2-1]||(orgLines[_i2-1]=[])).push({start:void 0,end:c.originalEndColumn}):(orgLines[_i2-1]||(orgLines[_i2-1]=[])).push({start:void 0,end:void 0});for(var _i3=c.modifiedStartLineNumber;_i3<=c.modifiedEndLineNumber;_i3++)_i3===c.modifiedStartLineNumber?c.modifiedStartLineNumber===c.modifiedEndLineNumber?(modLines[_i3-1]||(modLines[_i3-1]=[])).push({start:c.modifiedStartColumn,end:c.modifiedEndColumn}):(modLines[_i3-1]||(modLines[_i3-1]=[])).push({start:c.modifiedStartColumn,end:void 0}):_i3===c.modifiedEndLineNumber?(modLines[_i3-1]||(modLines[_i3-1]=[])).push({start:void 0,end:c.modifiedEndColumn}):(modLines[_i3-1]||(modLines[_i3-1]=[])).push({start:void 0,end:void 0})}))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var bgStyle="base"===type?{background:"rgba(255, 0, 0, 0.2)"}:{background:"rgba(155, 185, 85, 0.2)"};return value.split("\n").map((function(s,i){var diff="base"===type&&orgLines[i]||"target"===type&&modLines[i]||void 0,node=[s];if(diff&&diff.length){for(var prevEnd=0,res=[],di=0;di<diff.length;di++){var d=diff[di],start=d.start?d.start-1:0,end=d.end?d.end-1:s.length;res.push(s.slice(prevEnd,start)),res.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("span",{style:bgStyle,children:s.slice(start,end)},i+"-"+di)),start,prevEnd=end}res.push(s.slice(prevEnd)),node=res}return node.push(" "),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:diff&&bgStyle,children:node},i)}))}},Diff=function Diff(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)("This line is removed on the right.\njust some text\nabcd\nefgh\nSome more text\nSome more text\nSome more text"),2),baseText=_useState2[0],setBaseText=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)("just some text\nabcz\nzzzzefgh\nSome more text.\nThis line is removed on the left."),2),targetText=_useState4[0],setTargetText=_useState4[1],token=react__WEBPACK_IMPORTED_MODULE_17___default.a.useMemo((function(){return Object(monaco_diff__WEBPACK_IMPORTED_MODULE_19__.a)(baseText.split("\n"),targetText.split("\n"))}),[baseText,targetText]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_17__.useCallback)((function(e){return setBaseText(e.target.value)}),[]),value:baseText,children:createDiffRenderer(token,"base")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_17__.useCallback)((function(e){return setTargetText(e.target.value)}),[]),value:targetText,children:createDiffRenderer(token,"target")})]})};Diff.displayName="Diff",Diff.parameters=Object.assign({storySource:{source:'() => {\n  const [baseText, setBaseText] = useState(\n    "This line is removed on the right.\\njust some text\\nabcd\\nefgh\\nSome more text\\nSome more text\\nSome more text"\n  );\n  const [targetText, setTargetText] = useState(\n    "just some text\\nabcz\\nzzzzefgh\\nSome more text.\\nThis line is removed on the left."\n  );\n  const token = React.useMemo(\n    () => diff(baseText.split("\\n"), targetText.split("\\n")),\n    [baseText, targetText]\n  );\n\n  return (\n    <div>\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setBaseText(e.target.value), [])}\n        value={baseText}\n      >\n        {createDiffRenderer(token, "base")}\n      </RichTextarea>\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setTargetText(e.target.value), [])}\n        value={targetText}\n      >\n        {createDiffRenderer(token, "target")}\n      </RichTextarea>\n    </div>\n  );\n}'}},Diff.parameters)},"./stories/emoji.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Emoji",(function(){return Emoji}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-dom/index.js"),_src__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/index.ts"),node_emoji__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/node-emoji/index.js"),node_emoji__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(node_emoji__WEBPACK_IMPORTED_MODULE_19__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"400px",height:"300px"},MENTION_REG=/:([\-+\w]*)$/,Emoji=function Emoji(){var _match$,ref=Object(react__WEBPACK_IMPORTED_MODULE_16__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)("Type : to show suggestions 💪\n\n"),2),text=_useState2[0],setText=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(null),2),pos=_useState4[0],setPos=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(0),2),index=_useState6[0],setIndex=_useState6[1],targetText=pos?text.slice(0,pos.caret):text,match=pos&&targetText.match(MENTION_REG),name=null!==(_match$=null==match?void 0:match[1])&&void 0!==_match$?_match$:"",chars=Object(react__WEBPACK_IMPORTED_MODULE_16__.useMemo)((function(){return node_emoji__WEBPACK_IMPORTED_MODULE_19___default.a.search(name).slice(0,8)}),[name]),complete=function complete(i){var selected=chars[i].emoji;ref.current.setRangeText(selected+" ",pos.caret-name.length-1,pos.caret,"end"),setPos(null),setIndex(null)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)(_src__WEBPACK_IMPORTED_MODULE_18__.a,{ref:ref,style:style,onChange:function onChange(e){return setText(e.target.value)},value:text,onKeyDown:function onKeyDown(e){if(pos&&chars.length)switch(e.code){case"ArrowUp":e.preventDefault();var nextIndex=index<=0?chars.length-1:index-1;setIndex(nextIndex);break;case"ArrowDown":e.preventDefault();var prevIndex=index>=chars.length-1?0:index+1;setIndex(prevIndex);break;case"Enter":e.preventDefault(),complete(index);break;case"Escape":e.preventDefault(),setPos(null),setIndex(null)}},onSelectionChange:function onSelectionChange(r){r.focused&&MENTION_REG.test(text.slice(0,r.selectionStart))?(setPos({top:r.top+r.height,left:r.left,caret:r.selectionStart}),setIndex(0)):(setPos(null),setIndex(null))}}),pos&&Object(react_dom__WEBPACK_IMPORTED_MODULE_17__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:{position:"fixed",top:pos.top,left:pos.left,fontSize:"16px",border:"solid 1px gray",borderRadius:"3px",background:"white",cursor:"pointer"},children:chars.map((function(c,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_20__.jsx)("div",{style:Object.assign({padding:"4px"},index===i&&{color:"white",background:"#2A6AD3"}),onMouseDown:function onMouseDown(e){e.preventDefault(),complete(i)},children:c.emoji+" "+c.key},c.key)}))}),document.body)]})};Emoji.displayName="Emoji",Emoji.parameters=Object.assign({storySource:{source:'() => {\n  const ref = useRef<RichTextareaHandle>(null);\n  const [text, setText] = useState(`Type : to show suggestions 💪\\n\\n`);\n  const [pos, setPos] =\n    useState<{ top: number; left: number; caret: number } | null>(null);\n  const [index, setIndex] = useState<number>(0);\n\n  const targetText = pos ? text.slice(0, pos.caret) : text;\n  const match = pos && targetText.match(MENTION_REG);\n  const name = match?.[1] ?? "";\n  const chars = useMemo(() => emoji.search(name).slice(0, MAX_CHARS), [name]);\n  const complete = (i: number) => {\n    const selected = chars[i].emoji;\n    ref.current.setRangeText(\n      `${selected} `,\n      pos.caret - name.length - 1,\n      pos.caret,\n      "end"\n    );\n    setPos(null);\n    setIndex(null);\n  };\n\n  return (\n    <div>\n      <RichTextarea\n        ref={ref}\n        style={style}\n        onChange={(e) => setText(e.target.value)}\n        value={text}\n        onKeyDown={(e) => {\n          if (!pos || !chars.length) return;\n          switch (e.code) {\n            case "ArrowUp":\n              e.preventDefault();\n              const nextIndex = index <= 0 ? chars.length - 1 : index - 1;\n              setIndex(nextIndex);\n              break;\n            case "ArrowDown":\n              e.preventDefault();\n              const prevIndex = index >= chars.length - 1 ? 0 : index + 1;\n              setIndex(prevIndex);\n              break;\n            case "Enter":\n              e.preventDefault();\n              complete(index);\n              break;\n            case "Escape":\n              e.preventDefault();\n              setPos(null);\n              setIndex(null);\n              break;\n            default:\n              break;\n          }\n        }}\n        onSelectionChange={(r) => {\n          if (r.focused && MENTION_REG.test(text.slice(0, r.selectionStart))) {\n            setPos({\n              top: r.top + r.height,\n              left: r.left,\n              caret: r.selectionStart,\n            });\n            setIndex(0);\n          } else {\n            setPos(null);\n            setIndex(null);\n          }\n        }}\n      />\n      {pos &&\n        createPortal(\n          <div\n            style={{\n              position: "fixed",\n              top: pos.top,\n              left: pos.left,\n              fontSize: "16px",\n              border: "solid 1px gray",\n              borderRadius: "3px",\n              background: "white",\n              cursor: "pointer",\n            }}\n          >\n            {chars.map((c, i) => (\n              <div\n                key={c.key}\n                style={{\n                  padding: "4px",\n                  ...(index === i && {\n                    color: "white",\n                    background: "#2A6AD3",\n                  }),\n                }}\n                onMouseDown={(e) => {\n                  e.preventDefault();\n                  complete(i);\n                }}\n              >\n                {`${c.emoji} ${c.key}`}\n              </div>\n            ))}\n          </div>,\n          document.body\n        )}\n    </div>\n  );\n}'}},Emoji.parameters)},"./stories/kuromoji.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Kuromoji",(function(){return Kuromoji}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-dom/index.js"),_src__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/index.ts"),kuromojin__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/kuromojin/lib/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"400px",height:"400px"},Mark=function Mark(_ref){var _ref$token=_ref.token,pos=_ref$token.pos,pos_detail_1=_ref$token.pos_detail_1,pos_detail_2=_ref$token.pos_detail_2,pos_detail_3=_ref$token.pos_detail_3,surface_form=_ref$token.surface_form,children=_ref.children,ref=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),tooltip=_useState2[0],setShow=_useState2[1],color="名詞"===pos?"rgba(255, 0, 0, 0.2)":"動詞"===pos?"rgba(0, 255, 0, 0.2)":"形容詞"===pos?"rgba(0, 0, 255, 0.2)":"副詞"===pos?"rgba(255, 0, 255, 0.2)":"助詞"===pos?"rgba(0, 255, 255, 0.2)":"助動詞"===pos?"rgba(255, 255, 0, 0.2)":void 0;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("span",{ref:ref,style:{position:"relative",background:color,outline:"solid 1px lightgray"},onMouseOver:function onMouseOver(e){if(ref.current){var rect=ref.current.getBoundingClientRect();setShow({top:rect.top+window.pageYOffset-2*rect.height,left:rect.left+window.pageXOffset,description:surface_form+": "+pos+" | "+pos_detail_1+" | "+pos_detail_2+" | "+pos_detail_3})}},onMouseOut:function onMouseOut(){return setShow(null)},children:[children,tooltip&&Object(react_dom__WEBPACK_IMPORTED_MODULE_14__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{style:{position:"fixed",top:tooltip.top,left:tooltip.left,background:"white",fontSize:16,padding:2,border:"solid 1px gray"},children:tooltip.description}),document.body)]})};Mark.displayName="Mark";var Kuromoji=function Kuromoji(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)("すもももももももものうち。\n\n吾輩 （ わがはい ） は猫である。名前はまだ無い。\n\nあのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。\n\n山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。"),2),text=_useState4[0],setText=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),2),tokenizer=_useState6[0],setTokenizer=_useState6[1];return Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){!function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var tokenizer;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(kuromojin__WEBPACK_IMPORTED_MODULE_16__.getTokenizer)({dicPath:"/rich-textarea/dict"});case 2:tokenizer=_context.sent,setTokenizer(tokenizer);case 4:case"end":return _context.stop()}}),_callee)})))()}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{style:{marginTop:16},children:[!tokenizer&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{children:"Loading dictionaries"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_15__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:function children(v){if(!tokenizer)return v;var _step,nodes=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(tokenizer.tokenize(text));try{for(_iterator.s();!(_step=_iterator.n()).done;){var token=_step.value;nodes.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(Mark,{token:token,children:token.surface_form},token.word_position))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nodes}})]})};Kuromoji.displayName="Kuromoji",Kuromoji.parameters=Object.assign({storySource:{source:'() => {\n  const [text, setText] = useState(\n    "すもももももももものうち。\\n\\n吾輩 （ わがはい ） は猫である。名前はまだ無い。\\n\\nあのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。\\n\\n山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。"\n  );\n  const [tokenizer, setTokenizer] = useState<Tokenizer | null>(null);\n\n  useEffect(() => {\n    (async () => {\n      const tokenizer = await getTokenizer({\n        dicPath: process.env.STORYBOOK_DEPLOY ? "/rich-textarea/dict" : "/dict",\n      });\n      setTokenizer(tokenizer);\n    })();\n  }, []);\n\n  return (\n    <div style={{ marginTop: 16 }}>\n      {!tokenizer && <div>{"Loading dictionaries"}</div>}\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setText(e.target.value), [])}\n        value={text}\n      >\n        {(v) => {\n          if (!tokenizer) return v;\n          const tokens = tokenizer.tokenize(text);\n          const nodes: React.ReactElement[] = [];\n          for (const token of tokens) {\n            nodes.push(\n              <Mark key={token.word_position} token={token}>\n                {token.surface_form}\n              </Mark>\n            );\n          }\n          return nodes;\n        }}\n      </RichTextarea>\n    </div>\n  );\n}'}},Kuromoji.parameters)},"./stories/mention.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Mention",(function(){return Mention}));__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.string.match.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/react-dom/index.js"),_src__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var CHARACTERS=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut Îmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cordé","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dineé Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dormé","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirtaé","Eli Vanto","Ellé","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padmé Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rabé","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Olié","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sabé","Sabine Wren","Saché","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"],style={width:"400px",height:"300px"},MENTION_REG=/\B@([\-+\w]*)$/,MENTION_HIGHLIGHT_REG=new RegExp("("+CHARACTERS.map((function(c){return"@"+c})).join("|")+")","g"),mentionRenderer=Object(_src__WEBPACK_IMPORTED_MODULE_22__.b)([[MENTION_HIGHLIGHT_REG,{background:"#EAF5F9",color:"#4276AA",borderRadius:"3px"}]]),Mention=function Mention(){var _match$,ref=Object(react__WEBPACK_IMPORTED_MODULE_20__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_20__.useState)("Hi, @Captain Gregor and @Jaxxon . Please enter @ to show suggestions.\n\n"),2),text=_useState2[0],setText=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_20__.useState)(null),2),pos=_useState4[0],setPos=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_20__.useState)(0),2),index=_useState6[0],setIndex=_useState6[1],targetText=pos?text.slice(0,pos.caret):text,match=pos&&targetText.match(MENTION_REG),name=null!==(_match$=null==match?void 0:match[1])&&void 0!==_match$?_match$:"",chars=Object(react__WEBPACK_IMPORTED_MODULE_20__.useMemo)((function(){return CHARACTERS.filter((function(c){return c.toLowerCase().startsWith(name.toLowerCase())})).slice(0,8)}),[name]),complete=function complete(i){var selected=chars[i];ref.current.setRangeText("@"+selected+" ",pos.caret-name.length-1,pos.caret,"end"),setPos(null),setIndex(null)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_src__WEBPACK_IMPORTED_MODULE_22__.a,{ref:ref,style:style,onChange:function onChange(e){return setText(e.target.value)},value:text,onKeyDown:function onKeyDown(e){if(pos&&chars.length)switch(e.code){case"ArrowUp":e.preventDefault();var nextIndex=index<=0?chars.length-1:index-1;setIndex(nextIndex);break;case"ArrowDown":e.preventDefault();var prevIndex=index>=chars.length-1?0:index+1;setIndex(prevIndex);break;case"Enter":e.preventDefault(),complete(index);break;case"Escape":e.preventDefault(),setPos(null),setIndex(null)}},onSelectionChange:function onSelectionChange(r){r.focused&&MENTION_REG.test(text.slice(0,r.selectionStart))?(setPos({top:r.top+r.height,left:r.left,caret:r.selectionStart}),setIndex(0)):(setPos(null),setIndex(null))},children:mentionRenderer}),pos&&Object(react_dom__WEBPACK_IMPORTED_MODULE_21__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{style:{position:"fixed",top:pos.top,left:pos.left,fontSize:"12px",border:"solid 1px gray",borderRadius:"3px",background:"white",cursor:"pointer"},children:chars.map((function(c,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{style:Object.assign({padding:"4px"},index===i&&{color:"white",background:"#2A6AD3"}),onMouseDown:function onMouseDown(e){e.preventDefault(),complete(i)},children:c},c)}))}),document.body)]})};Mention.displayName="Mention",Mention.parameters=Object.assign({storySource:{source:'() => {\n  const ref = useRef<RichTextareaHandle>(null);\n  const [text, setText] = useState(\n    `Hi, @Captain Gregor and @Jaxxon . Please enter @ to show suggestions.\\n\\n`\n  );\n  const [pos, setPos] =\n    useState<{ top: number; left: number; caret: number } | null>(null);\n  const [index, setIndex] = useState<number>(0);\n\n  const targetText = pos ? text.slice(0, pos.caret) : text;\n  const match = pos && targetText.match(MENTION_REG);\n  const name = match?.[1] ?? "";\n  const chars = useMemo(\n    () =>\n      CHARACTERS.filter((c) =>\n        c.toLowerCase().startsWith(name.toLowerCase())\n      ).slice(0, MAX_CHARS),\n    [name]\n  );\n  const complete = (i: number) => {\n    const selected = chars[i];\n    ref.current.setRangeText(\n      `@${selected} `,\n      pos.caret - name.length - 1,\n      pos.caret,\n      "end"\n    );\n    setPos(null);\n    setIndex(null);\n  };\n\n  return (\n    <div>\n      <RichTextarea\n        ref={ref}\n        style={style}\n        onChange={(e) => setText(e.target.value)}\n        value={text}\n        onKeyDown={(e) => {\n          if (!pos || !chars.length) return;\n          switch (e.code) {\n            case "ArrowUp":\n              e.preventDefault();\n              const nextIndex = index <= 0 ? chars.length - 1 : index - 1;\n              setIndex(nextIndex);\n              break;\n            case "ArrowDown":\n              e.preventDefault();\n              const prevIndex = index >= chars.length - 1 ? 0 : index + 1;\n              setIndex(prevIndex);\n              break;\n            case "Enter":\n              e.preventDefault();\n              complete(index);\n              break;\n            case "Escape":\n              e.preventDefault();\n              setPos(null);\n              setIndex(null);\n              break;\n            default:\n              break;\n          }\n        }}\n        onSelectionChange={(r) => {\n          if (r.focused && MENTION_REG.test(text.slice(0, r.selectionStart))) {\n            setPos({\n              top: r.top + r.height,\n              left: r.left,\n              caret: r.selectionStart,\n            });\n            setIndex(0);\n          } else {\n            setPos(null);\n            setIndex(null);\n          }\n        }}\n      >\n        {mentionRenderer}\n      </RichTextarea>\n      {pos &&\n        createPortal(\n          <div\n            style={{\n              position: "fixed",\n              top: pos.top,\n              left: pos.left,\n              fontSize: "12px",\n              border: "solid 1px gray",\n              borderRadius: "3px",\n              background: "white",\n              cursor: "pointer",\n            }}\n          >\n            {chars.map((c, i) => (\n              <div\n                key={c}\n                style={{\n                  padding: "4px",\n                  ...(index === i && {\n                    color: "white",\n                    background: "#2A6AD3",\n                  }),\n                }}\n                onMouseDown={(e) => {\n                  e.preventDefault();\n                  complete(i);\n                }}\n              >\n                {c}\n              </div>\n            ))}\n          </div>,\n          document.body\n        )}\n    </div>\n  );\n}'}},Mention.parameters)},"./stories/prism.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Prism",(function(){return Prism}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/index.ts"),prism_react_renderer__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prism-react-renderer/dist/index.js"),prism_react_renderer_themes_dracula__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/prism-react-renderer/themes/dracula/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"600px",height:"400px",caretColor:"white",backgroundColor:"rgb(40, 42, 54)"},renderer=function renderer(value){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(prism_react_renderer__WEBPACK_IMPORTED_MODULE_15__.a,Object.assign({},prism_react_renderer__WEBPACK_IMPORTED_MODULE_15__.b,{theme:prism_react_renderer_themes_dracula__WEBPACK_IMPORTED_MODULE_16__.a,code:value,language:"jsx",children:function children(_ref){var className=_ref.className,style=_ref.style,tokens=_ref.tokens,getLineProps=_ref.getLineProps,getTokenProps=_ref.getTokenProps;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:className,style:Object.assign({},style,{margin:0}),children:tokens.map((function(line,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",Object.assign({},getLineProps({line:line,key:i}),{children:line.map((function(token,key){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",Object.assign({},getTokenProps({token:token,key:key})))}))}))}))})}}))};renderer.displayName="renderer";var Prism=function Prism(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_13__.useState)('import React, { useState } from "react";\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}'),2),text=_useState2[0],setText=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_13__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:renderer})};Prism.displayName="Prism",Prism.parameters=Object.assign({storySource:{source:'() => {\n  const [text, setText] = useState(\n    `import React, { useState } from "react";\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}`\n  );\n  return (\n    <RichTextarea\n      style={style}\n      onChange={useCallback((e) => setText(e.target.value), [])}\n      value={text}\n    >\n      {renderer}\n    </RichTextarea>\n  );\n}'}},Prism.parameters)},"./stories/regex.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Search",(function(){return Search})),__webpack_require__.d(__webpack_exports__,"Many",(function(){return Many})),__webpack_require__.d(__webpack_exports__,"Emoji",(function(){return Emoji}));__webpack_require__("./node_modules/core-js/modules/es.regexp.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var lorem="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";__webpack_exports__.default={title:"regex"};var style={width:"600px",height:"400px"},basicRegex=Object(_src__WEBPACK_IMPORTED_MODULE_17__.b)([[/[A-Z][A-x]+/g,{color:"blue"}],[/[A-Z][A-Z]+/g,{borderRadius:"3px",backgroundColor:"blue",color:"white"}],[/[!?]+/g,{textDecoration:"underline wavy",color:"red"}],[/(but|and|so|also)+/g,{textDecoration:"line-through",color:"green"}],[/[0123456789]+/g,{color:"violet",fontWeight:"bold"}]]),Basic=function Basic(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)("This is just a TEXTAREA but bit rich!!!\n12345"),2),text=_useState2[0],setText=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_16__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:basicRegex})};Basic.displayName="Basic";var Search=function Search(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(lorem),2),text=_useState4[0],setText=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)("dolor"),2),searchText=_useState6[0],setSearchText=_useState6[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("label",{htmlFor:"search",children:"input search word: "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("input",{name:"search",value:searchText,onChange:function onChange(e){return setSearchText(e.target.value)}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_16__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:searchText?Object(_src__WEBPACK_IMPORTED_MODULE_17__.b)([[new RegExp(searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),{borderRadius:"3px",backgroundColor:"yellow"}]]):function(v){return v}})]})};Search.displayName="Search";var manyRegex=Object(_src__WEBPACK_IMPORTED_MODULE_17__.b)([[/[A-Z][a-z]+/g,{borderRadius:"3px",backgroundColor:"#d0bfff"}],[/ipsum/g,{color:"blue",textDecoration:"underline wavy"}],[/[abcdeip]/g,{color:"red",fontWeight:"bold"}]]),Many=function Many(){var _useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(lorem),2),text=_useState8[0],setText=_useState8[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_16__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:manyRegex})};Many.displayName="Many",Many.storyName="Many (WIP)";var emojiRegex=Object(_src__WEBPACK_IMPORTED_MODULE_17__.b)([[/(?:[\xA9\xAE\u2122\u23E9-\u23EF\u23F3\u23F8-\u23FA\u24C2\u25B6\u2600-\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDE51\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF])/g,{outline:"solid 1px gray"}]]),Emoji=function Emoji(){var _useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)("📫🔒🍳📶 💨🌠🐩🐅📀🍆 🎭🕖👆📱 🏮🌁🌍🏂📰🔓 🎻💟🐻👫🍇🌆🔻 🎬🍻🍋🎡💬🌓🐁 🐻🏭🐟👵🎋🐧 👵🎋🐲🍌 🍨🍪🕐🐳 💋💱🔹📁 📴💬📔🐁🌿 🕐🕝🎂🐳💌👃 🎹🌀💣👓👨💳 🎭🕧👖🌰🌽 🐮👾🌻👫🐉. 🍼🎓🐖🌿🍄 🍻🎂🔨👯💋📄🕦 🏆👟💜🎺📡📅🌙 🔠🍧💯🍓📪 🏪🌞🔼👅 🔼💭💐💲🕤📟 🐭📁🎼🔢📃🍅 🕐🎿🍬🐥🐐🎾📒 💛📶🐘🔺 💦👀🐔💔 🍨📤🐥🐃📊🏯🏃 🐕🐋👳🎈👎. 🐛🏂💔🐅🐃🍮🐀 🔷📫🌁👘🐁 👕📖🐂🍪📞 📦🌶🍌💑📗 🌈📜🎽🐈📀 🎃🕣🍯🌝👶 🍌💻💉💠💼 🎁👪🎠🎽🗾 🐡💏💢🌛👻💗💴. 🐺🐗🎅👮💓🎾 👄👦🔰💸 💏🐗🔭📼 🐢👧🍯🍷👋 🎡👖🌍🔽🕗 📰🌺🐦🐾 💋🕃🎭💩 🎣🍱🔔🔳. 📕🕘🔨🐸💖 🕠🌗📋💦 🔛🐄🐶🐽🍶🎇 🍁🏢🏪🐎🐕 🎰📞🐣🍇📂 🏈🏊💃💫🐥🌸 📪🍧💖🎳🍀 🔣🔝🔴🌅🔜👩 🍠🔯💎🏧 🐍💀🔠🐖📷🔖 🌗🕂🐙🎢👀🐯🍆 🏣👾🐚🔕📮💛👄 🍇🌰🎵👑🎬🌁 🔚🏁🎁🐝🍪🍛 🎾👓🐄🎿🕠🔙 🌹👀💧🔛👞.\n\n    🍷🕖🔷📙 🏢🎬🐂💤🐙🍠📐🔉 💑💑👰👔🔢🐾 💽🎽💛📡📭 🎧📘🔏🍁 👤🎲💛🍔🐚🏤🔥 🐕👋👘🌅🐐👴 🕘📭🏈🍁🔉💿 👰📈🔴🌸👨📻 👤🐡🐅👃🏁🎃 🐢🎻🕢🔢🌊🍤🍱 🐞👬💔💸🏀 🗻👿👠🐆💐💞 🔧🎑📂🐪👮🌚 👘📆🌷🐘. 🍜🐊🍇🔏🏥🕝🔫 💩🌓🌔💥 📨🐝🔭🗾🍙 🍞🎶🔘📌🕗📣🌈🍝 📏🎌📧💂🐶 🔯🎀💌🔫👠💺 👯🐭📵🍁 🐫👳🍜🌎 🍛🎱🍓🌎🍦🐔🎨 🔧🍤🎽🌒🍵 🔯🎓💂📩💄👯💏 🍔🍉🍍👋🍼🍏 🍸🍝🎳🍗💖🌁 🎫👿📲🔛📫 👖🌐🍱🌘🔻📘🏈 🔃📶🐢🏮. 🍌📁💈🔣🐑👩 💋👬👖🎋 💽🐈🍮🍰👚 🔓🔗🍋🐡👤🏨🔃🍫 🔔🎺🍍💡 👦🎦🔊🍛 🌃🔭🕧📖👋💦🎤 🕃🗼🌹📔🏩📲 🍋💿📰🌻 📉🔵🐅🍠. 🌳🐲🏡💽 🌎💟🎅🔃🎬🔹 🌆👞🌖📇💣🐡💩 🐂🐓🏥🌵👴 🏃🐴🔺🍑📩 🔣🔨👄🐅🏁 🏄🐎👵📤 🕗🔲👾🌲📒 🐺💉🎦📙💈 🏂🌃🏊📭 📳🎺🍕🔷🐖 🍓🎼💠🌽🏭🎃 🕤🍞💑🕣🌻🔺🍲 📎🐼💨🐎📈 🍳🍎🕜🌱 🌴🐐📕👈.\n    \n    🎱🐱🎭🔠🎃💡 🐬🌹👉🐒🎮🍵 🐌👃🐺💓👽 🍢👙📠👝📝 🍄💈🕀👹🍲🎒 🎳📯🎉🍚🌀🎣 👒🍡🎡📕 🐭💾🔯👙🗻📟 📝🔮📑👉💰🌎 💙🏡👙🍹🏦. 🔸👳🔜💨💝 📔🎍🏦🎬💭🎊 🍲🐰👥👟 🔕🎿🏣💕📔 🕘🔇🎱🏨💍 🔙🌋🏫📛👭🍎💒 👡🎈🎲📋💑 💴🔝🌋📃🎍 🍳🔙💇🍚🔮 🐥💚🕣🐎🔹🍩🎂 👠🗽💁🍁 💽💊🐯🐾 🎺🔥🔤📢🍵👣👓 🔻👃🌈🕡🍚🍱 🎬🔥🍙🔡. 💙🌘🔗📛💉🍮 🔖🏨👼🏊 💴🔗🍓📬🎂 💁💃🌷🕂🕂 🔺🔩💦🍤🌻🔆 🐐🎸💝🍓 🎆🔬🌶📧🐘 🐇🔝🔗🍕 🏮🌠📺🍸 🎡👴🔇💥👓 🎻👥💴🍖🏭💈 🐺📡🎋💨🍚👖 🎸🐌🌚🔷💢💁 💛📈👴🐅🔗.\n    \n    💕🎫🌝💢👾 🎌🕤🎧🐴📼 🍀📊🐡🌼🌀📳 🎰🐝🎤🍝👇🌄 💪🏀🍸🔁🐗🌖🍮 📎🍓🔴🐄🕡🔛🕕 🎱📏🐾🍇🔕 💧🍙🔂🎡 🕛💒👿🎼🔀 💛👦🌍📒📍🌄 👓🐽🏬🕦🔶 🍜📰🎋🍅🍝💜💫💈 🎨🌁🍗🎊🌳🐡📶 🎵🏠💚🗽🌉 🐕📱🕦📑 💩👤🕖🔖. 📍👋💁🌆🌜 🕔🐺🕀🔭 🌄🌆🏰💚📅📹🔀 🐰💴🕢🔎💹🎋 👥🔑🔯👗 🐶🎺📐💜🌂 🔲👦📬🍧🎶🍵 🐤🍢🐔🎩 🔂🐕💦🎤🍒🐣🔣 📙🔩📘💋🍧👺. 🕑💿🔫📶 🔮💏👀🎿📺📼💋 🐞👤📲🎆🏦🐪 💗🐸🏯🔳🍨 🕣🐀🗼🐂🐳 🍄🍮🍈📚🐄🎷🐄🍡 🍲🔕🔄💜🍉 🏆🍚🔠📠🍹👧. 🏧💻🕣👔👪 🌴📷💽🔼📃💼💲 📺🍪🍠👋🍶🍇 💭👡🍋🌏 💂🐁🍍🐶🎤💠🕟 🕚🌖🐺🔽🐟 🕃💏🐋🔟 🔼🎹🍤🍗🎽📷📚 🔜🌕📫💯 🐾🎻📶🎼🍐 💑👭👊🐖.🎇 🌲🎡🍉📕📥🎎🌒 🌈👂🐩💂🏯💠🍮 💵🔊🌻🕖🌽 📶💮💠🕜 🐟💃🐩🍚 🔪🐼🍺🐧🍆🏧. 💚🐗🍨🍼💙 💗🕜🐂💏 📀🎂🎿🔃👚🏦🐠 👃🍘📐📐🎲 💹🍨🎠🍤🐷 📊👔🕑🕂📍🐦 🍸🍦🕂💦🕜📪📤 🔑🎋👐🌅🌛 🐥📌🏯👮🐃🐟 👼🍙🎑👯🌁💅👝 👦🔥🌶👩🎀 🕠📲📤📆 💀🌉🔽🌗💚🔌. 📀🕀🐝👀📣 💄🍴🐱💶🍣 💴💗💠👜 🐖👖🐳👲🌟 🔢🎴👹🎅🌟🔞 🎭🏩🕓🔪 💶🎮🎧📳💁🐠 💥🎢👙👊🐑📺🌳 🎀🔶🐪🔛. 📼🎣🔼🍩🎥 🌂🌙📚📲🔩🏆 🎓📤🎡🌠 🔚🌌🔗🔠 🎧🎃🌞🐆🔈 🎅🎁🍢💁 📐🐓🐎🐵 🏆📡🕘📊👢 🌛💗🔂🌑🕝👛🍜 💳🎺📩🎫🎀🐅🍵 🏩🔕🏢🍁👘."),2),text=_useState10[0],setText=_useState10[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_src__WEBPACK_IMPORTED_MODULE_17__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_16__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:emojiRegex})};Emoji.displayName="Emoji",Basic.parameters=Object.assign({storySource:{source:"() => {\n  const [text, setText] = useState(\n    `This is just a TEXTAREA but bit rich!!!\n12345`\n  );\n  return (\n    <RichTextarea\n      style={style}\n      onChange={useCallback((e) => setText(e.target.value), [])}\n      value={text}\n    >\n      {basicRegex}\n    </RichTextarea>\n  );\n}"}},Basic.parameters),Search.parameters=Object.assign({storySource:{source:'() => {\n  const [text, setText] = useState(lorem);\n  const [searchText, setSearchText] = useState("dolor");\n  return (\n    <div>\n      <div>\n        <label htmlFor="search">input search word: </label>\n        <input\n          name="search"\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)}\n        />\n      </div>\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setText(e.target.value), [])}\n        value={text}\n      >\n        {searchText\n          ? createRegexRenderer([\n              [\n                new RegExp(\n                  searchText.replace(/[.*+?^${}()|[\\]\\\\]/g, "\\\\$&"),\n                  "ig"\n                ),\n                { borderRadius: "3px", backgroundColor: "yellow" },\n              ],\n            ])\n          : (v) => v}\n      </RichTextarea>\n    </div>\n  );\n}'}},Search.parameters),Many.parameters=Object.assign({storySource:{source:"() => {\n  const [text, setText] = useState(lorem);\n  return (\n    <RichTextarea\n      style={style}\n      onChange={useCallback((e) => setText(e.target.value), [])}\n      value={text}\n    >\n      {manyRegex}\n    </RichTextarea>\n  );\n}"}},Many.parameters),Emoji.parameters=Object.assign({storySource:{source:"() => {\n  const [text, setText] = useState(\n    `📫🔒🍳📶 💨🌠🐩🐅📀🍆 🎭🕖👆📱 🏮🌁🌍🏂📰🔓 🎻💟🐻👫🍇🌆🔻 🎬🍻🍋🎡💬🌓🐁 🐻🏭🐟👵🎋🐧 👵🎋🐲🍌 🍨🍪🕐🐳 💋💱🔹📁 📴💬📔🐁🌿 🕐🕝🎂🐳💌👃 🎹🌀💣👓👨💳 🎭🕧👖🌰🌽 🐮👾🌻👫🐉. 🍼🎓🐖🌿🍄 🍻🎂🔨👯💋📄🕦 🏆👟💜🎺📡📅🌙 🔠🍧💯🍓📪 🏪🌞🔼👅 🔼💭💐💲🕤📟 🐭📁🎼🔢📃🍅 🕐🎿🍬🐥🐐🎾📒 💛📶🐘🔺 💦👀🐔💔 🍨📤🐥🐃📊🏯🏃 🐕🐋👳🎈👎. 🐛🏂💔🐅🐃🍮🐀 🔷📫🌁👘🐁 👕📖🐂🍪📞 📦🌶🍌💑📗 🌈📜🎽🐈📀 🎃🕣🍯🌝👶 🍌💻💉💠💼 🎁👪🎠🎽🗾 🐡💏💢🌛👻💗💴. 🐺🐗🎅👮💓🎾 👄👦🔰💸 💏🐗🔭📼 🐢👧🍯🍷👋 🎡👖🌍🔽🕗 📰🌺🐦🐾 💋🕃🎭💩 🎣🍱🔔🔳. 📕🕘🔨🐸💖 🕠🌗📋💦 🔛🐄🐶🐽🍶🎇 🍁🏢🏪🐎🐕 🎰📞🐣🍇📂 🏈🏊💃💫🐥🌸 📪🍧💖🎳🍀 🔣🔝🔴🌅🔜👩 🍠🔯💎🏧 🐍💀🔠🐖📷🔖 🌗🕂🐙🎢👀🐯🍆 🏣👾🐚🔕📮💛👄 🍇🌰🎵👑🎬🌁 🔚🏁🎁🐝🍪🍛 🎾👓🐄🎿🕠🔙 🌹👀💧🔛👞.\n\n    🍷🕖🔷📙 🏢🎬🐂💤🐙🍠📐🔉 💑💑👰👔🔢🐾 💽🎽💛📡📭 🎧📘🔏🍁 👤🎲💛🍔🐚🏤🔥 🐕👋👘🌅🐐👴 🕘📭🏈🍁🔉💿 👰📈🔴🌸👨📻 👤🐡🐅👃🏁🎃 🐢🎻🕢🔢🌊🍤🍱 🐞👬💔💸🏀 🗻👿👠🐆💐💞 🔧🎑📂🐪👮🌚 👘📆🌷🐘. 🍜🐊🍇🔏🏥🕝🔫 💩🌓🌔💥 📨🐝🔭🗾🍙 🍞🎶🔘📌🕗📣🌈🍝 📏🎌📧💂🐶 🔯🎀💌🔫👠💺 👯🐭📵🍁 🐫👳🍜🌎 🍛🎱🍓🌎🍦🐔🎨 🔧🍤🎽🌒🍵 🔯🎓💂📩💄👯💏 🍔🍉🍍👋🍼🍏 🍸🍝🎳🍗💖🌁 🎫👿📲🔛📫 👖🌐🍱🌘🔻📘🏈 🔃📶🐢🏮. 🍌📁💈🔣🐑👩 💋👬👖🎋 💽🐈🍮🍰👚 🔓🔗🍋🐡👤🏨🔃🍫 🔔🎺🍍💡 👦🎦🔊🍛 🌃🔭🕧📖👋💦🎤 🕃🗼🌹📔🏩📲 🍋💿📰🌻 📉🔵🐅🍠. 🌳🐲🏡💽 🌎💟🎅🔃🎬🔹 🌆👞🌖📇💣🐡💩 🐂🐓🏥🌵👴 🏃🐴🔺🍑📩 🔣🔨👄🐅🏁 🏄🐎👵📤 🕗🔲👾🌲📒 🐺💉🎦📙💈 🏂🌃🏊📭 📳🎺🍕🔷🐖 🍓🎼💠🌽🏭🎃 🕤🍞💑🕣🌻🔺🍲 📎🐼💨🐎📈 🍳🍎🕜🌱 🌴🐐📕👈.\n    \n    🎱🐱🎭🔠🎃💡 🐬🌹👉🐒🎮🍵 🐌👃🐺💓👽 🍢👙📠👝📝 🍄💈🕀👹🍲🎒 🎳📯🎉🍚🌀🎣 👒🍡🎡📕 🐭💾🔯👙🗻📟 📝🔮📑👉💰🌎 💙🏡👙🍹🏦. 🔸👳🔜💨💝 📔🎍🏦🎬💭🎊 🍲🐰👥👟 🔕🎿🏣💕📔 🕘🔇🎱🏨💍 🔙🌋🏫📛👭🍎💒 👡🎈🎲📋💑 💴🔝🌋📃🎍 🍳🔙💇🍚🔮 🐥💚🕣🐎🔹🍩🎂 👠🗽💁🍁 💽💊🐯🐾 🎺🔥🔤📢🍵👣👓 🔻👃🌈🕡🍚🍱 🎬🔥🍙🔡. 💙🌘🔗📛💉🍮 🔖🏨👼🏊 💴🔗🍓📬🎂 💁💃🌷🕂🕂 🔺🔩💦🍤🌻🔆 🐐🎸💝🍓 🎆🔬🌶📧🐘 🐇🔝🔗🍕 🏮🌠📺🍸 🎡👴🔇💥👓 🎻👥💴🍖🏭💈 🐺📡🎋💨🍚👖 🎸🐌🌚🔷💢💁 💛📈👴🐅🔗.\n    \n    💕🎫🌝💢👾 🎌🕤🎧🐴📼 🍀📊🐡🌼🌀📳 🎰🐝🎤🍝👇🌄 💪🏀🍸🔁🐗🌖🍮 📎🍓🔴🐄🕡🔛🕕 🎱📏🐾🍇🔕 💧🍙🔂🎡 🕛💒👿🎼🔀 💛👦🌍📒📍🌄 👓🐽🏬🕦🔶 🍜📰🎋🍅🍝💜💫💈 🎨🌁🍗🎊🌳🐡📶 🎵🏠💚🗽🌉 🐕📱🕦📑 💩👤🕖🔖. 📍👋💁🌆🌜 🕔🐺🕀🔭 🌄🌆🏰💚📅📹🔀 🐰💴🕢🔎💹🎋 👥🔑🔯👗 🐶🎺📐💜🌂 🔲👦📬🍧🎶🍵 🐤🍢🐔🎩 🔂🐕💦🎤🍒🐣🔣 📙🔩📘💋🍧👺. 🕑💿🔫📶 🔮💏👀🎿📺📼💋 🐞👤📲🎆🏦🐪 💗🐸🏯🔳🍨 🕣🐀🗼🐂🐳 🍄🍮🍈📚🐄🎷🐄🍡 🍲🔕🔄💜🍉 🏆🍚🔠📠🍹👧. 🏧💻🕣👔👪 🌴📷💽🔼📃💼💲 📺🍪🍠👋🍶🍇 💭👡🍋🌏 💂🐁🍍🐶🎤💠🕟 🕚🌖🐺🔽🐟 🕃💏🐋🔟 🔼🎹🍤🍗🎽📷📚 🔜🌕📫💯 🐾🎻📶🎼🍐 💑👭👊🐖.🎇 🌲🎡🍉📕📥🎎🌒 🌈👂🐩💂🏯💠🍮 💵🔊🌻🕖🌽 📶💮💠🕜 🐟💃🐩🍚 🔪🐼🍺🐧🍆🏧. 💚🐗🍨🍼💙 💗🕜🐂💏 📀🎂🎿🔃👚🏦🐠 👃🍘📐📐🎲 💹🍨🎠🍤🐷 📊👔🕑🕂📍🐦 🍸🍦🕂💦🕜📪📤 🔑🎋👐🌅🌛 🐥📌🏯👮🐃🐟 👼🍙🎑👯🌁💅👝 👦🔥🌶👩🎀 🕠📲📤📆 💀🌉🔽🌗💚🔌. 📀🕀🐝👀📣 💄🍴🐱💶🍣 💴💗💠👜 🐖👖🐳👲🌟 🔢🎴👹🎅🌟🔞 🎭🏩🕓🔪 💶🎮🎧📳💁🐠 💥🎢👙👊🐑📺🌳 🎀🔶🐪🔛. 📼🎣🔼🍩🎥 🌂🌙📚📲🔩🏆 🎓📤🎡🌠 🔚🌌🔗🔠 🎧🎃🌞🐆🔈 🎅🎁🍢💁 📐🐓🐎🐵 🏆📡🕘📊👢 🌛💗🔂🌑🕝👛🍜 💳🎺📩🎫🎀🐅🍵 🏩🔕🏢🍁👘.`\n  );\n  return (\n    <RichTextarea\n      style={style}\n      onChange={useCallback((e) => setText(e.target.value), [])}\n      value={text}\n    >\n      {emojiRegex}\n    </RichTextarea>\n  );\n}"}},Emoji.parameters)},"./stories/segmenter.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Segmenter",(function(){return Segmenter}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"300px",height:"200px"},Segmenter=function Segmenter(){var _Intl,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)("すもももももももものうち。\n\n吾輩 （ わがはい ） は猫である。名前はまだ無い。"),2),text=_useState2[0],setText=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)("ja"),2),locale=_useState4[0],setLocale=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)("word"),2),granularity=_useState6[0],setGranularity=_useState6[1],hasSegmenter=!(null===(_Intl=Intl)||void 0===_Intl||!_Intl.Segmenter);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{children:[!hasSegmenter&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:"Intl.Segmenter is not supported in this browser."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("input",{value:locale,onChange:function onChange(e){return setLocale(e.target.value)}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("select",{value:granularity,onChange:function onChange(e){return setGranularity(e.target.value)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("option",{value:"grapheme",children:"grapheme"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("option",{value:"word",children:"word"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("option",{value:"sentence",children:"sentence"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_src__WEBPACK_IMPORTED_MODULE_13__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_12__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:function children(v){if(!hasSegmenter)return v;try{var _step,tokens=new Intl.Segmenter(locale,{granularity:granularity}).segment(v),nodes=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(tokens);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref=_step.value,segment=_ref.segment,index=_ref.index,isWordLike=_ref.isWordLike;nodes.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("span",{style:{background:isWordLike?"palegreen":void 0,outline:"solid 1px green"},children:segment},index))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nodes}catch(e){return v}}})]})};Segmenter.displayName="Segmenter",Segmenter.parameters=Object.assign({storySource:{source:'() => {\n  const [text, setText] = useState(\n    "すもももももももものうち。\\n\\n吾輩 （ わがはい ） は猫である。名前はまだ無い。"\n  );\n  const [locale, setLocale] = useState("ja");\n  const [granularity, setGranularity] = useState<string>("word");\n\n  const hasSegmenter = !!(Intl as any)?.Segmenter;\n  return (\n    <div>\n      {!hasSegmenter && (\n        <div>{"Intl.Segmenter is not supported in this browser."}</div>\n      )}\n      <div>\n        <input value={locale} onChange={(e) => setLocale(e.target.value)} />\n        <select\n          value={granularity}\n          onChange={(e) => setGranularity(e.target.value)}\n        >\n          <option value={"grapheme"}>grapheme</option>\n          <option value={"word"}>word</option>\n          <option value={"sentence"}>sentence</option>\n        </select>\n      </div>\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setText(e.target.value), [])}\n        value={text}\n      >\n        {(v) => {\n          if (!hasSegmenter) return v;\n\n          try {\n            const segmenter = new (Intl as any).Segmenter(locale, {\n              granularity,\n            });\n            const tokens = segmenter.segment(v);\n            const nodes: React.ReactElement[] = [];\n            for (const { segment, index, isWordLike } of tokens) {\n              nodes.push(\n                <span\n                  key={index}\n                  style={{\n                    background: isWordLike ? "palegreen" : undefined,\n                    outline: "solid 1px green",\n                  }}\n                >\n                  {segment}\n                </span>\n              );\n            }\n            return nodes;\n          } catch (e) {\n            return v;\n          }\n        }}\n      </RichTextarea>\n    </div>\n  );\n}'}},Segmenter.parameters)},"./stories/textlint.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Textlint",(function(){return Textlint}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react-dom/index.js"),_src__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/index.ts"),_textlint_kernel__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@textlint/kernel/module/src/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/react/jsx-runtime.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var kernel=new _textlint_kernel__WEBPACK_IMPORTED_MODULE_21__.a,options={ext:".txt",plugins:[{pluginId:"text",plugin:__webpack_require__("./node_modules/@textlint/textlint-plugin-text/module/src/index.js").default}],rules:[{ruleId:"sentence-length",rule:__webpack_require__("./node_modules/textlint-rule-sentence-length/lib/sentence-length.js").default},{ruleId:"no-nfd",rule:__webpack_require__("./node_modules/textlint-rule-no-nfd/lib/textlint-rule-no-nfd.js")},{ruleId:"no-invalid-control-character",rule:__webpack_require__("./node_modules/@textlint-rule/textlint-rule-no-invalid-control-character/lib/textlint-rule-no-invalid-control-character.js")},{ruleId:"no-zero-width-spaces",rule:__webpack_require__("./node_modules/textlint-rule-no-zero-width-spaces/lib/index.js").default},{ruleId:"no-kangxi-radicals",rule:__webpack_require__("./node_modules/textlint-rule-no-kangxi-radicals/lib/index.js").default}]};__webpack_exports__.default={title:"examples"};var style={width:"300px",height:"200px"},Mark=function Mark(_ref){var _ref$token=_ref.token,message=(_ref$token.column,_ref$token.message),children=(_ref$token.fix,_ref.children),ref=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(null),2),tooltip=_useState2[0],setShow=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("span",{ref:ref,style:{textDecoration:"underline dashed red"},onMouseOver:function onMouseOver(e){if(ref.current){var rect=ref.current.getBoundingClientRect();setShow({top:rect.top+window.pageYOffset-2*rect.height,left:rect.left+window.pageXOffset,description:message})}},onMouseOut:function onMouseOut(){return setShow(null)},children:[children,tooltip&&Object(react_dom__WEBPACK_IMPORTED_MODULE_19__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{style:{position:"fixed",top:tooltip.top,left:tooltip.left,background:"white",fontSize:16,padding:2,border:"solid 1px gray"},children:tooltip.description}),document.body)]})};Mark.displayName="Mark";var Textlint=function Textlint(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)("⾼齢者の活躍と地域における⽀えあいの推進。\nホ゜ケット エンシ゛ン\nテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテスト"),2),text=_useState4[0],setText=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)([]),2),tokens=_useState6[0],setTokens=_useState6[1];return Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){!function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var res;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,kernel.lintText(text,options);case 2:res=_context.sent,setTokens(res.messages);case 4:case"end":return _context.stop()}}),_callee)})))()}),[text]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{style:{marginTop:16},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(_src__WEBPACK_IMPORTED_MODULE_20__.a,{style:style,onChange:Object(react__WEBPACK_IMPORTED_MODULE_18__.useCallback)((function(e){return setText(e.target.value)}),[]),value:text,children:function children(v){if(!tokens.length)return v;var nodes=[],tokensByLine=tokens.reduce((function(acc,t){return acc[t.line]||(acc[t.line]=[]),acc[t.line].push(t),acc}),{});return v.split("\n").forEach((function(l,i){var res=[l];if(tokensByLine[i+1]){var _step,texts=[],prevEnd=0,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(tokensByLine[i+1]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var token=_step.value,start=token.column-1,end=start+1;texts.push(l.slice(prevEnd,start)),texts.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(Mark,{token:token,children:l.slice(start,end)},start)),prevEnd=end,start}}catch(err){_iterator.e(err)}finally{_iterator.f()}texts.push(l.slice(prevEnd)),res=texts}res.push(" "),nodes.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:res},i))})),nodes}})})};Textlint.displayName="Textlint",Textlint.parameters=Object.assign({storySource:{source:'() => {\n  const [text, setText] = useState(\n    "⾼齢者の活躍と地域における⽀えあいの\\u0019推進\\u0010。\\nホ゜ケット エンシ゛ン\\nテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテストテスト"\n  );\n\n  const [tokens, setTokens] = useState<TextlintMessage[]>([]);\n  useEffect(() => {\n    (async () => {\n      const res = await kernel.lintText(text, options);\n      setTokens(res.messages);\n    })();\n  }, [text]);\n  return (\n    <div style={{ marginTop: 16 }}>\n      <RichTextarea\n        style={style}\n        onChange={useCallback((e) => setText(e.target.value), [])}\n        value={text}\n      >\n        {(v) => {\n          if (!tokens.length) return v;\n          const nodes: (React.ReactElement | string)[] = [];\n          const tokensByLine = tokens.reduce((acc, t) => {\n            if (!acc[t.line]) acc[t.line] = [];\n            acc[t.line].push(t);\n            return acc;\n          }, {} as { [key: number]: TextlintMessage[] });\n          v.split("\\n").forEach((l, i) => {\n            let res: (React.ReactElement | string)[] = [l];\n            if (tokensByLine[i + 1]) {\n              const texts: (React.ReactElement | string)[] = [];\n              let prevEnd = 0;\n              let prevStart = 0;\n              for (const token of tokensByLine[i + 1]) {\n                const start = token.column - 1;\n                const end = start + 1;\n                texts.push(l.slice(prevEnd, start));\n                texts.push(\n                  <Mark key={start} token={token}>\n                    {l.slice(start, end)}\n                  </Mark>\n                );\n                prevEnd = end;\n                prevStart = start;\n              }\n              texts.push(l.slice(prevEnd));\n              res = texts;\n            }\n            res.push(" ");\n            nodes.push(<div key={i}>{res}</div>);\n          });\n\n          return nodes;\n        }}\n      </RichTextarea>\n    </div>\n  );\n}'}},Textlint.parameters)},"./stories/toolbar.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Toolbar",(function(){return Toolbar}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-dom/index.js"),_src__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"examples"};var style={width:"400px",height:"300px"},Toolbar=function Toolbar(){var ref=Object(react__WEBPACK_IMPORTED_MODULE_12__.useRef)(null),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)("Select text and click any button.\n\n"),2),text=_useState2[0],setText=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)([]),2),_useState4$=_slicedToArray(_useState4[0],3),selectionStart=_useState4$[0],selectionEnd=_useState4$[1],pos=_useState4$[2],setSelection=_useState4[1],disabled=null==selectionStart||null==selectionEnd||selectionStart===selectionEnd;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{style:{position:"relative",paddingTop:16},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_src__WEBPACK_IMPORTED_MODULE_14__.a,{ref:ref,value:text,style:style,onChange:function onChange(e){return setText(e.target.value)},onBlur:function onBlur(){ref.current.setSelectionRange(0,0),ref.current.blur()},onSelectionChange:function onSelectionChange(p){setSelection([p.selectionStart,p.selectionEnd,p.focused?{top:p.top-1.5*p.height,left:p.left}:void 0])}}),pos&&!disabled&&Object(react_dom__WEBPACK_IMPORTED_MODULE_13__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{style:{position:"fixed",top:pos.top,left:pos.left},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{disabled:disabled,onMouseDown:function onMouseDown(){var start=ref.current.selectionStart,end=ref.current.selectionEnd;ref.current.setRangeText("**"+text.slice(start,end)+"**",start,end)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("b",{children:"B"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{disabled:disabled,onMouseDown:function onMouseDown(){var start=ref.current.selectionStart,end=ref.current.selectionEnd;ref.current.setRangeText("*"+text.slice(start,end)+"*",start,end)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("i",{children:"I"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("button",{disabled:disabled,onMouseDown:function onMouseDown(){var start=ref.current.selectionStart,end=ref.current.selectionEnd;ref.current.setRangeText("~~"+text.slice(start,end)+"~~",start,end)},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("s",{children:"S"})})]}),document.body)]})};Toolbar.displayName="Toolbar",Toolbar.parameters=Object.assign({storySource:{source:'() => {\n  const ref = useRef<RichTextareaHandle>(null);\n  const [text, setText] = useState(`Select text and click any button.\\n\\n`);\n  const [[selectionStart, selectionEnd, pos], setSelection] = useState<\n    [number, number, { top: number; left: number }] | []\n  >([]);\n  const disabled =\n    selectionStart == null ||\n    selectionEnd == null ||\n    selectionStart === selectionEnd;\n\n  return (\n    <div style={{ position: "relative", paddingTop: 16 }}>\n      <RichTextarea\n        ref={ref}\n        value={text}\n        style={style}\n        onChange={(e) => setText(e.target.value)}\n        onBlur={() => {\n          ref.current.setSelectionRange(0, 0);\n          ref.current.blur();\n        }}\n        onSelectionChange={(p) => {\n          setSelection([\n            p.selectionStart,\n            p.selectionEnd,\n            p.focused\n              ? {\n                  top: p.top - p.height * 1.5 /* FIXME */,\n                  left: p.left,\n                }\n              : undefined,\n          ]);\n        }}\n      />\n      {pos &&\n        !disabled &&\n        createPortal(\n          <div\n            style={{\n              position: "fixed",\n              top: pos.top,\n              left: pos.left,\n            }}\n          >\n            <button\n              disabled={disabled}\n              onMouseDown={() => {\n                const start = ref.current.selectionStart;\n                const end = ref.current.selectionEnd;\n                ref.current.setRangeText(\n                  `**${text.slice(start, end)}**`,\n                  start,\n                  end\n                );\n              }}\n            >\n              <b>B</b>\n            </button>\n            <button\n              disabled={disabled}\n              onMouseDown={() => {\n                const start = ref.current.selectionStart;\n                const end = ref.current.selectionEnd;\n                ref.current.setRangeText(\n                  `*${text.slice(start, end)}*`,\n                  start,\n                  end\n                );\n              }}\n            >\n              <i>I</i>\n            </button>\n            <button\n              disabled={disabled}\n              onMouseDown={() => {\n                const start = ref.current.selectionStart;\n                const end = ref.current.selectionEnd;\n                ref.current.setRangeText(\n                  `~~${text.slice(start, end)}~~`,\n                  start,\n                  end\n                );\n              }}\n            >\n              <s>S</s>\n            </button>\n          </div>,\n          document.body\n        )}\n    </div>\n  );\n}'}},Toolbar.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);