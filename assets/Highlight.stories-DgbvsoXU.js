import{j as E}from"./jsx-runtime-Dp96wDEE.js";import{a as ne,g as re,r as B}from"./iframe-e0PEXjEq.js";import{L as ie}from"./mocks-Di3JMOQr.js";import{R as J}from"./textarea-B8ORlT-g.js";import"./preload-helper-D9Z9MdNV.js";import"./observer-C1Yv_ZWd.js";var M={exports:{}},G;function se(){return G||(G=1,(function(R){R.exports=(function(c){var o={};function i(t){if(o[t])return o[t].exports;var s=o[t]={exports:{},id:t,loaded:!1};return c[t].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=c,i.c=o,i.p="",i(0)})([(function(c,o,i){c.exports=i(1)}),(function(c,o,i){Object.defineProperty(o,"__esModule",{value:!0});function t(l){return l&&l.__esModule?l:{default:l}}var s=i(2),u=t(s);o.default=u.default,c.exports=o.default}),(function(c,o,i){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};o.default=h;function s(e){return e&&e.__esModule?e:{default:e}}function u(e,r){var n={};for(var a in e)r.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var l=i(3),m=i(4),T=i(5),f=s(T);function h(e){var r=e.activeClassName,n=r===void 0?"":r,a=e.activeIndex,g=a===void 0?-1:a,v=e.activeStyle,p=e.autoEscape,d=e.caseSensitive,x=d===void 0?!1:d,H=e.className,j=e.findChunks,N=e.highlightClassName,S=N===void 0?"":N,$=e.highlightStyle,L=$===void 0?{}:$,k=e.highlightTag,K=k===void 0?"mark":k,Q=e.sanitize,U=e.searchWords,q=e.textToHighlight,w=e.unhighlightTag,V=w===void 0?"span":w,W=e.unhighlightClassName,X=W===void 0?"":W,Y=e.unhighlightStyle,Z=u(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),ee=(0,l.findAll)({autoEscape:p,caseSensitive:x,findChunks:j,sanitize:Q,searchWords:U,textToHighlight:q}),_=K,z=-1,F="",I=void 0,te=function(b){var C={};for(var y in b)C[y.toLowerCase()]=b[y];return C},ae=(0,f.default)(te);return(0,m.createElement)("span",t({className:H},Z,{children:ee.map(function(O,b){var C=q.substr(O.start,O.end-O.start);if(O.highlight){z++;var y=void 0;typeof S=="object"?x?y=S[C]:(S=ae(S),y=S[C.toLowerCase()]):y=S;var A=z===+g;F=y+" "+(A?n:""),I=A===!0&&v!=null?Object.assign({},L,v):L;var D={children:C,className:F,key:b,style:I};return typeof _!="string"&&(D.highlightIndex=z),(0,m.createElement)(_,D)}else return(0,m.createElement)(V,{children:C,className:X,key:b,style:Y})})}))}c.exports=o.default}),(function(c,o){c.exports=(function(i){var t={};function s(u){if(t[u])return t[u].exports;var l=t[u]={exports:{},id:u,loaded:!1};return i[u].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}return s.m=i,s.c=t,s.p="",s(0)})([(function(i,t,s){i.exports=s(1)}),(function(i,t,s){Object.defineProperty(t,"__esModule",{value:!0});var u=s(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return u.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return u.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return u.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return u.findChunks}})}),(function(i,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(h){var e=h.autoEscape,r=h.caseSensitive,n=r===void 0?!1:r,a=h.findChunks,g=a===void 0?u:a,v=h.sanitize,p=h.searchWords,d=h.textToHighlight;return l({chunksToHighlight:s({chunks:g({autoEscape:e,caseSensitive:n,sanitize:v,searchWords:p,textToHighlight:d})}),totalLength:d?d.length:0})};var s=t.combineChunks=function(h){var e=h.chunks;return e=e.sort(function(r,n){return r.start-n.start}).reduce(function(r,n){if(r.length===0)return[n];var a=r.pop();if(n.start<=a.end){var g=Math.max(a.end,n.end);r.push({start:a.start,end:g})}else r.push(a,n);return r},[]),e},u=function(h){var e=h.autoEscape,r=h.caseSensitive,n=h.sanitize,a=n===void 0?m:n,g=h.searchWords,v=h.textToHighlight;return v=a(v),g.filter(function(p){return p}).reduce(function(p,d){d=a(d),e&&(d=T(d));for(var x=new RegExp(d,r?"g":"gi"),H=void 0;H=x.exec(v);){var j=H.index,N=x.lastIndex;N>j&&p.push({start:j,end:N}),H.index==x.lastIndex&&x.lastIndex++}return p},[])};t.findChunks=u;var l=t.fillInChunks=function(h){var e=h.chunksToHighlight,r=h.totalLength,n=[],a=function(p,d,x){d-p>0&&n.push({start:p,end:d,highlight:x})};if(e.length===0)a(0,r,!1);else{var g=0;e.forEach(function(v){a(g,v.start,!1),a(v.start,v.end,!0),g=v.end}),a(g,r,!1)}return n};function m(f){return f}function T(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}})])}),(function(c,o){c.exports=ne()}),(function(c,o){var i=function(u,l){return u===l};function t(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,l=void 0,m=[],T=void 0,f=!1,h=function(n,a){return u(n,m[a])},e=function(){for(var n=arguments.length,a=Array(n),g=0;g<n;g++)a[g]=arguments[g];return f&&l===this&&a.length===m.length&&a.every(h)||(f=!0,l=this,m=a,T=s.apply(this,a)),T};return e}c.exports=t})])})(M)),M.exports}var le=se();const ue=re(le),pe={component:J},he={width:"600px",height:"400px"},P={render:()=>{const[R,c]=B.useState(ie),[o,i]=B.useState("dolor");return E.jsxs("div",{children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"search",children:"input search word: "}),E.jsx("input",{name:"search",value:o,onChange:t=>i(t.target.value)})]}),E.jsx(J,{style:he,onChange:t=>c(t.target.value),value:R,children:t=>E.jsx(ue,{searchWords:o.split(" "),autoEscape:!0,textToHighlight:t})})]})}};P.parameters={...P.parameters,docs:{...P.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [text, setText] = useState(LOREM);
    const [searchText, setSearchText] = useState("dolor");
    return <div>
        <div>
          <label htmlFor="search">input search word: </label>
          <input name="search" value={searchText} onChange={e => setSearchText(e.target.value)} />
        </div>
        <RichTextarea style={style} onChange={e => setText(e.target.value)} value={text}>
          {v => <Highlighter searchWords={searchText.split(" ")} autoEscape={true} textToHighlight={v} />}
        </RichTextarea>
      </div>;
  }
}`,...P.parameters?.docs?.source}}};const me=["Highlight"];export{P as Highlight,me as __namedExportsOrder,pe as default};
