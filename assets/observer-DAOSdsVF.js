import{r as T}from"./iframe-Cl4hEd6m.js";import{j as A}from"./jsx-runtime-LTdcGt0a.js";const{min:C,max:U}=Math,m="current",K=A.jsx("span",{style:{color:"transparent"},children:"â€‹"});function $(t,e,n,s){var d=t.ownerDocument;s||(s=d.createRange());let c=d.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1),o={},r={},u,S,f;for(;u=c.nextNode();)S=u.nodeValue,f=S.length,!o.node&&f>e&&(o.node=u,o.offset=e),!r.node&&f>=n&&(r.node=u,r.offset=n),e-=f,n-=f;return o.node&&s.setStart(o.node,U(o.offset,0)),r.node&&s.setEnd(r.node,U(r.offset,0)),s}const k=()=>{if(typeof navigator>"u")return!1;const t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>-1&&t.indexOf("chrome")<=-1},N=["direction","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight","border","borderWidth","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderStyle","borderTopStyle","borderBottomStyle","borderLeftStyle","borderRightStyle","fontSize","fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSizeAdjust","textAlign","textTransform","textIndent","letterSpacing","wordSpacing","lineHeight","whiteSpace","wordBreak","overflowWrap","tabSize","MozTabSize"],y=(t,e)=>t.getPropertyValue(e),E=(t,e,n)=>{t.setProperty(e,n)},p=(t,e)=>{const n=y(t,e);return n?parseInt(n,10):0},w=t=>getComputedStyle(t),q=t=>typeof t=="string"&&t.endsWith("%"),j=t=>p(t,"padding-top")+p(t,"padding-bottom")+p(t,"border-top")+p(t,"border-bottom"),F=t=>p(t,"padding-left")+p(t,"padding-right")+p(t,"border-left")+p(t,"border-right"),v=(t,e,n)=>{const s="pointer-events",d=t.style,c=e.style,o=y(d,s),r=y(c,s);E(d,s,"none"),E(c,s,"auto");const u=document.elementFromPoint(n.clientX,n.clientY);return E(d,s,o),E(c,s,r),D(u,e)?u:null},D=(t,e)=>!!t&&e!==t&&e.contains(t),O=(t,e,n)=>{t.dispatchEvent(new MouseEvent(e,n))},b=(t,e)=>{O(t,e.type,e)},X=(t,e,n)=>{t&&b(t,n),e!==t&&(M(e,n),t&&O(t,"mouseover",n))},M=(t,e)=>{t&&O(t,"mouseout",e)},G=t=>{t.stopPropagation()},J=(t,e,n,s)=>{const d=w(t),c=t.style,o=e.style;n[m]||(n[m]=y(d,"color")),N.forEach(r=>{o[r]=d[r]}),c.color=o.borderColor="transparent",c.caretColor=(s==null?void 0:s.caretColor)||n[m]},a=(t,e,n)=>(t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}),Q=(t,e)=>{let n=[null,null],s;const d=()=>{const o=c._getSelectionStart(),r=c._getSelectionEnd();return n[0]===o&&n[1]===r||(n=[o,r]),n},c={_updateSeletion(){setTimeout(()=>{e(d())})},_setComposition(o){s=o},_getSelectionStart(){const o=t[m];if(!o)return 0;const r=o.selectionStart;return s?C(r,o.selectionEnd-s.data.length):r},_getSelectionEnd(){const o=t[m];if(!o)return 0;const r=o.selectionEnd;return s?C(r,o.selectionStart+s.data.length):r}};return c},Z=typeof window<"u"?T.useLayoutEffect:T.useEffect,x=t=>{const e=T.useRef(void 0);return e[m]||(e[m]=t())},tt=(t,e,n,s,d)=>{let c=null;const o=new ResizeObserver(([i])=>{const{contentRect:{width:l,height:g},borderBoxSize:h}=i;if(h&&h[0]){s([l,g,h[0].inlineSize-l,h[0].blockSize-g]);return}const _=w(t);s([l,g,F(_),j(_)])}),r=a(t,"focus",()=>{d(!0)}),u=a(t,"blur",()=>{d(!1)}),S=a(t,"scroll",()=>{const{scrollTop:i,scrollLeft:l}=t;e.style.transform=`translate(${-l}px, ${-i}px)`}),f=a(t,"mousedown",i=>{n._updateSeletion();const l=a(document,"mouseup",()=>{n._updateSeletion(),l()}),g=v(t,e,i);g&&b(g,i)}),L=a(t,"mouseup",i=>{const l=v(t,e,i);l&&b(l,i)}),P=a(t,"mousemove",i=>{const l=v(t,e,i);X(l,c,i),c=l}),R=a(t,"mouseleave",i=>{M(c,i),c=null}),z=a(t,"click",i=>{const l=v(t,e,i);l&&b(l,i)}),B=a(t,"input",()=>{n._updateSeletion()}),W=a(t,"compositionstart",i=>{n._setComposition(i)}),I=a(t,"compositionupdate",i=>{n._setComposition(i)}),V=a(t,"compositionend",()=>{n._setComposition()});return o.observe(t),()=>{r(),u(),S(),f(),L(),P(),R(),z(),B(),W(),I(),V(),o.disconnect()}};export{K as C,$ as R,Z as a,J as b,tt as c,Q as d,q as h,k as i,m as r,G as s,x as u};
