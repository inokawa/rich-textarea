import{a as gr,j as z}from"./useStatic-0a5cdcfd.js";import{R as w}from"./index-90fda323.js";import{R as Qe}from"./textarea-9843bea7.js";var re=e=>e.type==="checkbox",X=e=>e instanceof Date,p=e=>e==null;const Xe=e=>typeof e=="object";var E=e=>!p(e)&&!Array.isArray(e)&&Xe(e)&&!X(e),Ye=e=>E(e)&&e.target?re(e.target)?e.target.checked:e.target.value:e,vr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ze=(e,t)=>e.has(vr(t)),te=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,c=(e,t,r)=>{if(!t||!E(e))return r;const i=te(t.split(/[,[\].]+?/)).reduce((o,a)=>p(o)?o:o[a],e);return k(i)||i===e?k(e[t])?r:e[t]:i};const ce={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},P={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},H={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},br=w.createContext(null),Ce=()=>w.useContext(br);var er=(e,t,r,i=!0)=>{const o={};for(const a in e)Object.defineProperty(o,a,{get:()=>{const y=a;return t[y]!==P.all&&(t[y]=!i||P.all),r&&(r[y]=!0),e[y]}});return o},O=e=>E(e)&&!Object.keys(e).length,rr=(e,t,r)=>{const{name:i,...o}=e;return O(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||P.all))},ae=e=>Array.isArray(e)?e:[e],tr=(e,t,r)=>r&&t?e===t:!e||!t||e===t||ae(e).some(i=>i&&(i.startsWith(t)||t.startsWith(i)));function Ee(e){const t=w.useRef(e);t.current=e,w.useEffect(()=>{const r=o=>{o&&o.unsubscribe()},i=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>r(i)},[e.disabled])}function mr(e){const t=Ce(),{control:r=t.control,disabled:i,name:o,exact:a}=e||{},[y,h]=w.useState(r._formState),F=w.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),_=w.useRef(o),A=w.useRef(!0);_.current=o;const m=w.useCallback(v=>A.current&&tr(_.current,v.name,a)&&rr(v,F.current)&&h({...r._formState,...v}),[r,a]);return Ee({disabled:i,callback:m,subject:r._subjects.state}),w.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]),er(y,r._proxyFormState,F.current,!1)}var N=e=>typeof e=="string",sr=(e,t,r,i)=>{const o=Array.isArray(e);return N(e)?(i&&t.watch.add(e),c(r,e)):o?e.map(a=>(i&&t.watch.add(a),c(r,a))):(i&&(t.watchAll=!0),r)},ge=e=>typeof e=="function",pe=e=>{for(const t in e)if(ge(e[t]))return!0;return!1};function _r(e){const t=Ce(),{control:r=t.control,name:i,defaultValue:o,disabled:a,exact:y}=e||{},h=w.useRef(i);h.current=i;const F=w.useCallback(m=>{if(tr(h.current,m.name,y)){const v=sr(h.current,r._names,m.values||r._formValues);A(k(h.current)||E(v)&&!pe(v)?{...v}:Array.isArray(v)?[...v]:k(v)?o:v)}},[r,y,o]);Ee({disabled:a,subject:r._subjects.watch,callback:F});const[_,A]=w.useState(k(o)?r._getWatch(i):o);return w.useEffect(()=>{r._removeUnmounted()}),_}function Fr(e){const t=Ce(),{name:r,control:i=t.control,shouldUnregister:o}=e,a=Ze(i._names.array,r),y=_r({control:i,name:r,defaultValue:c(i._formValues,r,c(i._defaultValues,r,e.defaultValue)),exact:!0}),h=mr({control:i,name:r}),F=w.useRef(i.register(r,{...e.rules,value:y}));return w.useEffect(()=>{const _=(A,m)=>{const v=c(i._fields,A);v&&(v._f.mount=m)};return _(r,!0),()=>{const A=i._options.shouldUnregister||o;(a?A&&!i._stateFlags.action:A)?i.unregister(r):_(r,!1)}},[r,i,a,o]),{field:{name:r,value:y,onChange:w.useCallback(_=>{F.current.onChange({target:{value:Ye(_),name:r},type:ce.CHANGE})},[r]),onBlur:w.useCallback(()=>{F.current.onBlur({target:{value:c(i._formValues,r),name:r},type:ce.BLUR})},[r,i]),ref:w.useCallback(_=>{const A=c(i._fields,r);_&&A&&_.focus&&(A._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:m=>_.setCustomValidity(m),reportValidity:()=>_.reportValidity()})},[r,i._fields])},formState:h,fieldState:Object.defineProperties({},{invalid:{get:()=>!!c(h.errors,r)},isDirty:{get:()=>!!c(h.dirtyFields,r)},isTouched:{get:()=>!!c(h.touchedFields,r)},error:{get:()=>c(h.errors,r)}})}}const xr=e=>e.render(Fr(e));var Ar=(e,t,r,i,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},Re=e=>/^\w*$/.test(e),ir=e=>te(e.replace(/["|']|\]/g,"").split(/\.|\[/));function V(e,t,r){let i=-1;const o=Re(t)?[t]:ir(t),a=o.length,y=a-1;for(;++i<a;){const h=o[i];let F=r;if(i!==y){const _=e[h];F=E(_)||Array.isArray(_)?_:isNaN(+o[i+1])?{}:[]}e[h]=F,e=e[h]}return e}const ke=(e,t,r)=>{for(const i of r||Object.keys(e)){const o=c(e,i);if(o){const{_f:a,...y}=o;if(a&&t(a.name)){if(a.ref.focus&&k(a.ref.focus()))break;if(a.refs){a.refs[0].focus();break}}else E(y)&&ke(y,t)}}};var Ne=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length)))),Vr=(e,t,r)=>{const i=te(c(e,r));return V(i,"root",t[r]),V(e,r,i),e},fe=e=>typeof e=="boolean",Te=e=>e.type==="file",ue=e=>N(e)||w.isValidElement(e),Le=e=>e.type==="radio",de=e=>e instanceof RegExp;const qe={value:!1,isValid:!1},Ie={value:!0,isValid:!0};var nr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ie:{value:e[0].value,isValid:!0}:Ie:qe}return qe};const He={isValid:!1,value:null};var or=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,He):He;function We(e,t,r="validate"){if(ue(e)||Array.isArray(e)&&e.every(ue)||fe(e)&&!e)return{type:r,message:ue(e)?e:"",ref:t}}var Q=e=>E(e)&&!de(e)?e:{value:e,message:""},je=async(e,t,r,i,o)=>{const{ref:a,refs:y,required:h,maxLength:F,minLength:_,min:A,max:m,pattern:v,validate:W,name:U,valueAsNumber:se,mount:ve,disabled:j}=e._f;if(!ve||j)return{};const q=y?y[0]:a,I=b=>{i&&q.reportValidity&&(q.setCustomValidity(fe(b)?"":b||" "),q.reportValidity())},D={},Z=Le(a),ie=re(a),$=Z||ie,G=(se||Te(a))&&!a.value||t===""||Array.isArray(t)&&!t.length,B=Ar.bind(null,U,r,D),ne=(b,x,C,T=H.maxLength,M=H.minLength)=>{const J=b?x:C;D[U]={type:b?T:M,message:J,ref:a,...B(b?T:M,J)}};if(o?!Array.isArray(t)||!t.length:h&&(!$&&(G||p(t))||fe(t)&&!t||ie&&!nr(y).isValid||Z&&!or(y).isValid)){const{value:b,message:x}=ue(h)?{value:!!h,message:h}:Q(h);if(b&&(D[U]={type:H.required,message:x,ref:q,...B(H.required,x)},!r))return I(x),D}if(!G&&(!p(A)||!p(m))){let b,x;const C=Q(m),T=Q(A);if(!p(t)&&!isNaN(t)){const M=a.valueAsNumber||+t;p(C.value)||(b=M>C.value),p(T.value)||(x=M<T.value)}else{const M=a.valueAsDate||new Date(t);N(C.value)&&(b=M>new Date(C.value)),N(T.value)&&(x=M<new Date(T.value))}if((b||x)&&(ne(!!b,C.message,T.message,H.max,H.min),!r))return I(D[U].message),D}if((F||_)&&!G&&(N(t)||o&&Array.isArray(t))){const b=Q(F),x=Q(_),C=!p(b.value)&&t.length>b.value,T=!p(x.value)&&t.length<x.value;if((C||T)&&(ne(C,b.message,x.message),!r))return I(D[U].message),D}if(v&&!G&&N(t)){const{value:b,message:x}=Q(v);if(de(b)&&!t.match(b)&&(D[U]={type:H.pattern,message:x,ref:a,...B(H.pattern,x)},!r))return I(x),D}if(W){if(ge(W)){const b=await W(t),x=We(b,q);if(x&&(D[U]={...x,...B(H.validate,x.message)},!r))return I(x.message),D}else if(E(W)){let b={};for(const x in W){if(!O(b)&&!r)break;const C=We(await W[x](t),q,x);C&&(b={...C,...B(x,C.message)},I(C.message),r&&(D[U]=b))}if(!O(b)&&(D[U]={ref:q,...b},!r))return D}}return I(!0),D},Se=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function K(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Se&&(e instanceof Blob||e instanceof FileList))&&(r||E(e))){t=r?[]:{};for(const i in e){if(ge(e[i])){t=e;break}t[i]=K(e[i])}}else return e;return t}var $e=e=>({isOnSubmit:!e||e===P.onSubmit,isOnBlur:e===P.onBlur,isOnChange:e===P.onChange,isOnAll:e===P.all,isOnTouch:e===P.onTouched});function wr(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=k(e)?i++:e[t[i++]];return e}function kr(e){for(const t in e)if(!k(e[t]))return!1;return!0}function R(e,t){const r=Re(t)?[t]:ir(t),i=r.length==1?e:wr(e,r),o=r[r.length-1];let a;i&&delete i[o];for(let y=0;y<r.slice(0,-1).length;y++){let h=-1,F;const _=r.slice(0,-(y+1)),A=_.length-1;for(y>0&&(a=e);++h<_.length;){const m=_[h];F=F?F[m]:e[m],A===h&&(E(F)&&O(F)||Array.isArray(F)&&kr(F))&&(a?delete a[m]:delete e[m]),a=F}}return e}function xe(){let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}}var ye=e=>p(e)||!Xe(e);function Y(e,t){if(ye(e)||ye(t))return e===t;if(X(e)&&X(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const y=t[o];if(X(a)&&X(y)||E(a)&&E(y)||Array.isArray(a)&&Array.isArray(y)?!Y(a,y):a!==y)return!1}}return!0}var De=e=>{const t=e?e.ownerDocument:0,r=t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement;return e instanceof r},lr=e=>e.type==="select-multiple",Sr=e=>Le(e)||re(e),Ae=e=>De(e)&&e.isConnected;function he(e,t={}){const r=Array.isArray(e);if(E(e)||r)for(const i in e)Array.isArray(e[i])||E(e[i])&&!pe(e[i])?(t[i]=Array.isArray(e[i])?[]:{},he(e[i],t[i])):p(e[i])||(t[i]=!0);return t}function ar(e,t,r){const i=Array.isArray(e);if(E(e)||i)for(const o in e)Array.isArray(e[o])||E(e[o])&&!pe(e[o])?k(t)||ye(r[o])?r[o]=Array.isArray(e[o])?he(e[o],[]):{...he(e[o])}:ar(e[o],p(t)?{}:t[o],r[o]):r[o]=!Y(e[o],t[o]);return r}var Ve=(e,t)=>ar(e,t,he(t)),ur=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>k(e)?e:t?e===""||p(e)?NaN:+e:r&&N(e)?new Date(e):i?i(e):e;function we(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Te(t)?t.files:Le(t)?or(e.refs).value:lr(t)?[...t.selectedOptions].map(({value:r})=>r):re(t)?nr(e.refs).value:ur(k(t.value)?e.ref.value:t.value,e)}var Dr=(e,t,r,i)=>{const o={};for(const a of e){const y=c(t,a);y&&V(o,a,y._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},ee=e=>k(e)?void 0:de(e)?e.source:E(e)?de(e.value)?e.value.source:e.value:e,Cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Je(e,t,r){const i=c(e,r);if(i||Re(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),y=c(t,a),h=c(e,a);if(y&&!Array.isArray(y)&&r!==a)return{name:r};if(h&&h.type)return{name:a,error:h};o.pop()}return{name:r}}var Er=(e,t,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,pr=(e,t)=>!te(c(e,t)).length&&R(e,t);const Rr={mode:P.onSubmit,reValidateMode:P.onChange,shouldFocusError:!0};function Tr(e={}){let t={...Rr,...e},r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=K(t.defaultValues)||{},a=t.shouldUnregister?{}:K(o),y={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F,_=0,A={};const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:xe(),array:xe(),state:xe()},W=$e(t.mode),U=$e(t.reValidateMode),se=t.criteriaMode===P.all,ve=s=>n=>{clearTimeout(_),_=window.setTimeout(s,n)},j=async s=>{let n=!1;return m.isValid&&(n=t.resolver?O((await $()).errors):await B(i,!0),!s&&n!==r.isValid&&(r.isValid=n,v.state.next({isValid:n}))),n},q=(s,n=[],l,f,d=!0,u=!0)=>{if(f&&l){if(y.action=!0,u&&Array.isArray(c(i,s))){const g=l(c(i,s),f.argA,f.argB);d&&V(i,s,g)}if(m.errors&&u&&Array.isArray(c(r.errors,s))){const g=l(c(r.errors,s),f.argA,f.argB);d&&V(r.errors,s,g),pr(r.errors,s)}if(m.touchedFields&&u&&Array.isArray(c(r.touchedFields,s))){const g=l(c(r.touchedFields,s),f.argA,f.argB);d&&V(r.touchedFields,s,g)}m.dirtyFields&&(r.dirtyFields=Ve(o,a)),v.state.next({isDirty:b(s,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(a,s,n)},I=(s,n)=>{V(r.errors,s,n),v.state.next({errors:r.errors})},D=(s,n,l,f)=>{const d=c(i,s);if(d){const u=c(a,s,k(l)?c(o,s):l);k(u)||f&&f.defaultChecked||n?V(a,s,n?u:we(d._f)):T(s,u),y.mount&&j()}},Z=(s,n,l,f,d)=>{let u=!1;const g={name:s},S=c(r.touchedFields,s);if(m.isDirty){const L=r.isDirty;r.isDirty=g.isDirty=b(),u=L!==g.isDirty}if(m.dirtyFields&&(!l||f)){const L=c(r.dirtyFields,s);Y(c(o,s),n)?R(r.dirtyFields,s):V(r.dirtyFields,s,!0),g.dirtyFields=r.dirtyFields,u=u||L!==c(r.dirtyFields,s)}return l&&!S&&(V(r.touchedFields,s,l),g.touchedFields=r.touchedFields,u=u||m.touchedFields&&S!==l),u&&d&&v.state.next(g),u?g:{}},ie=async(s,n,l,f)=>{const d=c(r.errors,s),u=m.isValid&&r.isValid!==n;if(e.delayError&&l?(F=ve(()=>I(s,l)),F(e.delayError)):(clearTimeout(_),F=null,l?V(r.errors,s,l):R(r.errors,s)),(l?!Y(d,l):d)||!O(f)||u){const g={...f,...u?{isValid:n}:{},errors:r.errors,name:s};r={...r,...g},v.state.next(g)}A[s]--,m.isValidating&&!Object.values(A).some(g=>g)&&(v.state.next({isValidating:!1}),A={})},$=async s=>t.resolver?await t.resolver({...a},t.context,Dr(s||h.mount,i,t.criteriaMode,t.shouldUseNativeValidation)):{},G=async s=>{const{errors:n}=await $();if(s)for(const l of s){const f=c(n,l);f?V(r.errors,l,f):R(r.errors,l)}else r.errors=n;return n},B=async(s,n,l={valid:!0})=>{for(const f in s){const d=s[f];if(d){const{_f:u,...g}=d;if(u){const S=h.array.has(u.name),L=await je(d,c(a,u.name),se,t.shouldUseNativeValidation,S);if(L[u.name]&&(l.valid=!1,n))break;!n&&(c(L,u.name)?S?Vr(r.errors,L,u.name):V(r.errors,u.name,L[u.name]):R(r.errors,u.name))}g&&await B(g,n,l)}}return l.valid},ne=()=>{for(const s of h.unMount){const n=c(i,s);n&&(n._f.refs?n._f.refs.every(l=>!Ae(l)):!Ae(n._f.ref))&&me(s)}h.unMount=new Set},b=(s,n)=>(s&&n&&V(a,s,n),!Y(Ue(),o)),x=(s,n,l)=>{const f={...y.mount?a:k(n)?o:N(s)?{[s]:n}:n};return sr(s,h,f,l)},C=s=>te(c(y.mount?a:o,s,e.shouldUnregister?c(o,s,[]):[])),T=(s,n,l={})=>{const f=c(i,s);let d=n;if(f){const u=f._f;u&&(!u.disabled&&V(a,s,ur(n,u)),d=Se&&De(u.ref)&&p(n)?"":n,lr(u.ref)?[...u.ref.options].forEach(g=>g.selected=d.includes(g.value)):u.refs?re(u.ref)?u.refs.length>1?u.refs.forEach(g=>!g.disabled&&(g.checked=Array.isArray(d)?!!d.find(S=>S===g.value):d===g.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(g=>g.checked=g.value===d):Te(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||v.watch.next({name:s})))}(l.shouldDirty||l.shouldTouch)&&Z(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&be(s)},M=(s,n,l)=>{for(const f in n){const d=n[f],u=`${s}.${f}`,g=c(i,u);(h.array.has(s)||!ye(d)||g&&!g._f)&&!X(d)?M(u,d,l):T(u,d,l)}},J=(s,n,l={})=>{const f=c(i,s),d=h.array.has(s),u=K(n);V(a,s,u),d?(v.array.next({name:s,values:a}),(m.isDirty||m.dirtyFields)&&l.shouldDirty&&(r.dirtyFields=Ve(o,a),v.state.next({name:s,dirtyFields:r.dirtyFields,isDirty:b(s,u)}))):f&&!f._f&&!p(u)?M(s,u,l):T(s,u,l),Ne(s,h)&&v.state.next({}),v.watch.next({name:s})},Oe=async s=>{const n=s.target;let l=n.name;const f=c(i,l);if(f){let d,u;const g=n.type?we(f._f):Ye(s),S=s.type===ce.BLUR||s.type===ce.FOCUS_OUT,L=!Cr(f._f)&&!t.resolver&&!c(r.errors,l)&&!f._f.deps||Er(S,c(r.touchedFields,l),r.isSubmitted,U,W),oe=Ne(l,h,S);V(a,l,g),S?(f._f.onBlur&&f._f.onBlur(s),F&&F(0)):f._f.onChange&&f._f.onChange(s);const Fe=Z(l,g,S,!1),yr=!O(Fe)||oe;if(!S&&v.watch.next({name:l,type:s.type}),L)return yr&&v.state.next({name:l,...oe?{}:Fe});if(!S&&oe&&v.state.next({}),A[l]=(A[l],1),v.state.next({isValidating:!0}),t.resolver){const{errors:Me}=await $([l]),hr=Je(r.errors,i,l),Pe=Je(Me,i,hr.name||l);d=Pe.error,l=Pe.name,u=O(Me)}else d=(await je(f,c(a,l),se,t.shouldUseNativeValidation))[l],u=await j(!0);f._f.deps&&be(f._f.deps),ie(l,u,d,Fe)}},be=async(s,n={})=>{let l,f;const d=ae(s);if(v.state.next({isValidating:!0}),t.resolver){const u=await G(k(s)?s:d);l=O(u),f=s?!d.some(g=>c(u,g)):l}else s?(f=(await Promise.all(d.map(async u=>{const g=c(i,u);return await B(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&j()):f=l=await B(i);return v.state.next({...!N(s)||m.isValid&&l!==r.isValid?{}:{name:s},...t.resolver?{isValid:l}:{},errors:r.errors,isValidating:!1}),n.shouldFocus&&!f&&ke(i,u=>c(r.errors,u),s?d:h.mount),f},Ue=s=>{const n={...o,...y.mount?a:{}};return k(s)?n:N(s)?c(n,s):s.map(l=>c(n,l))},Be=(s,n)=>({invalid:!!c((n||r).errors,s),isDirty:!!c((n||r).dirtyFields,s),isTouched:!!c((n||r).touchedFields,s),error:c((n||r).errors,s)}),cr=s=>{s?ae(s).forEach(n=>R(r.errors,n)):r.errors={},v.state.next({errors:r.errors})},fr=(s,n,l)=>{const f=(c(i,s,{_f:{}})._f||{}).ref;V(r.errors,s,{...n,ref:f}),v.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&f&&f.focus&&f.focus()},dr=(s,n)=>ge(s)?v.watch.subscribe({next:l=>s(x(void 0,n),l)}):x(s,n,!0),me=(s,n={})=>{for(const l of s?ae(s):h.mount)h.mount.delete(l),h.array.delete(l),c(i,l)&&(n.keepValue||(R(i,l),R(a,l)),!n.keepError&&R(r.errors,l),!n.keepDirty&&R(r.dirtyFields,l),!n.keepTouched&&R(r.touchedFields,l),!t.shouldUnregister&&!n.keepDefaultValue&&R(o,l));v.watch.next({}),v.state.next({...r,...n.keepDirty?{isDirty:b()}:{}}),!n.keepIsValid&&j()},_e=(s,n={})=>{let l=c(i,s);const f=fe(n.disabled);return V(i,s,{_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...n}}),h.mount.add(s),l?f&&V(a,s,n.disabled?void 0:c(a,s,we(l._f))):D(s,!0,n.value),{...f?{disabled:n.disabled}:{},...t.shouldUseNativeValidation?{required:!!n.required,min:ee(n.min),max:ee(n.max),minLength:ee(n.minLength),maxLength:ee(n.maxLength),pattern:ee(n.pattern)}:{},name:s,onChange:Oe,onBlur:Oe,ref:d=>{if(d){_e(s,n),l=c(i,s);const u=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Sr(u),S=l._f.refs||[];if(g?S.find(L=>L===u):u===l._f.ref)return;V(i,s,{_f:{...l._f,...g?{refs:[...S.filter(Ae),u,...Array.isArray(c(o,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),D(s,!1,void 0,u)}else l=c(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(Ze(h.array,s)&&y.action)&&h.unMount.add(s)}}};return{control:{register:_e,unregister:me,getFieldState:Be,_executeSchema:$,_getWatch:x,_getDirty:b,_updateValid:j,_removeUnmounted:ne,_updateFieldArray:q,_getFieldArray:C,_subjects:v,_proxyFormState:m,get _fields(){return i},get _formValues(){return a},get _stateFlags(){return y},set _stateFlags(s){y=s},get _defaultValues(){return o},get _names(){return h},set _names(s){h=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:be,register:_e,handleSubmit:(s,n)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=!0,d=K(a);v.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:u,values:g}=await $();r.errors=u,d=g}else await B(i);O(r.errors)?(v.state.next({errors:{},isSubmitting:!0}),await s(d,l)):(n&&await n({...r.errors},l),t.shouldFocusError&&ke(i,u=>c(r.errors,u),h.mount))}catch(u){throw f=!1,u}finally{r.isSubmitted=!0,v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(r.errors)&&f,submitCount:r.submitCount+1,errors:r.errors})}},watch:dr,setValue:J,getValues:Ue,reset:(s,n={})=>{const l=s||o,f=K(l),d=s&&!O(s)?f:o;if(n.keepDefaultValues||(o=l),!n.keepValues){if(n.keepDirtyValues)for(const u of h.mount)c(r.dirtyFields,u)?V(d,u,c(a,u)):J(u,c(d,u));else{if(Se&&k(s))for(const u of h.mount){const g=c(i,u);if(g&&g._f){const S=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;try{if(De(S)){S.closest("form").reset();break}}catch{}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?K(o):{}:f,v.array.next({values:d}),v.watch.next({values:d})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!m.isValid||!!n.keepIsValid,y.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!!(n.keepDefaultValues&&!Y(s,o)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&s?Ve(o,s):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(s,n={})=>{c(i,s)&&(k(n.defaultValue)?J(s,c(o,s)):(J(s,n.defaultValue),V(o,s,n.defaultValue)),n.keepTouched||R(r.touchedFields,s),n.keepDirty||(R(r.dirtyFields,s),r.isDirty=n.defaultValue?b(s,c(o,s)):b()),n.keepError||(R(r.errors,s),m.isValid&&j()),v.state.next({...r}))},clearErrors:cr,unregister:me,setError:fr,setFocus:(s,n={})=>{const l=c(i,s)._f,f=l.refs?l.refs[0]:l.ref;f.focus(),n.shouldSelect&&f.select()},getFieldState:Be}}function Lr(e={}){const t=w.useRef(),[r,i]=w.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...Tr(e),formState:r};const o=t.current.control,a=w.useCallback(y=>{rr(y,o._proxyFormState,!0)&&(o._formState={...o._formState,...y},i({...o._formState}))},[o]);return Ee({subject:o._subjects.state,callback:a}),w.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),t.current.formState=er(r,o._proxyFormState),t.current}const Hr={component:Qe},Or={width:"600px",height:"400px"},le={render:()=>{var i,o;const{handleSubmit:e,control:t,formState:{errors:r}}=Lr();return gr("form",{onSubmit:e(a=>alert(JSON.stringify(a))),children:[z(xr,{defaultValue:"Hello react-hook-form",control:t,name:"text",rules:{required:!0,validate:a=>a.toLowerCase().includes("hook")},render:({field:{ref:a,onChange:y,onBlur:h,value:F}})=>z(Qe,{ref:a,value:F,style:Or,onChange:y,onBlur:h,children:_=>_.split("").map((A,m)=>z("span",{style:{color:"hook".includes(A.toLowerCase())?"violet":void 0},children:A},m))})}),((i=r.text)==null?void 0:i.type)==="required"&&z("span",{style:{color:"red"},children:"This field is required"}),((o=r.text)==null?void 0:o.type)==="validate"&&z("span",{style:{color:"red"},children:"Text must include hook"}),z("button",{type:"submit",children:"submit"})]})}};var Ke,Ge,ze;le.parameters={...le.parameters,docs:{...(Ke=le.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  render: () => {
    const {
      handleSubmit,
      control,
      formState: {
        errors
      }
    } = useForm();
    return <form onSubmit={handleSubmit(data => alert(JSON.stringify(data)))}>
        <Controller defaultValue="Hello react-hook-form" control={control} name="text" rules={{
        required: true,
        validate: v => v.toLowerCase().includes("hook")
      }} render={({
        field: {
          ref,
          onChange,
          onBlur,
          value
        }
      }) => <RichTextarea ref={ref} value={value} style={style} onChange={onChange} onBlur={onBlur}>
              {v => {
          return v.split("").map((t, i) => <span key={i} style={{
            color: "hook".includes(t.toLowerCase()) ? "violet" : undefined
          }}>
                    {t}
                  </span>);
        }}
            </RichTextarea>} />
        {errors.text?.type === "required" && <span style={{
        color: "red"
      }}>This field is required</span>}
        {errors.text?.type === "validate" && <span style={{
        color: "red"
      }}>Text must include hook</span>}
        <button type="submit">submit</button>
      </form>;
  }
}`,...(ze=(Ge=le.parameters)==null?void 0:Ge.docs)==null?void 0:ze.source}}};const Wr=["WithReactHookForm"];export{le as WithReactHookForm,Wr as __namedExportsOrder,Hr as default};
//# sourceMappingURL=WithReactHookForm.stories-ff5f08cc.js.map
