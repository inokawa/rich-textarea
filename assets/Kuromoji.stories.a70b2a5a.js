import"./index.46cfd363.js";import{r as nr}from"./index.8e45f264.js";import{r as Ya}from"./index.68bde87c.js";import{c as At}from"./iframe.047c3e6d.js";import{p as Dn}from"./index.e4aaa3c1.js";import{a as Bn,j as jr}from"./jsx-runtime.96752331.js";import{R as jn}from"./textarea.e03cca18.js";import"./chunk-Y6TTZ4RO.672b857c.js";import"./selection.f2e9739e.js";var In={},Gt={},re={exports:{}};(function(r,i){(function(e,a){a(i)})(At,function(e){const a=Symbol("newer"),s=Symbol("older");class l{constructor(b,C){typeof b!="number"&&(C=b,b=0),this.size=0,this.limit=b,this.oldest=this.newest=void 0,this._keymap=new Map,C&&(this.assign(C),b<1&&(this.limit=this.size))}_markEntryAsUsed(b){b!==this.newest&&(b[a]&&(b===this.oldest&&(this.oldest=b[a]),b[a][s]=b[s]),b[s]&&(b[s][a]=b[a]),b[a]=void 0,b[s]=this.newest,this.newest&&(this.newest[a]=b),this.newest=b)}assign(b){let C,K=this.limit||Number.MAX_VALUE;this._keymap.clear();let ut=b[Symbol.iterator]();for(let rt=ut.next();!rt.done;rt=ut.next()){let at=new m(rt.value[0],rt.value[1]);if(this._keymap.set(at.key,at),C?(C[a]=at,at[s]=C):this.oldest=at,C=at,K--==0)throw new Error("overflow")}this.newest=C,this.size=this._keymap.size}get(b){var C=this._keymap.get(b);return C?(this._markEntryAsUsed(C),C.value):void 0}set(b,C){var K=this._keymap.get(b);return K?(K.value=C,this._markEntryAsUsed(K),this):(this._keymap.set(b,K=new m(b,C)),this.newest?(this.newest[a]=K,K[s]=this.newest):this.oldest=K,this.newest=K,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var b=this.oldest;if(b)return this.oldest[a]?(this.oldest=this.oldest[a],this.oldest[s]=void 0):(this.oldest=void 0,this.newest=void 0),b[a]=b[s]=void 0,this._keymap.delete(b.key),--this.size,[b.key,b.value]}find(b){let C=this._keymap.get(b);return C?C.value:void 0}has(b){return this._keymap.has(b)}delete(b){var C=this._keymap.get(b);return C?(this._keymap.delete(C.key),C[a]&&C[s]?(C[s][a]=C[a],C[a][s]=C[s]):C[a]?(C[a][s]=void 0,this.oldest=C[a]):C[s]?(C[s][a]=void 0,this.newest=C[s]):this.oldest=this.newest=void 0,this.size--,C.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new L(this.oldest)}values(){return new P(this.oldest)}entries(){return this}[Symbol.iterator](){return new k(this.oldest)}forEach(b,C){typeof C!="object"&&(C=this);let K=this.oldest;for(;K;)b.call(C,K.value,K.key,this),K=K[a]}toJSON(){for(var b=new Array(this.size),C=0,K=this.oldest;K;)b[C++]={key:K.key,value:K.value},K=K[a];return b}toString(){for(var b="",C=this.oldest;C;)b+=String(C.key)+":"+C.value,C=C[a],C&&(b+=" < ");return b}}e.LRUMap=l;function m(z,b){this.key=z,this.value=b,this[a]=void 0,this[s]=void 0}function k(z){this.entry=z}k.prototype[Symbol.iterator]=function(){return this},k.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:[z.key,z.value]}):{done:!0,value:void 0}};function L(z){this.entry=z}L.prototype[Symbol.iterator]=function(){return this},L.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:z.key}):{done:!0,value:void 0}};function P(z){this.entry=z}P.prototype[Symbol.iterator]=function(){return this},P.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:z.value}):{done:!0,value:void 0}}})})(re,re.exports);var ie={};Object.defineProperty(ie,"__esModule",{value:!0});var Ha=function(){function r(){var i=this;this.promise=new Promise(function(e,a){i.resolve=e,i.reject=a})}return r}();ie.default=Ha;function Wa(r,i,e,a,s,l,m,k){this.name=r,this.cost=i,this.start_pos=e,this.length=a,this.left_id=l,this.right_id=m,this.prev=null,this.surface_form=k,s==="BOS"?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=s}var Ln=Wa,On=Ln;function ae(){this.nodes_end_at=[],this.nodes_end_at[0]=[new On(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}ae.prototype.append=function(r){var i=r.start_pos+r.length-1;this.eos_pos<i&&(this.eos_pos=i);var e=this.nodes_end_at[i];e==null&&(e=[]),e.push(r),this.nodes_end_at[i]=e};ae.prototype.appendEos=function(){var r=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[r]=[new On(-1,0,this.eos_pos,0,"EOS",0,0,"")]};var qa=ae;function Ot(r){this.str=r,this.index_mapping=[];for(var i=0;i<r.length;i++){var e=r.charAt(i);this.index_mapping.push(i),Ot.isSurrogatePair(e)&&i++}this.length=this.index_mapping.length}Ot.prototype.slice=function(r){if(this.index_mapping.length<=r)return"";var i=this.index_mapping[r];return this.str.slice(i)};Ot.prototype.charAt=function(r){if(this.str.length<=r)return"";var i=this.index_mapping[r],e=this.index_mapping[r+1];return e==null?this.str.slice(i):this.str.slice(i,e)};Ot.prototype.charCodeAt=function(r){if(this.index_mapping.length<=r)return NaN;var i=this.index_mapping[r],e=this.str.charCodeAt(i),a;return e>=55296&&e<=56319&&i<this.str.length&&(a=this.str.charCodeAt(i+1),a>=56320&&a<=57343)?(e-55296)*1024+a-56320+65536:e};Ot.prototype.toString=function(){return this.str};Ot.isSurrogatePair=function(r){var i=r.charCodeAt(0);return i>=55296&&i<=56319};var Un=Ot,Cn=Ln,Za=qa,Qr=Un;function xn(r){this.trie=r.trie,this.token_info_dictionary=r.token_info_dictionary,this.unknown_dictionary=r.unknown_dictionary}xn.prototype.build=function(r){for(var i=new Za,e=new Qr(r),a,s,l,m,k,L=0;L<e.length;L++){for(var P=e.slice(L),z=this.trie.commonPrefixSearch(P),b=0;b<z.length;b++){s=z[b].v,a=z[b].k;for(var C=this.token_info_dictionary.target_map[s],K=0;K<C.length;K++){var ut=parseInt(C[K]);l=this.token_info_dictionary.dictionary.getShort(ut),m=this.token_info_dictionary.dictionary.getShort(ut+2),k=this.token_info_dictionary.dictionary.getShort(ut+4),i.append(new Cn(ut,k,L+1,a.length,"KNOWN",l,m,a))}}var rt=new Qr(P),at=new Qr(rt.charAt(0)),vt=this.unknown_dictionary.lookup(at.toString());if(z==null||z.length===0||vt.is_always_invoke===1){if(a=at,vt.is_grouping===1&&1<rt.length)for(var p=1;p<rt.length;p++){var D=rt.charAt(p),I=this.unknown_dictionary.lookup(D);if(vt.class_name!==I.class_name)break;a+=D}for(var B=this.unknown_dictionary.target_map[vt.class_id],S=0;S<B.length;S++){var w=parseInt(B[S]);l=this.unknown_dictionary.dictionary.getShort(w),m=this.unknown_dictionary.dictionary.getShort(w+2),k=this.unknown_dictionary.dictionary.getShort(w+4),i.append(new Cn(w,k,L+1,a.length,"UNKNOWN",l,m,a.toString()))}}}return i.appendEos(),i};var Xa=xn;function Lr(r){this.connection_costs=r}Lr.prototype.search=function(r){return r=this.forward(r),this.backward(r)};Lr.prototype.forward=function(r){var i,e,a;for(i=1;i<=r.eos_pos;i++){var s=r.nodes_end_at[i];if(s!=null)for(e=0;e<s.length;e++){var l=s[e],m=Number.MAX_VALUE,k,L=r.nodes_end_at[l.start_pos-1];if(L!=null){for(a=0;a<L.length;a++){var P=L[a],z;l.left_id==null||P.right_id==null?(console.log("Left or right is null"),z=0):z=this.connection_costs.get(P.right_id,l.left_id);var b=P.shortest_cost+z+l.cost;b<m&&(k=P,m=b)}l.prev=k,l.shortest_cost=m}}}return r};Lr.prototype.backward=function(r){var i=[],e=r.nodes_end_at[r.nodes_end_at.length-1][0],a=e.prev;if(a==null)return[];for(;a.type!=="BOS";){if(i.push(a),a.prev==null)return[];a=a.prev}return i.reverse()};var Ja=Lr;function oe(){}oe.prototype.formatEntry=function(r,i,e,a){var s={};return s.word_id=r,s.word_type=e,s.word_position=i,s.surface_form=a[0],s.pos=a[1],s.pos_detail_1=a[2],s.pos_detail_2=a[3],s.pos_detail_3=a[4],s.conjugated_type=a[5],s.conjugated_form=a[6],s.basic_form=a[7],s.reading=a[8],s.pronunciation=a[9],s};oe.prototype.formatUnknownEntry=function(r,i,e,a,s){var l={};return l.word_id=r,l.word_type=e,l.word_position=i,l.surface_form=s,l.pos=a[1],l.pos_detail_1=a[2],l.pos_detail_2=a[3],l.pos_detail_3=a[4],l.conjugated_type=a[5],l.conjugated_form=a[6],l.basic_form=a[7],l};var Qa=oe,to=Xa,ro=Ja,eo=Qa,no=/、|。/;function Kt(r){this.token_info_dictionary=r.token_info_dictionary,this.unknown_dictionary=r.unknown_dictionary,this.viterbi_builder=new to(r),this.viterbi_searcher=new ro(r.connection_costs),this.formatter=new eo}Kt.splitByPunctuation=function(r){for(var i=[],e=r;e!=="";){var a=e.search(no);if(a<0){i.push(e);break}i.push(e.substring(0,a+1)),e=e.substring(a+1)}return i};Kt.prototype.tokenize=function(r){for(var i=Kt.splitByPunctuation(r),e=[],a=0;a<i.length;a++){var s=i[a];this.tokenizeForSentence(s,e)}return e};Kt.prototype.tokenizeForSentence=function(r,i){i==null&&(i=[]);var e=this.getLattice(r),a=this.viterbi_searcher.search(e),s=0;i.length>0&&(s=i[i.length-1].word_position);for(var l=0;l<a.length;l++){var m=a[l],k,L,P;m.type==="KNOWN"?(P=this.token_info_dictionary.getFeatures(m.name),P==null?L=[]:L=P.split(","),k=this.formatter.formatEntry(m.name,s+m.start_pos,m.type,L)):m.type==="UNKNOWN"?(P=this.unknown_dictionary.getFeatures(m.name),P==null?L=[]:L=P.split(","),k=this.formatter.formatUnknownEntry(m.name,s+m.start_pos,m.type,L,m.surface_form)):k=this.formatter.formatEntry(m.name,s+m.start_pos,m.type,[]),i.push(k)}return i};Kt.prototype.getLattice=function(r){return this.viterbi_builder.build(r)};var io=Kt,ao={};/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){function r(A){throw A}var i=void 0,e=this;function a(A,g){var _=A.split("."),d=e;!(_[0]in d)&&d.execScript&&d.execScript("var "+_[0]);for(var h;_.length&&(h=_.shift());)!_.length&&g!==i?d[h]=g:d=d[h]?d[h]:d[h]={}}var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";new(s?Uint8Array:Array)(256);function l(A,g,_){var d,h=typeof g=="number"?g:g=0,x=typeof _=="number"?_:A.length;for(d=-1,h=x&7;h--;++g)d=d>>>8^k[(d^A[g])&255];for(h=x>>3;h--;g+=8)d=d>>>8^k[(d^A[g])&255],d=d>>>8^k[(d^A[g+1])&255],d=d>>>8^k[(d^A[g+2])&255],d=d>>>8^k[(d^A[g+3])&255],d=d>>>8^k[(d^A[g+4])&255],d=d>>>8^k[(d^A[g+5])&255],d=d>>>8^k[(d^A[g+6])&255],d=d>>>8^k[(d^A[g+7])&255];return(d^4294967295)>>>0}var m=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],k=s?new Uint32Array(m):m;function L(){}L.prototype.getName=function(){return this.name},L.prototype.getData=function(){return this.data},L.prototype.G=function(){return this.H};function P(A){var g=A.length,_=0,d=Number.POSITIVE_INFINITY,h,x,G,Y,H,tt,$,O,N,st;for(O=0;O<g;++O)A[O]>_&&(_=A[O]),A[O]<d&&(d=A[O]);for(h=1<<_,x=new(s?Uint32Array:Array)(h),G=1,Y=0,H=2;G<=_;){for(O=0;O<g;++O)if(A[O]===G){for(tt=0,$=Y,N=0;N<G;++N)tt=tt<<1|$&1,$>>=1;for(st=G<<16|O,N=tt;N<h;N+=H)x[N]=st;++Y}++G,Y<<=1,H<<=1}return[x,_,d]}var z;for(z=0;288>z;z++)switch(!0){case 143>=z:break;case 255>=z:break;case 279>=z:break;case 287>=z:break;default:r("invalid literal: "+z)}(function(){function A(h){switch(!0){case h===3:return[257,h-3,0];case h===4:return[258,h-4,0];case h===5:return[259,h-5,0];case h===6:return[260,h-6,0];case h===7:return[261,h-7,0];case h===8:return[262,h-8,0];case h===9:return[263,h-9,0];case h===10:return[264,h-10,0];case 12>=h:return[265,h-11,1];case 14>=h:return[266,h-13,1];case 16>=h:return[267,h-15,1];case 18>=h:return[268,h-17,1];case 22>=h:return[269,h-19,2];case 26>=h:return[270,h-23,2];case 30>=h:return[271,h-27,2];case 34>=h:return[272,h-31,2];case 42>=h:return[273,h-35,3];case 50>=h:return[274,h-43,3];case 58>=h:return[275,h-51,3];case 66>=h:return[276,h-59,3];case 82>=h:return[277,h-67,4];case 98>=h:return[278,h-83,4];case 114>=h:return[279,h-99,4];case 130>=h:return[280,h-115,4];case 162>=h:return[281,h-131,5];case 194>=h:return[282,h-163,5];case 226>=h:return[283,h-195,5];case 257>=h:return[284,h-227,5];case h===258:return[285,h-258,0];default:r("invalid length: "+h)}}var g=[],_,d;for(_=3;258>=_;_++)d=A(_),g[_]=d[2]<<24|d[1]<<16|d[0];return g})();function b(A,g){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=s?new Uint8Array(A):A,this.o=!1,this.k=K,this.w=!1,(g||!(g={}))&&(g.index&&(this.c=g.index),g.bufferSize&&(this.j=g.bufferSize),g.bufferType&&(this.k=g.bufferType),g.resize&&(this.w=g.resize)),this.k){case C:this.a=32768,this.b=new(s?Uint8Array:Array)(32768+this.j+258);break;case K:this.a=0,this.b=new(s?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:r(Error("invalid inflate mode"))}}var C=0,K=1;b.prototype.g=function(){for(;!this.o;){var A=ht(this,3);switch(A&1&&(this.o=!0),A>>>=1,A){case 0:var g=this.input,_=this.c,d=this.b,h=this.a,x=g.length,G=i,Y=i,H=d.length,tt=i;switch(this.d=this.f=0,_+1>=x&&r(Error("invalid uncompressed block header: LEN")),G=g[_++]|g[_++]<<8,_+1>=x&&r(Error("invalid uncompressed block header: NLEN")),Y=g[_++]|g[_++]<<8,G===~Y&&r(Error("invalid uncompressed block header: length verify")),_+G>g.length&&r(Error("input buffer is broken")),this.k){case C:for(;h+G>d.length;){if(tt=H-h,G-=tt,s)d.set(g.subarray(_,_+tt),h),h+=tt,_+=tt;else for(;tt--;)d[h++]=g[_++];this.a=h,d=this.e(),h=this.a}break;case K:for(;h+G>d.length;)d=this.e({t:2});break;default:r(Error("invalid inflate mode"))}if(s)d.set(g.subarray(_,_+G),h),h+=G,_+=G;else for(;G--;)d[h++]=g[_++];this.c=_,this.a=h,this.b=d;break;case 1:this.l(V,Ur);break;case 2:for(var $=ht(this,5)+257,O=ht(this,5)+1,N=ht(this,4)+4,st=new(s?Uint8Array:Array)(rt.length),et=i,yt=i,jt=i,ft=i,lt=i,xt=i,Tt=i,W=i,ar=i,W=0;W<N;++W)st[rt[W]]=ht(this,3);if(!s)for(W=N,N=st.length;W<N;++W)st[rt[W]]=0;for(et=P(st),ft=new(s?Uint8Array:Array)($+O),W=0,ar=$+O;W<ar;)switch(lt=Bt(this,et),lt){case 16:for(Tt=3+ht(this,2);Tt--;)ft[W++]=xt;break;case 17:for(Tt=3+ht(this,3);Tt--;)ft[W++]=0;xt=0;break;case 18:for(Tt=11+ht(this,7);Tt--;)ft[W++]=0;xt=0;break;default:xt=ft[W++]=lt}yt=P(s?ft.subarray(0,$):ft.slice(0,$)),jt=P(s?ft.subarray($):ft.slice($)),this.l(yt,jt);break;default:r(Error("unknown BTYPE: "+A))}}return this.q()};var ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=s?new Uint16Array(ut):ut,at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],vt=s?new Uint16Array(at):at,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],D=s?new Uint8Array(p):p,I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],B=s?new Uint16Array(I):I,S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=s?new Uint8Array(S):S,j=new(s?Uint8Array:Array)(288),T,M;for(T=0,M=j.length;T<M;++T)j[T]=143>=T?8:255>=T?9:279>=T?7:8;var V=P(j),J=new(s?Uint8Array:Array)(30),ct,Ut;for(ct=0,Ut=J.length;ct<Ut;++ct)J[ct]=5;var Ur=P(J);function ht(A,g){for(var _=A.f,d=A.d,h=A.input,x=A.c,G=h.length,Y;d<g;)x>=G&&r(Error("input buffer is broken")),_|=h[x++]<<d,d+=8;return Y=_&(1<<g)-1,A.f=_>>>g,A.d=d-g,A.c=x,Y}function Bt(A,g){for(var _=A.f,d=A.d,h=A.input,x=A.c,G=h.length,Y=g[0],H=g[1],tt,$;d<H&&!(x>=G);)_|=h[x++]<<d,d+=8;return tt=Y[_&(1<<H)-1],$=tt>>>16,$>d&&r(Error("invalid code length: "+$)),A.f=_>>$,A.d=d-$,A.c=x,tt&65535}b.prototype.l=function(A,g){var _=this.b,d=this.a;this.r=A;for(var h=_.length-258,x,G,Y,H;(x=Bt(this,A))!==256;)if(256>x)d>=h&&(this.a=d,_=this.e(),d=this.a),_[d++]=x;else for(G=x-257,H=vt[G],0<D[G]&&(H+=ht(this,D[G])),x=Bt(this,g),Y=B[x],0<w[x]&&(Y+=ht(this,w[x])),d>=h&&(this.a=d,_=this.e(),d=this.a);H--;)_[d]=_[d++-Y];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},b.prototype.C=function(A,g){var _=this.b,d=this.a;this.r=A;for(var h=_.length,x,G,Y,H;(x=Bt(this,A))!==256;)if(256>x)d>=h&&(_=this.e(),h=_.length),_[d++]=x;else for(G=x-257,H=vt[G],0<D[G]&&(H+=ht(this,D[G])),x=Bt(this,g),Y=B[x],0<w[x]&&(Y+=ht(this,w[x])),d+H>h&&(_=this.e(),h=_.length);H--;)_[d]=_[d++-Y];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},b.prototype.e=function(){var A=new(s?Uint8Array:Array)(this.a-32768),g=this.a-32768,_,d,h=this.b;if(s)A.set(h.subarray(32768,A.length));else for(_=0,d=A.length;_<d;++_)A[_]=h[_+32768];if(this.i.push(A),this.n+=A.length,s)h.set(h.subarray(g,g+32768));else for(_=0;32768>_;++_)h[_]=h[g+_];return this.a=32768,h},b.prototype.D=function(A){var g,_=this.input.length/this.c+1|0,d,h,x,G=this.input,Y=this.b;return A&&(typeof A.t=="number"&&(_=A.t),typeof A.z=="number"&&(_+=A.z)),2>_?(d=(G.length-this.c)/this.r[2],x=258*(d/2)|0,h=x<Y.length?Y.length+x:Y.length<<1):h=Y.length*_,s?(g=new Uint8Array(h),g.set(Y)):g=Y,this.b=g},b.prototype.q=function(){var A=0,g=this.b,_=this.i,d,h=new(s?Uint8Array:Array)(this.n+(this.a-32768)),x,G,Y,H;if(_.length===0)return s?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(x=0,G=_.length;x<G;++x)for(d=_[x],Y=0,H=d.length;Y<H;++Y)h[A++]=d[Y];for(x=32768,G=this.a;x<G;++x)h[A++]=g[x];return this.i=[],this.buffer=h},b.prototype.A=function(){var A,g=this.a;return s?this.w?(A=new Uint8Array(g),A.set(this.b.subarray(0,g))):A=this.b.subarray(0,g):(this.b.length>g&&(this.b.length=g),A=this.b),this.buffer=A};function Ft(A){this.input=A,this.c=0,this.m=[],this.s=!1}Ft.prototype.F=function(){return this.s||this.g(),this.m.slice()},Ft.prototype.g=function(){for(var A=this.input.length;this.c<A;){var g=new L,_=i,d=i,h=i,x=i,G=i,Y=i,H=i,tt=i,$=i,O=this.input,N=this.c;switch(g.u=O[N++],g.v=O[N++],(g.u!==31||g.v!==139)&&r(Error("invalid file signature:"+g.u+","+g.v)),g.p=O[N++],g.p){case 8:break;default:r(Error("unknown compression method: "+g.p))}if(g.h=O[N++],tt=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24,g.H=new Date(1e3*tt),g.N=O[N++],g.M=O[N++],0<(g.h&4)&&(g.I=O[N++]|O[N++]<<8,N+=g.I),0<(g.h&8)){for(H=[],Y=0;0<(G=O[N++]);)H[Y++]=String.fromCharCode(G);g.name=H.join("")}if(0<(g.h&16)){for(H=[],Y=0;0<(G=O[N++]);)H[Y++]=String.fromCharCode(G);g.J=H.join("")}0<(g.h&2)&&(g.B=l(O,0,N)&65535,g.B!==(O[N++]|O[N++]<<8)&&r(Error("invalid header crc16"))),_=O[O.length-4]|O[O.length-3]<<8|O[O.length-2]<<16|O[O.length-1]<<24,O.length-N-4-4<512*_&&(x=_),d=new b(O,{index:N,bufferSize:x}),g.data=h=d.g(),N=d.c,g.K=$=(O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24)>>>0,l(h,i,i)!==$&&r(Error("invalid CRC-32 checksum: 0x"+l(h,i,i).toString(16)+" / 0x"+$.toString(16))),g.L=_=(O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24)>>>0,(h.length&4294967295)!==_&&r(Error("invalid input size: "+(h.length&4294967295)+" / "+_)),this.m.push(g),this.c=N}this.s=!0;var st=this.m,et,yt,jt=0,ft=0,lt;for(et=0,yt=st.length;et<yt;++et)ft+=st[et].data.length;if(s)for(lt=new Uint8Array(ft),et=0;et<yt;++et)lt.set(st[et].data,jt),jt+=st[et].data.length;else{for(lt=[],et=0;et<yt;++et)lt[et]=st[et].data;lt=Array.prototype.concat.apply([],lt)}return lt},a("Zlib.Gunzip",Ft),a("Zlib.Gunzip.prototype.decompress",Ft.prototype.g),a("Zlib.Gunzip.prototype.getMembers",Ft.prototype.F),a("Zlib.GunzipMember",L),a("Zlib.GunzipMember.prototype.getName",L.prototype.getName),a("Zlib.GunzipMember.prototype.getData",L.prototype.getData),a("Zlib.GunzipMember.prototype.getMtime",L.prototype.G)}).call(At);var ee={exports:{}};(function(r,i){(function(e,a){a(i)})(At,function(e){function a(t,n){n=n|0;for(var o=Math.max(t.length-n,0),u=Array(o),c=0;c<o;c++)u[c]=t[n+c];return u}var s=function(t){var n=a(arguments,1);return function(){var o=a(arguments);return t.apply(null,n.concat(o))}},l=function(t){return function(){var n=a(arguments),o=n.pop();t.call(this,n,o)}};function m(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var k=typeof setImmediate=="function"&&setImmediate,L=typeof process=="object"&&typeof process.nextTick=="function";function P(t){setTimeout(t,0)}function z(t){return function(n){var o=a(arguments,1);t(function(){n.apply(null,o)})}}var b;k?b=setImmediate:L?b=process.nextTick:b=P;var C=z(b);function K(t){return l(function(n,o){var u;try{u=t.apply(this,n)}catch(c){return o(c)}m(u)&&typeof u.then=="function"?u.then(function(c){ut(o,null,c)},function(c){ut(o,c.message?c:new Error(c))}):o(null,u)})}function ut(t,n,o){try{t(n,o)}catch(u){C(rt,u)}}function rt(t){throw t}var at=typeof Symbol=="function";function vt(t){return at&&t[Symbol.toStringTag]==="AsyncFunction"}function p(t){return vt(t)?K(t):t}function D(t){return function(n){var o=a(arguments,1),u=l(function(c,f){var v=this;return t(n,function(y,F){p(y).apply(v,c.concat(F))},f)});return o.length?u.apply(this,o):u}}var I=typeof At=="object"&&At&&At.Object===Object&&At,B=typeof self=="object"&&self&&self.Object===Object&&self,S=I||B||Function("return this")(),w=S.Symbol,j=Object.prototype,T=j.hasOwnProperty,M=j.toString,V=w?w.toStringTag:void 0;function J(t){var n=T.call(t,V),o=t[V];try{t[V]=void 0;var u=!0}catch{}var c=M.call(t);return u&&(n?t[V]=o:delete t[V]),c}var ct=Object.prototype,Ut=ct.toString;function Ur(t){return Ut.call(t)}var ht="[object Null]",Bt="[object Undefined]",Ft=w?w.toStringTag:void 0;function A(t){return t==null?t===void 0?Bt:ht:Ft&&Ft in Object(t)?J(t):Ur(t)}var g="[object AsyncFunction]",_="[object Function]",d="[object GeneratorFunction]",h="[object Proxy]";function x(t){if(!m(t))return!1;var n=A(t);return n==_||n==d||n==g||n==h}var G=9007199254740991;function Y(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G}function H(t){return t!=null&&Y(t.length)&&!x(t)}var tt={};function $(){}function O(t){return function(){if(t!==null){var n=t;t=null,n.apply(this,arguments)}}}var N=typeof Symbol=="function"&&Symbol.iterator,st=function(t){return N&&t[N]&&t[N]()};function et(t,n){for(var o=-1,u=Array(t);++o<t;)u[o]=n(o);return u}function yt(t){return t!=null&&typeof t=="object"}var jt="[object Arguments]";function ft(t){return yt(t)&&A(t)==jt}var lt=Object.prototype,xt=lt.hasOwnProperty,Tt=lt.propertyIsEnumerable,ar=ft(function(){return arguments}())?ft:function(t){return yt(t)&&xt.call(t,"callee")&&!Tt.call(t,"callee")},W=Array.isArray;function qn(){return!1}var pe=typeof e=="object"&&e&&!e.nodeType&&e,ye=pe&&!0&&r&&!r.nodeType&&r,Zn=ye&&ye.exports===pe,ge=Zn?S.Buffer:void 0,Xn=ge?ge.isBuffer:void 0,Jn=Xn||qn,Qn=9007199254740991,ti=/^(?:0|[1-9]\d*)$/;function ri(t,n){var o=typeof t;return n=n==null?Qn:n,!!n&&(o=="number"||o!="symbol"&&ti.test(t))&&t>-1&&t%1==0&&t<n}var ei="[object Arguments]",ni="[object Array]",ii="[object Boolean]",ai="[object Date]",oi="[object Error]",ui="[object Function]",si="[object Map]",fi="[object Number]",ci="[object Object]",hi="[object RegExp]",li="[object Set]",vi="[object String]",pi="[object WeakMap]",yi="[object ArrayBuffer]",gi="[object DataView]",di="[object Float32Array]",mi="[object Float64Array]",_i="[object Int8Array]",bi="[object Int16Array]",wi="[object Int32Array]",Ai="[object Uint8Array]",ki="[object Uint8ClampedArray]",Ci="[object Uint16Array]",Si="[object Uint32Array]",q={};q[di]=q[mi]=q[_i]=q[bi]=q[wi]=q[Ai]=q[ki]=q[Ci]=q[Si]=!0,q[ei]=q[ni]=q[yi]=q[ii]=q[gi]=q[ai]=q[oi]=q[ui]=q[si]=q[fi]=q[ci]=q[hi]=q[li]=q[vi]=q[pi]=!1;function Fi(t){return yt(t)&&Y(t.length)&&!!q[A(t)]}function Ti(t){return function(n){return t(n)}}var de=typeof e=="object"&&e&&!e.nodeType&&e,Wt=de&&!0&&r&&!r.nodeType&&r,Ei=Wt&&Wt.exports===de,xr=Ei&&I.process,me=function(){try{var t=Wt&&Wt.require&&Wt.require("util").types;return t||xr&&xr.binding&&xr.binding("util")}catch{}}(),_e=me&&me.isTypedArray,Di=_e?Ti(_e):Fi,Bi=Object.prototype,ji=Bi.hasOwnProperty;function Ii(t,n){var o=W(t),u=!o&&ar(t),c=!o&&!u&&Jn(t),f=!o&&!u&&!c&&Di(t),v=o||u||c||f,y=v?et(t.length,String):[],F=y.length;for(var U in t)(n||ji.call(t,U))&&!(v&&(U=="length"||c&&(U=="offset"||U=="parent")||f&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ri(U,F)))&&y.push(U);return y}var Li=Object.prototype;function Oi(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||Li;return t===o}function Ui(t,n){return function(o){return t(n(o))}}var xi=Ui(Object.keys,Object),zi=Object.prototype,$i=zi.hasOwnProperty;function Mi(t){if(!Oi(t))return xi(t);var n=[];for(var o in Object(t))$i.call(t,o)&&o!="constructor"&&n.push(o);return n}function zr(t){return H(t)?Ii(t):Mi(t)}function Pi(t){var n=-1,o=t.length;return function(){return++n<o?{value:t[n],key:n}:null}}function Ni(t){var n=-1;return function(){var u=t.next();return u.done?null:(n++,{value:u.value,key:n})}}function Ri(t){var n=zr(t),o=-1,u=n.length;return function(){var f=n[++o];return o<u?{value:t[f],key:f}:null}}function Vi(t){if(H(t))return Pi(t);var n=st(t);return n?Ni(n):Ri(t)}function mt(t){return function(){if(t===null)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,arguments)}}function or(t){return function(n,o,u){if(u=O(u||$),t<=0||!n)return u(null);var c=Vi(n),f=!1,v=0,y=!1;function F(E,R){if(v-=1,E)f=!0,u(E);else{if(R===tt||f&&v<=0)return f=!0,u(null);y||U()}}function U(){for(y=!0;v<t&&!f;){var E=c();if(E===null){f=!0,v<=0&&u(null);return}v+=1,o(E.value,E.key,mt(F))}y=!1}U()}}function It(t,n,o,u){or(n)(t,p(o),u)}function it(t,n){return function(o,u,c){return t(o,n,u,c)}}function Gi(t,n,o){o=O(o||$);var u=0,c=0,f=t.length;f===0&&o(null);function v(y,F){y?o(y):(++c===f||F===tt)&&o(null)}for(;u<f;u++)n(t[u],u,mt(v))}var Ki=it(It,1/0),Et=function(t,n,o){var u=H(t)?Gi:Ki;u(t,p(n),o)};function zt(t){return function(n,o,u){return t(Et,n,p(o),u)}}function be(t,n,o,u){u=u||$,n=n||[];var c=[],f=0,v=p(o);t(n,function(y,F,U){var E=f++;v(y,function(R,Z){c[E]=Z,U(R)})},function(y){u(y,c)})}var ur=zt(be),we=D(ur);function $t(t){return function(n,o,u,c){return t(or(o),n,p(u),c)}}var Mt=$t(be),$r=it(Mt,1),Ae=D($r);function sr(t,n){for(var o=-1,u=t==null?0:t.length;++o<u&&n(t[o],o,t)!==!1;);return t}function Yi(t){return function(n,o,u){for(var c=-1,f=Object(n),v=u(n),y=v.length;y--;){var F=v[t?y:++c];if(o(f[F],F,f)===!1)break}return n}}var Hi=Yi();function qt(t,n){return t&&Hi(t,n,zr)}function Wi(t,n,o,u){for(var c=t.length,f=o+(u?1:-1);u?f--:++f<c;)if(n(t[f],f,t))return f;return-1}function qi(t){return t!==t}function Zi(t,n,o){for(var u=o-1,c=t.length;++u<c;)if(t[u]===n)return u;return-1}function fr(t,n,o){return n===n?Zi(t,n,o):Wi(t,qi,o)}var Mr=function(t,n,o){typeof n=="function"&&(o=n,n=null),o=O(o||$);var u=zr(t),c=u.length;if(!c)return o(null);n||(n=c);var f={},v=0,y=!1,F=Object.create(null),U=[],E=[],R={};qt(t,function(X,Q){if(!W(X)){Z(Q,[X]),E.push(Q);return}var nt=X.slice(0,X.length-1),wt=nt.length;if(wt===0){Z(Q,X),E.push(Q);return}R[Q]=wt,sr(nt,function(Vt){if(!t[Vt])throw new Error("async.auto task `"+Q+"` has a non-existent dependency `"+Vt+"` in "+nt.join(", "));_t(Vt,function(){wt--,wt===0&&Z(Q,X)})})}),Ra(),ot();function Z(X,Q){U.push(function(){bt(X,Q)})}function ot(){if(U.length===0&&v===0)return o(null,f);for(;U.length&&v<n;){var X=U.shift();X()}}function _t(X,Q){var nt=F[X];nt||(nt=F[X]=[]),nt.push(Q)}function gt(X){var Q=F[X]||[];sr(Q,function(nt){nt()}),ot()}function bt(X,Q){if(!y){var nt=mt(function(Vt,Xr){if(v--,arguments.length>2&&(Xr=a(arguments,1)),Vt){var Jr={};qt(f,function(Ga,Ka){Jr[Ka]=Ga}),Jr[X]=Xr,y=!0,F=Object.create(null),o(Vt,Jr)}else f[X]=Xr,gt(X)});v++;var wt=p(Q[Q.length-1]);Q.length>1?wt(f,nt):wt(nt)}}function Ra(){for(var X,Q=0;E.length;)X=E.pop(),Q++,sr(Va(X),function(nt){--R[nt]===0&&E.push(nt)});if(Q!==c)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Va(X){var Q=[];return qt(t,function(nt,wt){W(nt)&&fr(nt,X,0)>=0&&Q.push(wt)}),Q}};function Pt(t,n){for(var o=-1,u=t==null?0:t.length,c=Array(u);++o<u;)c[o]=n(t[o],o,t);return c}var Xi="[object Symbol]";function Ji(t){return typeof t=="symbol"||yt(t)&&A(t)==Xi}var Qi=1/0,ke=w?w.prototype:void 0,Ce=ke?ke.toString:void 0;function Pr(t){if(typeof t=="string")return t;if(W(t))return Pt(t,Pr)+"";if(Ji(t))return Ce?Ce.call(t):"";var n=t+"";return n=="0"&&1/t==-Qi?"-0":n}function ta(t,n,o){var u=-1,c=t.length;n<0&&(n=-n>c?0:c+n),o=o>c?c:o,o<0&&(o+=c),c=n>o?0:o-n>>>0,n>>>=0;for(var f=Array(c);++u<c;)f[u]=t[u+n];return f}function ra(t,n,o){var u=t.length;return o=o===void 0?u:o,!n&&o>=u?t:ta(t,n,o)}function ea(t,n){for(var o=t.length;o--&&fr(n,t[o],0)>-1;);return o}function na(t,n){for(var o=-1,u=t.length;++o<u&&fr(n,t[o],0)>-1;);return o}function ia(t){return t.split("")}var aa="\\ud800-\\udfff",oa="\\u0300-\\u036f",ua="\\ufe20-\\ufe2f",sa="\\u20d0-\\u20ff",fa=oa+ua+sa,ca="\\ufe0e\\ufe0f",ha="\\u200d",la=RegExp("["+ha+aa+fa+ca+"]");function va(t){return la.test(t)}var Se="\\ud800-\\udfff",pa="\\u0300-\\u036f",ya="\\ufe20-\\ufe2f",ga="\\u20d0-\\u20ff",da=pa+ya+ga,ma="\\ufe0e\\ufe0f",_a="["+Se+"]",Nr="["+da+"]",Rr="\\ud83c[\\udffb-\\udfff]",ba="(?:"+Nr+"|"+Rr+")",Fe="[^"+Se+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",wa="\\u200d",De=ba+"?",Be="["+ma+"]?",Aa="(?:"+wa+"(?:"+[Fe,Te,Ee].join("|")+")"+Be+De+")*",ka=Be+De+Aa,Ca="(?:"+[Fe+Nr+"?",Nr,Te,Ee,_a].join("|")+")",Sa=RegExp(Rr+"(?="+Rr+")|"+Ca+ka,"g");function Fa(t){return t.match(Sa)||[]}function je(t){return va(t)?Fa(t):ia(t)}function Ta(t){return t==null?"":Pr(t)}var Ea=/^\s+|\s+$/g;function Da(t,n,o){if(t=Ta(t),t&&(o||n===void 0))return t.replace(Ea,"");if(!t||!(n=Pr(n)))return t;var u=je(t),c=je(n),f=na(u,c),v=ea(u,c)+1;return ra(u,f,v).join("")}var Ba=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ja=/,/,Ia=/(=.+)?(\s*)$/,La=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function Oa(t){return t=t.toString().replace(La,""),t=t.match(Ba)[2].replace(" ",""),t=t?t.split(ja):[],t=t.map(function(n){return Da(n.replace(Ia,""))}),t}function Ie(t,n){var o={};qt(t,function(u,c){var f,v=vt(u),y=!v&&u.length===1||v&&u.length===0;if(W(u))f=u.slice(0,-1),u=u[u.length-1],o[c]=f.concat(f.length>0?F:u);else if(y)o[c]=u;else{if(f=Oa(u),u.length===0&&!v&&f.length===0)throw new Error("autoInject task functions require explicit parameters.");v||f.pop(),o[c]=f.concat(F)}function F(U,E){var R=Pt(f,function(Z){return U[Z]});R.push(E),p(u).apply(null,R)}}),Mr(o,n)}function dt(){this.head=this.tail=null,this.length=0}function Le(t,n){t.length=1,t.head=t.tail=n}dt.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},dt.prototype.empty=function(){for(;this.head;)this.shift();return this},dt.prototype.insertAfter=function(t,n){n.prev=t,n.next=t.next,t.next?t.next.prev=n:this.tail=n,t.next=n,this.length+=1},dt.prototype.insertBefore=function(t,n){n.prev=t.prev,n.next=t,t.prev?t.prev.next=n:this.head=n,t.prev=n,this.length+=1},dt.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):Le(this,t)},dt.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):Le(this,t)},dt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},dt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},dt.prototype.toArray=function(){for(var t=Array(this.length),n=this.head,o=0;o<this.length;o++)t[o]=n.data,n=n.next;return t},dt.prototype.remove=function(t){for(var n=this.head;n;){var o=n.next;t(n)&&this.removeLink(n),n=o}return this};function Oe(t,n,o){if(n==null)n=1;else if(n===0)throw new Error("Concurrency must not be zero");var u=p(t),c=0,f=[],v=!1;function y(R,Z,ot){if(ot!=null&&typeof ot!="function")throw new Error("task callback must be a function");if(E.started=!0,W(R)||(R=[R]),R.length===0&&E.idle())return C(function(){E.drain()});for(var _t=0,gt=R.length;_t<gt;_t++){var bt={data:R[_t],callback:ot||$};Z?E._tasks.unshift(bt):E._tasks.push(bt)}v||(v=!0,C(function(){v=!1,E.process()}))}function F(R){return function(Z){c-=1;for(var ot=0,_t=R.length;ot<_t;ot++){var gt=R[ot],bt=fr(f,gt,0);bt===0?f.shift():bt>0&&f.splice(bt,1),gt.callback.apply(gt,arguments),Z!=null&&E.error(Z,gt.data)}c<=E.concurrency-E.buffer&&E.unsaturated(),E.idle()&&E.drain(),E.process()}}var U=!1,E={_tasks:new dt,concurrency:n,payload:o,saturated:$,unsaturated:$,buffer:n/4,empty:$,drain:$,error:$,started:!1,paused:!1,push:function(R,Z){y(R,!1,Z)},kill:function(){E.drain=$,E._tasks.empty()},unshift:function(R,Z){y(R,!0,Z)},remove:function(R){E._tasks.remove(R)},process:function(){if(!U){for(U=!0;!E.paused&&c<E.concurrency&&E._tasks.length;){var R=[],Z=[],ot=E._tasks.length;E.payload&&(ot=Math.min(ot,E.payload));for(var _t=0;_t<ot;_t++){var gt=E._tasks.shift();R.push(gt),f.push(gt),Z.push(gt.data)}c+=1,E._tasks.length===0&&E.empty(),c===E.concurrency&&E.saturated();var bt=mt(F(R));u(Z,bt)}U=!1}},length:function(){return E._tasks.length},running:function(){return c},workersList:function(){return f},idle:function(){return E._tasks.length+c===0},pause:function(){E.paused=!0},resume:function(){E.paused!==!1&&(E.paused=!1,C(E.process))}};return E}function Ue(t,n){return Oe(t,1,n)}var Nt=it(It,1);function Dt(t,n,o,u){u=O(u||$);var c=p(o);Nt(t,function(f,v,y){c(n,f,function(F,U){n=U,y(F)})},function(f){u(f,n)})}function Vr(){var t=Pt(arguments,p);return function(){var n=a(arguments),o=this,u=n[n.length-1];typeof u=="function"?n.pop():u=$,Dt(t,n,function(c,f,v){f.apply(o,c.concat(function(y){var F=a(arguments,1);v(y,F)}))},function(c,f){u.apply(o,[c].concat(f))})}}var xe=function(){return Vr.apply(null,a(arguments).reverse())},Ua=Array.prototype.concat,cr=function(t,n,o,u){u=u||$;var c=p(o);Mt(t,n,function(f,v){c(f,function(y){return y?v(y):v(null,a(arguments,1))})},function(f,v){for(var y=[],F=0;F<v.length;F++)v[F]&&(y=Ua.apply(y,v[F]));return u(f,y)})},ze=it(cr,1/0),$e=it(cr,1),Me=function(){var t=a(arguments),n=[null].concat(t);return function(){var o=arguments[arguments.length-1];return o.apply(this,n)}};function Zt(t){return t}function Rt(t,n){return function(o,u,c,f){f=f||$;var v=!1,y;o(u,function(F,U,E){c(F,function(R,Z){R?E(R):t(Z)&&!y?(v=!0,y=n(!0,F),E(null,tt)):E()})},function(F){F?f(F):f(null,v?y:n(!1))})}}function Pe(t,n){return n}var hr=zt(Rt(Zt,Pe)),Xt=$t(Rt(Zt,Pe)),lr=it(Xt,1);function Ne(t){return function(n){var o=a(arguments,1);o.push(function(u){var c=a(arguments,1);typeof console=="object"&&(u?console.error&&console.error(u):console[t]&&sr(c,function(f){console[t](f)}))}),p(n).apply(null,o)}}var Re=Ne("dir");function Ve(t,n,o){o=mt(o||$);var u=p(t),c=p(n);function f(y){if(y)return o(y);var F=a(arguments,1);F.push(v),c.apply(this,F)}function v(y,F){if(y)return o(y);if(!F)return o(null);u(f)}v(null,!0)}function Gr(t,n,o){o=mt(o||$);var u=p(t),c=function(f){if(f)return o(f);var v=a(arguments,1);if(n.apply(this,v))return u(c);o.apply(null,[null].concat(v))};u(c)}function Ge(t,n,o){Gr(t,function(){return!n.apply(this,arguments)},o)}function Ke(t,n,o){o=mt(o||$);var u=p(n),c=p(t);function f(y){if(y)return o(y);c(v)}function v(y,F){if(y)return o(y);if(!F)return o(null);u(f)}c(v)}function Ye(t){return function(n,o,u){return t(n,u)}}function vr(t,n,o){Et(t,Ye(p(n)),o)}function Jt(t,n,o,u){or(n)(t,Ye(p(o)),u)}var Qt=it(Jt,1);function Kr(t){return vt(t)?t:l(function(n,o){var u=!0;n.push(function(){var c=arguments;u?C(function(){o.apply(null,c)}):o.apply(null,c)}),t.apply(this,n),u=!1})}function pr(t){return!t}var yr=zt(Rt(pr,pr)),tr=$t(Rt(pr,pr)),gr=it(tr,1);function He(t){return function(n){return n==null?void 0:n[t]}}function xa(t,n,o,u){var c=new Array(n.length);t(n,function(f,v,y){o(f,function(F,U){c[v]=!!U,y(F)})},function(f){if(f)return u(f);for(var v=[],y=0;y<n.length;y++)c[y]&&v.push(n[y]);u(null,v)})}function za(t,n,o,u){var c=[];t(n,function(f,v,y){o(f,function(F,U){F?y(F):(U&&c.push({index:v,value:f}),y())})},function(f){f?u(f):u(null,Pt(c.sort(function(v,y){return v.index-y.index}),He("value")))})}function Yr(t,n,o,u){var c=H(n)?xa:za;c(t,n,p(o),u||$)}var dr=zt(Yr),rr=$t(Yr),mr=it(rr,1);function We(t,n){var o=mt(n||$),u=p(Kr(t));function c(f){if(f)return o(f);u(c)}c()}var _r=function(t,n,o,u){u=u||$;var c=p(o);Mt(t,n,function(f,v){c(f,function(y,F){return y?v(y):v(null,{key:F,val:f})})},function(f,v){for(var y={},F=Object.prototype.hasOwnProperty,U=0;U<v.length;U++)if(v[U]){var E=v[U].key,R=v[U].val;F.call(y,E)?y[E].push(R):y[E]=[R]}return u(f,y)})},qe=it(_r,1/0),Ze=it(_r,1),Xe=Ne("log");function br(t,n,o,u){u=O(u||$);var c={},f=p(o);It(t,n,function(v,y,F){f(v,y,function(U,E){if(U)return F(U);c[y]=E,F()})},function(v){u(v,c)})}var Je=it(br,1/0),Qe=it(br,1);function tn(t,n){return n in t}function rn(t,n){var o=Object.create(null),u=Object.create(null);n=n||Zt;var c=p(t),f=l(function(y,F){var U=n.apply(null,y);tn(o,U)?C(function(){F.apply(null,o[U])}):tn(u,U)?u[U].push(F):(u[U]=[F],c.apply(null,y.concat(function(){var E=a(arguments);o[U]=E;var R=u[U];delete u[U];for(var Z=0,ot=R.length;Z<ot;Z++)R[Z].apply(null,E)})))});return f.memo=o,f.unmemoized=t,f}var wr;L?wr=process.nextTick:k?wr=setImmediate:wr=P;var en=z(wr);function Hr(t,n,o){o=o||$;var u=H(n)?[]:{};t(n,function(c,f,v){p(c)(function(y,F){arguments.length>2&&(F=a(arguments,1)),u[f]=F,v(y)})},function(c){o(c,u)})}function nn(t,n){Hr(Et,t,n)}function an(t,n,o){Hr(or(n),t,o)}var Wr=function(t,n){var o=p(t);return Oe(function(u,c){o(u[0],c)},n,1)},on=function(t,n){var o=Wr(t,n);return o.push=function(u,c,f){if(f==null&&(f=$),typeof f!="function")throw new Error("task callback must be a function");if(o.started=!0,W(u)||(u=[u]),u.length===0)return C(function(){o.drain()});c=c||0;for(var v=o._tasks.head;v&&c>=v.priority;)v=v.next;for(var y=0,F=u.length;y<F;y++){var U={data:u[y],priority:c,callback:f};v?o._tasks.insertBefore(v,U):o._tasks.push(U)}C(o.process)},delete o.unshift,o};function un(t,n){if(n=O(n||$),!W(t))return n(new TypeError("First argument to race must be an array of functions"));if(!t.length)return n();for(var o=0,u=t.length;o<u;o++)p(t[o])(n)}function Ar(t,n,o,u){var c=a(t).reverse();Dt(c,n,o,u)}function kr(t){var n=p(t);return l(function(u,c){return u.push(function(v,y){if(v)c(null,{error:v});else{var F;arguments.length<=2?F=y:F=a(arguments,1),c(null,{value:F})}}),n.apply(this,u)})}function sn(t){var n;return W(t)?n=Pt(t,kr):(n={},qt(t,function(o,u){n[u]=kr.call(this,o)})),n}function fn(t,n,o,u){Yr(t,n,function(c,f){o(c,function(v,y){f(v,!y)})},u)}var cn=zt(fn),qr=$t(fn),hn=it(qr,1);function ln(t){return function(){return t}}function Cr(t,n,o){var u=5,c=0,f={times:u,intervalFunc:ln(c)};function v(E,R){if(typeof R=="object")E.times=+R.times||u,E.intervalFunc=typeof R.interval=="function"?R.interval:ln(+R.interval||c),E.errorFilter=R.errorFilter;else if(typeof R=="number"||typeof R=="string")E.times=+R||u;else throw new Error("Invalid arguments for async.retry")}if(arguments.length<3&&typeof t=="function"?(o=n||$,n=t):(v(f,t),o=o||$),typeof n!="function")throw new Error("Invalid arguments for async.retry");var y=p(n),F=1;function U(){y(function(E){E&&F++<f.times&&(typeof f.errorFilter!="function"||f.errorFilter(E))?setTimeout(U,f.intervalFunc(F)):o.apply(null,arguments)})}U()}var vn=function(t,n){n||(n=t,t=null);var o=p(n);return l(function(u,c){function f(v){o.apply(null,u.concat(v))}t?Cr(t,f,c):Cr(f,c)})};function pn(t,n){Hr(Nt,t,n)}var Sr=zt(Rt(Boolean,Zt)),er=$t(Rt(Boolean,Zt)),Fr=it(er,1);function yn(t,n,o){var u=p(n);ur(t,function(f,v){u(f,function(y,F){if(y)return v(y);v(null,{value:f,criteria:F})})},function(f,v){if(f)return o(f);o(null,Pt(v.sort(c),He("value")))});function c(f,v){var y=f.criteria,F=v.criteria;return y<F?-1:y>F?1:0}}function gn(t,n,o){var u=p(t);return l(function(c,f){var v=!1,y;function F(){var U=t.name||"anonymous",E=new Error('Callback function "'+U+'" timed out.');E.code="ETIMEDOUT",o&&(E.info=o),v=!0,f(E)}c.push(function(){v||(f.apply(null,arguments),clearTimeout(y))}),y=setTimeout(F,n),u.apply(null,c)})}var $a=Math.ceil,Ma=Math.max;function Pa(t,n,o,u){for(var c=-1,f=Ma($a((n-t)/(o||1)),0),v=Array(f);f--;)v[u?f:++c]=t,t+=o;return v}function Tr(t,n,o,u){var c=p(o);Mt(Pa(0,t,1),n,c,u)}var dn=it(Tr,1/0),mn=it(Tr,1);function _n(t,n,o,u){arguments.length<=3&&(u=o,o=n,n=W(t)?[]:{}),u=O(u||$);var c=p(o);Et(t,function(f,v,y){c(n,f,v,y)},function(f){u(f,n)})}function bn(t,n){var o=null,u;n=n||$,Qt(t,function(c,f){p(c)(function(v,y){arguments.length>2?u=a(arguments,1):u=y,o=v,f(!v)})},function(){n(o,u)})}function wn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Zr(t,n,o){o=mt(o||$);var u=p(n);if(!t())return o(null);var c=function(f){if(f)return o(f);if(t())return u(c);var v=a(arguments,1);o.apply(null,[null].concat(v))};u(c)}function An(t,n,o){Zr(function(){return!t.apply(this,arguments)},n,o)}var kn=function(t,n){if(n=O(n||$),!W(t))return n(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return n();var o=0;function u(f){var v=p(t[o++]);f.push(mt(c)),v.apply(null,f)}function c(f){if(f||o===t.length)return n.apply(null,arguments);u(a(arguments,1))}u([])},Na={apply:s,applyEach:we,applyEachSeries:Ae,asyncify:K,auto:Mr,autoInject:Ie,cargo:Ue,compose:xe,concat:ze,concatLimit:cr,concatSeries:$e,constant:Me,detect:hr,detectLimit:Xt,detectSeries:lr,dir:Re,doDuring:Ve,doUntil:Ge,doWhilst:Gr,during:Ke,each:vr,eachLimit:Jt,eachOf:Et,eachOfLimit:It,eachOfSeries:Nt,eachSeries:Qt,ensureAsync:Kr,every:yr,everyLimit:tr,everySeries:gr,filter:dr,filterLimit:rr,filterSeries:mr,forever:We,groupBy:qe,groupByLimit:_r,groupBySeries:Ze,log:Xe,map:ur,mapLimit:Mt,mapSeries:$r,mapValues:Je,mapValuesLimit:br,mapValuesSeries:Qe,memoize:rn,nextTick:en,parallel:nn,parallelLimit:an,priorityQueue:on,queue:Wr,race:un,reduce:Dt,reduceRight:Ar,reflect:kr,reflectAll:sn,reject:cn,rejectLimit:qr,rejectSeries:hn,retry:Cr,retryable:vn,seq:Vr,series:pn,setImmediate:C,some:Sr,someLimit:er,someSeries:Fr,sortBy:yn,timeout:gn,times:dn,timesLimit:Tr,timesSeries:mn,transform:_n,tryEach:bn,unmemoize:wn,until:An,waterfall:kn,whilst:Zr,all:yr,allLimit:tr,allSeries:gr,any:Sr,anyLimit:er,anySeries:Fr,find:hr,findLimit:Xt,findSeries:lr,forEach:vr,forEachSeries:Qt,forEachLimit:Jt,forEachOf:Et,forEachOfSeries:Nt,forEachOfLimit:It,inject:Dt,foldl:Dt,foldr:Ar,select:dr,selectLimit:rr,selectSeries:mr,wrapSync:K};e.default=Na,e.apply=s,e.applyEach=we,e.applyEachSeries=Ae,e.asyncify=K,e.auto=Mr,e.autoInject=Ie,e.cargo=Ue,e.compose=xe,e.concat=ze,e.concatLimit=cr,e.concatSeries=$e,e.constant=Me,e.detect=hr,e.detectLimit=Xt,e.detectSeries=lr,e.dir=Re,e.doDuring=Ve,e.doUntil=Ge,e.doWhilst=Gr,e.during=Ke,e.each=vr,e.eachLimit=Jt,e.eachOf=Et,e.eachOfLimit=It,e.eachOfSeries=Nt,e.eachSeries=Qt,e.ensureAsync=Kr,e.every=yr,e.everyLimit=tr,e.everySeries=gr,e.filter=dr,e.filterLimit=rr,e.filterSeries=mr,e.forever=We,e.groupBy=qe,e.groupByLimit=_r,e.groupBySeries=Ze,e.log=Xe,e.map=ur,e.mapLimit=Mt,e.mapSeries=$r,e.mapValues=Je,e.mapValuesLimit=br,e.mapValuesSeries=Qe,e.memoize=rn,e.nextTick=en,e.parallel=nn,e.parallelLimit=an,e.priorityQueue=on,e.queue=Wr,e.race=un,e.reduce=Dt,e.reduceRight=Ar,e.reflect=kr,e.reflectAll=sn,e.reject=cn,e.rejectLimit=qr,e.rejectSeries=hn,e.retry=Cr,e.retryable=vn,e.seq=Vr,e.series=pn,e.setImmediate=C,e.some=Sr,e.someLimit=er,e.someSeries=Fr,e.sortBy=yn,e.timeout=gn,e.times=dn,e.timesLimit=Tr,e.timesSeries=mn,e.transform=_n,e.tryEach=bn,e.unmemoize=wn,e.until=An,e.waterfall=kn,e.whilst=Zr,e.all=yr,e.allLimit=tr,e.allSeries=gr,e.any=Sr,e.anyLimit=er,e.anySeries=Fr,e.find=hr,e.findLimit=Xt,e.findSeries=lr,e.forEach=vr,e.forEachSeries=Qt,e.forEachLimit=Jt,e.forEachOf=Et,e.forEachOfSeries=Nt,e.forEachOfLimit=It,e.inject=Dt,e.foldl=Dt,e.foldr=Ar,e.select=dr,e.selectLimit=rr,e.selectSeries=mr,e.wrapSync=K,Object.defineProperty(e,"__esModule",{value:!0})})})(ee,ee.exports);var ue={exports:{}};(function(r){(function(){var i="\0",e=0,a=0,s=-1,l=!0,m=!0,k=4,L=4,P=2,z=function(p){p==null&&(p=1024);var D=function(T,M,V){for(var J=M;J<V;J++)T[J]=-J+1;if(0<j.array[j.array.length-1]){for(var ct=j.array.length-2;0<j.array[ct];)ct--;T[M]=-ct}},I=function(T,M,V){for(var J=M;J<V;J++)T[J]=-J-1},B=function(T){var M=T*P,V=K(w.signed,w.bytes,M);D(V,w.array.length,M),V.set(w.array),w.array=null,w.array=V;var J=K(j.signed,j.bytes,M);I(J,j.array.length,M),J.set(j.array),j.array=null,j.array=J},S=a+1,w={signed:l,bytes:k,array:K(l,k,p)},j={signed:m,bytes:L,array:K(m,L,p)};return w.array[a]=1,j.array[a]=a,D(w.array,a+1,w.array.length),I(j.array,a+1,j.array.length),{getBaseBuffer:function(){return w.array},getCheckBuffer:function(){return j.array},loadBaseBuffer:function(T){return w.array=T,this},loadCheckBuffer:function(T){return j.array=T,this},size:function(){return Math.max(w.array.length,j.array.length)},getBase:function(T){return w.array.length-1<T?-T+1:w.array[T]},getCheck:function(T){return j.array.length-1<T?-T-1:j.array[T]},setBase:function(T,M){w.array.length-1<T&&B(T),w.array[T]=M},setCheck:function(T,M){j.array.length-1<T&&B(T),j.array[T]=M},setFirstUnusedNode:function(T){S=T},getFirstUnusedNode:function(){return S},shrink:function(){for(var T=this.size()-1;!(0<=j.array[T]);)T--;w.array=w.array.subarray(0,T+2),j.array=j.array.subarray(0,T+2)},calc:function(){for(var T=0,M=j.array.length,V=0;V<M;V++)j.array[V]<0&&T++;return{all:M,unused:T,efficiency:(M-T)/M}},dump:function(){var T="",M="",V;for(V=0;V<w.array.length;V++)T=T+" "+this.getBase(V);for(V=0;V<j.array.length;V++)M=M+" "+this.getCheck(V);return console.log("base:"+T),console.log("chck:"+M),"base:"+T+" chck:"+M}}};function b(p){this.bc=z(p),this.keys=[]}b.prototype.append=function(p,D){return this.keys.push({k:p,v:D}),this},b.prototype.build=function(p,D){if(p==null&&(p=this.keys),p==null)return new C(this.bc);D==null&&(D=!1);var I=p.map(function(B){return{k:rt(B.k+i),v:B.v}});return D?this.keys=I:this.keys=I.sort(function(B,S){for(var w=B.k,j=S.k,T=Math.min(w.length,j.length),M=0;M<T;M++)if(w[M]!==j[M])return w[M]-j[M];return w.length-j.length}),I=null,this._build(a,0,0,this.keys.length),new C(this.bc)},b.prototype._build=function(p,D,I,B){var S=this.getChildrenInfo(D,I,B),w=this.findAllocatableBase(S);this.setBC(p,S,w);for(var j=0;j<S.length;j=j+3){var T=S[j];if(T!==e){var M=S[j+1],V=S[j+2],J=w+T;this._build(J,D+1,M,V)}}},b.prototype.getChildrenInfo=function(p,D,I){var B=this.keys[D].k[p],S=0,w=new Int32Array(I*3);w[S++]=B,w[S++]=D;for(var j=D,T=D;j<D+I;j++){var M=this.keys[j].k[p];B!==M&&(w[S++]=j-T,w[S++]=M,w[S++]=j,B=M,T=j)}return w[S++]=j-T,w=w.subarray(0,S),w},b.prototype.setBC=function(p,D,I){var B=this.bc;B.setBase(p,I);var S;for(S=0;S<D.length;S=S+3){var w=D[S],j=I+w,T=-B.getBase(j),M=-B.getCheck(j);j!==B.getFirstUnusedNode()?B.setCheck(T,-M):B.setFirstUnusedNode(M),B.setBase(M,-T);var V=p;if(B.setCheck(j,V),w===e){var J=D[S+1],ct=this.keys[J].v;ct==null&&(ct=0);var Ut=-ct-1;B.setBase(j,Ut)}}},b.prototype.findAllocatableBase=function(p){for(var D=this.bc,I,B=D.getFirstUnusedNode();;){if(I=B-p[0],I<0){B=-D.getCheck(B);continue}for(var S=!0,w=0;w<p.length;w=w+3){var j=p[w],T=I+j;if(!this.isUnusedNode(T)){B=-D.getCheck(B),S=!1;break}}if(S)return I}},b.prototype.isUnusedNode=function(p){var D=this.bc,I=D.getCheck(p);return p===a?!1:I<0};function C(p){this.bc=p,this.bc.shrink()}C.prototype.contain=function(p){var D=this.bc;p+=i;for(var I=rt(p),B=a,S=s,w=0;w<I.length;w++){var j=I[w];if(S=this.traverse(B,j),S===s)return!1;if(D.getBase(S)<=0)return!0;B=S}return!1},C.prototype.lookup=function(p){p+=i;for(var D=rt(p),I=a,B=s,S=0;S<D.length;S++){var w=D[S];if(B=this.traverse(I,w),B===s)return s;I=B}var j=this.bc.getBase(B);return j<=0?-j-1:s},C.prototype.commonPrefixSearch=function(p){for(var D=rt(p),I=a,B=s,S=[],w=0;w<D.length;w++){var j=D[w];if(B=this.traverse(I,j),B!==s){I=B;var T=this.traverse(B,e);if(T!==s){var M=this.bc.getBase(T),V={};M<=0&&(V.v=-M-1),V.k=at(ut(D,0,w+1)),S.push(V)}continue}else break}return S},C.prototype.traverse=function(p,D){var I=this.bc.getBase(p)+D;return this.bc.getCheck(I)===p?I:s},C.prototype.size=function(){return this.bc.size()},C.prototype.calc=function(){return this.bc.calc()},C.prototype.dump=function(){return this.bc.dump()};var K=function(p,D,I){if(p)switch(D){case 1:return new Int8Array(I);case 2:return new Int16Array(I);case 4:return new Int32Array(I);default:throw new RangeError("Invalid newArray parameter element_bytes:"+D)}else switch(D){case 1:return new Uint8Array(I);case 2:return new Uint16Array(I);case 4:return new Uint32Array(I);default:throw new RangeError("Invalid newArray parameter element_bytes:"+D)}},ut=function(p,D,I){var B=new ArrayBuffer(I),S=new Uint8Array(B,0,I),w=p.subarray(D,I);return S.set(w),S},rt=function(p){for(var D=new Uint8Array(new ArrayBuffer(p.length*4)),I=0,B=0;I<p.length;){var S,w=p.charCodeAt(I++);if(w>=55296&&w<=56319){var j=w,T=p.charCodeAt(I++);if(T>=56320&&T<=57343)S=(j-55296)*(1<<10)+(1<<16)+(T-56320);else return null}else S=w;S<128?D[B++]=S:S<1<<11?(D[B++]=S>>>6|192,D[B++]=S&63|128):S<1<<16?(D[B++]=S>>>12|224,D[B++]=S>>6&63|128,D[B++]=S&63|128):S<1<<21&&(D[B++]=S>>>18|240,D[B++]=S>>12&63|128,D[B++]=S>>6&63|128,D[B++]=S&63|128)}return D.subarray(0,B)},at=function(p){for(var D="",I,B,S,w,j,T,M,V=0;V<p.length;)B=p[V++],B<128?I=B:B>>5===6?(S=p[V++],I=(B&31)<<6|S&63):B>>4===14?(S=p[V++],w=p[V++],I=(B&15)<<12|(S&63)<<6|w&63):(S=p[V++],w=p[V++],j=p[V++],I=(B&7)<<18|(S&63)<<12|(w&63)<<6|j&63),I<65536?D+=String.fromCharCode(I):(I-=65536,T=55296|I>>10,M=56320|I&1023,D+=String.fromCharCode(T,M));return D},vt={builder:function(p){return new b(p)},load:function(p,D){var I=z(0);return I.loadBaseBuffer(p),I.loadCheckBuffer(D),new C(I)}};r.exports=vt})()})(ue);var oo=function(r){for(var i=new Uint8Array(r.length*4),e=0,a=0;e<r.length;){var s,l=r.charCodeAt(e++);if(l>=55296&&l<=56319){var m=l,k=r.charCodeAt(e++);if(k>=56320&&k<=57343)s=(m-55296)*(1<<10)+(1<<16)+(k-56320);else return null}else s=l;s<128?i[a++]=s:s<1<<11?(i[a++]=s>>>6|192,i[a++]=s&63|128):s<1<<16?(i[a++]=s>>>12|224,i[a++]=s>>6&63|128,i[a++]=s&63|128):s<1<<21&&(i[a++]=s>>>18|240,i[a++]=s>>12&63|128,i[a++]=s>>6&63|128,i[a++]=s&63|128)}return i.subarray(0,a)},uo=function(r){for(var i="",e,a,s,l,m,k,L,P=0;P<r.length;)a=r[P++],a<128?e=a:a>>5===6?(s=r[P++],e=(a&31)<<6|s&63):a>>4===14?(s=r[P++],l=r[P++],e=(a&15)<<12|(s&63)<<6|l&63):(s=r[P++],l=r[P++],m=r[P++],e=(a&7)<<18|(s&63)<<12|(l&63)<<6|m&63),e<65536?i+=String.fromCharCode(e):(e-=65536,k=55296|e>>10,L=56320|e&1023,i+=String.fromCharCode(k,L));return i};function pt(r){var i;if(r==null)i=1024*1024;else if(typeof r=="number")i=r;else if(r instanceof Uint8Array){this.buffer=r,this.position=0;return}else throw typeof r+" is invalid parameter type for ByteBuffer constructor";this.buffer=new Uint8Array(i),this.position=0}pt.prototype.size=function(){return this.buffer.length};pt.prototype.reallocate=function(){var r=new Uint8Array(this.buffer.length*2);r.set(this.buffer),this.buffer=r};pt.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer};pt.prototype.put=function(r){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=r};pt.prototype.get=function(r){return r==null&&(r=this.position,this.position+=1),this.buffer.length<r+1?0:this.buffer[r]};pt.prototype.putShort=function(r){if(65535<r)throw r+" is over short value";var i=255&r,e=(65280&r)>>8;this.put(i),this.put(e)};pt.prototype.getShort=function(r){if(r==null&&(r=this.position,this.position+=2),this.buffer.length<r+2)return 0;var i=this.buffer[r],e=this.buffer[r+1],a=(e<<8)+i;return a&32768&&(a=-(a-1^65535)),a};pt.prototype.putInt=function(r){if(4294967295<r)throw r+" is over integer value";var i=255&r,e=(65280&r)>>8,a=(16711680&r)>>16,s=(4278190080&r)>>24;this.put(i),this.put(e),this.put(a),this.put(s)};pt.prototype.getInt=function(r){if(r==null&&(r=this.position,this.position+=4),this.buffer.length<r+4)return 0;var i=this.buffer[r],e=this.buffer[r+1],a=this.buffer[r+2],s=this.buffer[r+3];return(s<<24)+(a<<16)+(e<<8)+i};pt.prototype.readInt=function(){var r=this.position;return this.position+=4,this.getInt(r)};pt.prototype.putString=function(r){for(var i=oo(r),e=0;e<i.length;e++)this.put(i[e]);this.put(0)};pt.prototype.getString=function(r){var i=[],e;for(r==null&&(r=this.position);!(this.buffer.length<r+1||(e=this.get(r++),e===0));)i.push(e);return this.position=r,uo(i)};var se=pt,Yt=se;function Ct(){this.dictionary=new Yt(10*1024*1024),this.target_map={},this.pos_buffer=new Yt(10*1024*1024)}Ct.prototype.buildDictionary=function(r){for(var i={},e=0;e<r.length;e++){var a=r[e];if(!(a.length<4)){var s=a[0],l=a[1],m=a[2],k=a[3],L=a.slice(4).join(",");(!isFinite(l)||!isFinite(m)||!isFinite(k))&&console.log(a);var P=this.put(l,m,k,s,L);i[P]=s}}return this.dictionary.shrink(),this.pos_buffer.shrink(),i};Ct.prototype.put=function(r,i,e,a,s){var l=this.dictionary.position,m=this.pos_buffer.position;return this.dictionary.putShort(r),this.dictionary.putShort(i),this.dictionary.putShort(e),this.dictionary.putInt(m),this.pos_buffer.putString(a+","+s),l};Ct.prototype.addMapping=function(r,i){var e=this.target_map[r];e==null&&(e=[]),e.push(i),this.target_map[r]=e};Ct.prototype.targetMapToBuffer=function(){var r=new Yt,i=Object.keys(this.target_map).length;r.putInt(i);for(var e in this.target_map){var a=this.target_map[e],s=a.length;r.putInt(parseInt(e)),r.putInt(s);for(var l=0;l<a.length;l++)r.putInt(a[l])}return r.shrink()};Ct.prototype.loadDictionary=function(r){return this.dictionary=new Yt(r),this};Ct.prototype.loadPosVector=function(r){return this.pos_buffer=new Yt(r),this};Ct.prototype.loadTargetMap=function(r){var i=new Yt(r);for(i.position=0,this.target_map={},i.readInt();!(i.buffer.length<i.position+1);)for(var e=i.readInt(),a=i.readInt(),s=0;s<a;s++){var l=i.readInt();this.addMapping(e,l)}return this};Ct.prototype.getFeatures=function(r){var i=parseInt(r);if(isNaN(i))return"";var e=this.dictionary.getInt(i+6);return this.pos_buffer.getString(e)};var fe=Ct;function Or(r,i){this.forward_dimension=r,this.backward_dimension=i,this.buffer=new Int16Array(r*i+2),this.buffer[0]=r,this.buffer[1]=i}Or.prototype.put=function(r,i,e){var a=r*this.backward_dimension+i+2;if(this.buffer.length<a+1)throw"ConnectionCosts buffer overflow";this.buffer[a]=e};Or.prototype.get=function(r,i){var e=r*this.backward_dimension+i+2;if(this.buffer.length<e+1)throw"ConnectionCosts buffer overflow";return this.buffer[e]};Or.prototype.loadConnectionCosts=function(r){this.forward_dimension=r[0],this.backward_dimension=r[1],this.buffer=r};var zn=Or;function so(r,i,e,a,s){this.class_id=r,this.class_name=i,this.is_always_invoke=e,this.is_grouping=a,this.max_length=s}var $n=so,Mn=se,fo=$n;function Lt(){this.map=[],this.lookup_table={}}Lt.load=function(r){for(var i=new Lt,e=[],a=new Mn(r);a.position+1<a.size();){var s=e.length,l=a.get(),m=a.get(),k=a.getInt(),L=a.getString();e.push(new fo(s,L,l,m,k))}return i.init(e),i};Lt.prototype.init=function(r){if(r!=null)for(var i=0;i<r.length;i++){var e=r[i];this.map[i]=e,this.lookup_table[e.class_name]=i}};Lt.prototype.getCharacterClass=function(r){return this.map[r]};Lt.prototype.lookup=function(r){var i=this.lookup_table[r];return i==null?null:i};Lt.prototype.toBuffer=function(){for(var r=new Mn,i=0;i<this.map.length;i++){var e=this.map[i];r.put(e.is_always_invoke),r.put(e.is_grouping),r.putInt(e.max_length),r.putString(e.class_name)}return r.shrink(),r.buffer};var Pn=Lt,co=Pn,ho=$n,lo=Un,ne="DEFAULT";function kt(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}kt.load=function(r,i,e){var a=new kt;return a.character_category_map=r,a.compatible_category_map=i,a.invoke_definition_map=co.load(e),a};kt.parseCharCategory=function(r,i){var e=i[1],a=parseInt(i[2]),s=parseInt(i[3]),l=parseInt(i[4]);if(!isFinite(a)||a!==0&&a!==1)return console.log("char.def parse error. INVOKE is 0 or 1 in:"+a),null;if(!isFinite(s)||s!==0&&s!==1)return console.log("char.def parse error. GROUP is 0 or 1 in:"+s),null;if(!isFinite(l)||l<0)return console.log("char.def parse error. LENGTH is 1 to n:"+l),null;var m=a===1,k=s===1;return new ho(r,e,m,k,l)};kt.parseCategoryMapping=function(r){var i=parseInt(r[1]),e=r[2],a=3<r.length?r.slice(3):[];return(!isFinite(i)||i<0||i>65535)&&console.log("char.def parse error. CODE is invalid:"+i),{start:i,default:e,compatible:a}};kt.parseRangeCategoryMapping=function(r){var i=parseInt(r[1]),e=parseInt(r[2]),a=r[3],s=4<r.length?r.slice(4):[];return(!isFinite(i)||i<0||i>65535)&&console.log("char.def parse error. CODE is invalid:"+i),(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),{start:i,end:e,default:a,compatible:s}};kt.prototype.initCategoryMappings=function(r){var i;if(r!=null)for(var e=0;e<r.length;e++){var a=r[e],s=a.end||a.start;for(i=a.start;i<=s;i++){this.character_category_map[i]=this.invoke_definition_map.lookup(a.default);for(var l=0;l<a.compatible.length;l++){var m=this.compatible_category_map[i],k=a.compatible[l];if(k!=null){var L=this.invoke_definition_map.lookup(k);if(L!=null){var P=1<<L;m=m|P,this.compatible_category_map[i]=m}}}}}var z=this.invoke_definition_map.lookup(ne);if(z!=null)for(i=0;i<this.character_category_map.length;i++)this.character_category_map[i]===0&&(this.character_category_map[i]=1<<z)};kt.prototype.lookupCompatibleCategory=function(r){var i=[],e=r.charCodeAt(0),a;if(e<this.compatible_category_map.length&&(a=this.compatible_category_map[e]),a==null||a===0)return i;for(var s=0;s<32;s++)if(a<<31-s>>>31===1){var l=this.invoke_definition_map.getCharacterClass(s);if(l==null)continue;i.push(l)}return i};kt.prototype.lookup=function(r){var i,e=r.charCodeAt(0);return lo.isSurrogatePair(r)?i=this.invoke_definition_map.lookup(ne):e<this.character_category_map.length&&(i=this.character_category_map[e]),i==null&&(i=this.invoke_definition_map.lookup(ne)),this.invoke_definition_map.getCharacterClass(i)};var Nn=kt,vo=fe,po=Nn,Sn=se;function Ht(){this.dictionary=new Sn(10*1024*1024),this.target_map={},this.pos_buffer=new Sn(10*1024*1024),this.character_definition=null}Ht.prototype=Object.create(vo.prototype);Ht.prototype.characterDefinition=function(r){return this.character_definition=r,this};Ht.prototype.lookup=function(r){return this.character_definition.lookup(r)};Ht.prototype.lookupCompatibleCategory=function(r){return this.character_definition.lookupCompatibleCategory(r)};Ht.prototype.loadUnknownDictionaries=function(r,i,e,a,s,l){this.loadDictionary(r),this.loadPosVector(i),this.loadTargetMap(e),this.character_definition=po.load(a,s,l)};var Rn=Ht,Vn=ue.exports,yo=fe,go=zn,mo=Rn;function ir(r,i,e,a){r!=null?this.trie=r:this.trie=Vn.builder(0).build([{k:"",v:1}]),i!=null?this.token_info_dictionary=i:this.token_info_dictionary=new yo,e!=null?this.connection_costs=e:this.connection_costs=new go(0,0),a!=null?this.unknown_dictionary=a:this.unknown_dictionary=new mo}ir.prototype.loadTrie=function(r,i){return this.trie=Vn.load(r,i),this};ir.prototype.loadTokenInfoDictionaries=function(r,i,e){return this.token_info_dictionary.loadDictionary(r),this.token_info_dictionary.loadPosVector(i),this.token_info_dictionary.loadTargetMap(e),this};ir.prototype.loadConnectionCosts=function(r){return this.connection_costs.loadConnectionCosts(r),this};ir.prototype.loadUnknownDictionaries=function(r,i,e,a,s,l){return this.unknown_dictionary.loadUnknownDictionaries(r,i,e,a,s,l),this};var Gn=ir,Er=Dn,Dr=ee.exports,_o=Gn;function ce(r){this.dic=new _o,this.dic_path=r}ce.prototype.loadArrayBuffer=function(r,i){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")};ce.prototype.load=function(r){var i=this.dic,e=this.dic_path,a=this.loadArrayBuffer;Dr.parallel([function(s){Dr.map(["base.dat.gz","check.dat.gz"],function(l,m){a(Er.join(e,l),function(k,L){if(k)return m(k);m(null,L)})},function(l,m){if(l)return s(l);var k=new Int32Array(m[0]),L=new Int32Array(m[1]);i.loadTrie(k,L),s(null)})},function(s){Dr.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(l,m){a(Er.join(e,l),function(k,L){if(k)return m(k);m(null,L)})},function(l,m){if(l)return s(l);var k=new Uint8Array(m[0]),L=new Uint8Array(m[1]),P=new Uint8Array(m[2]);i.loadTokenInfoDictionaries(k,L,P),s(null)})},function(s){a(Er.join(e,"cc.dat.gz"),function(l,m){if(l)return s(l);var k=new Int16Array(m);i.loadConnectionCosts(k),s(null)})},function(s){Dr.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(l,m){a(Er.join(e,l),function(k,L){if(k)return m(k);m(null,L)})},function(l,m){if(l)return s(l);var k=new Uint8Array(m[0]),L=new Uint8Array(m[1]),P=new Uint8Array(m[2]),z=new Uint8Array(m[3]),b=new Uint32Array(m[4]),C=new Uint8Array(m[5]);i.loadUnknownDictionaries(k,L,P,z,b,C),s(null)})}],function(s){r(s,i)})};var bo=ce,wo=ao,Kn=bo;function he(r){Kn.apply(this,[r])}he.prototype=Object.create(Kn.prototype);he.prototype.loadArrayBuffer=function(r,i){var e=new XMLHttpRequest;e.open("GET",r,!0),e.responseType="arraybuffer",e.onload=function(){if(this.status>0&&this.status!==200){i(e.statusText,null);return}var a=this.response,s=new wo.Zlib.Gunzip(new Uint8Array(a)),l=s.decompress();i(null,l.buffer)},e.onerror=function(a){i(a,null)},e.send()};var Ao=he,ko=io,Co=Ao;function Yn(r){r.dicPath==null?this.dic_path="dict/":this.dic_path=r.dicPath}Yn.prototype.build=function(r){var i=new Co(this.dic_path);i.load(function(e,a){r(e,new ko(a))})};var So=Yn,Fo=zn;function le(){this.lines=0,this.connection_cost=null}le.prototype.putLine=function(r){if(this.lines===0){var i=r.split(" "),e=i[0],a=i[1];if(e<0||a<0)throw"Parse error of matrix.def";return this.connection_cost=new Fo(e,a),this.lines++,this}var s=r.split(" ");if(s.length!==3)return this;var l=parseInt(s[0]),m=parseInt(s[1]),k=parseInt(s[2]);if(l<0||m<0||!isFinite(l)||!isFinite(m)||this.connection_cost.forward_dimension<=l||this.connection_cost.backward_dimension<=m)throw"Parse error of matrix.def";return this.connection_cost.put(l,m,k),this.lines++,this};le.prototype.build=function(){return this.connection_cost};var To=le,Ir=Nn,Eo=Pn,Do=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,Bo=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,jo=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function ve(){this.char_def=new Ir,this.char_def.invoke_definition_map=new Eo,this.character_category_definition=[],this.category_mapping=[]}ve.prototype.putLine=function(r){var i=Do.exec(r);if(i!=null){var e=this.character_category_definition.length,a=Ir.parseCharCategory(e,i);if(a==null)return;this.character_category_definition.push(a);return}var s=Bo.exec(r);if(s!=null){var l=Ir.parseCategoryMapping(s);this.category_mapping.push(l)}var m=jo.exec(r);if(m!=null){var k=Ir.parseRangeCategoryMapping(m);this.category_mapping.push(k)}};ve.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def};var Io=ve,Lo=ue.exports,Oo=Gn,Uo=fe,xo=To,zo=Io,$o=Rn;function St(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new xo,this.cd_builder=new zo}St.prototype.addTokenInfoDictionary=function(r){var i=r.split(",");return this.tid_entries.push(i),this};St.prototype.putCostMatrixLine=function(r){return this.cc_builder.putLine(r),this};St.prototype.putCharDefLine=function(r){return this.cd_builder.putLine(r),this};St.prototype.putUnkDefLine=function(r){return this.unk_entries.push(r.split(",")),this};St.prototype.build=function(){var r=this.buildTokenInfoDictionary(),i=this.buildUnknownDictionary();return new Oo(r.trie,r.token_info_dictionary,this.cc_builder.build(),i)};St.prototype.buildTokenInfoDictionary=function(){var r=new Uo,i=r.buildDictionary(this.tid_entries),e=this.buildDoubleArray();for(var a in i){var s=i[a],l=e.lookup(s);r.addMapping(l,a)}return{trie:e,token_info_dictionary:r}};St.prototype.buildUnknownDictionary=function(){var r=new $o,i=r.buildDictionary(this.unk_entries),e=this.cd_builder.build();r.characterDefinition(e);for(var a in i){var s=i[a],l=e.invoke_definition_map.lookup(s);r.addMapping(l,a)}return r};St.prototype.buildDoubleArray=function(){var r=0,i=this.tid_entries.map(function(a){var s=a[0];return{k:s,v:r++}}),e=Lo.builder(1024*1024);return e.build(i)};var Mo=St,Po=So,No=Mo,Ro={builder:function(r){return new Po(r)},dictionaryBuilder:function(){return new No}},Vo=Ro,Hn=At&&At.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.tokenize=Gt.getTokenizer=void 0;var Fn=Hn(Dn),Go=re.exports,Ko=Hn(ie),Yo=Vo,Br=new Ko.default,Ho=function(){if(typeof process<"u"&&typeof process.env=="object"&&process.env.KUROMOJIN_DIC_PATH)return process.env.KUROMOJIN_DIC_PATH;var r=typeof window<"u"?window:void 0;if(typeof r<"u"&&typeof r.kuromojin=="object"&&typeof r.kuromojin.dicPath=="string")return r.kuromojin.dicPath;var i=Fn.default.dirname(require.resolve("kuromoji"));return Fn.default.join(i,"..","dict")},te=null,Tn=!1,En=new Go.LRUMap(1e4);function Wn(r){return r===void 0&&(r={dicPath:Ho()}),te?Promise.resolve(te):(Tn||(Tn=!0,Yo.builder(r).build(function(i,e){if(i)return Br.reject(i);te=e,Br.resolve(e)})),Br.promise)}Gt.getTokenizer=Wn;function Wo(r,i){return Wn(i).then(function(e){if(i!=null&&i.noCacheTokenize)return e.tokenizeForSentence(r);var a=En.get(r);if(a)return a;var s=e.tokenizeForSentence(r);return En.set(r,s),s})}Gt.tokenize=Wo;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.tokenize=r.getTokenizer=void 0;var i=Gt;Object.defineProperty(r,"getTokenizer",{enumerable:!0,get:function(){return i.getTokenizer}}),Object.defineProperty(r,"tokenize",{enumerable:!0,get:function(){return i.tokenize}})})(In);const ou={component:jn},qo={width:"400px",height:"400px"},Zo=({token:{pos:r,pos_detail_1:i,pos_detail_2:e,pos_detail_3:a,surface_form:s},children:l})=>{const m=nr.exports.useRef(null),[k,L]=nr.exports.useState(null);return Bn("span",{ref:m,style:{position:"relative",background:r==="\u540D\u8A5E"?"rgba(255, 0, 0, 0.2)":r==="\u52D5\u8A5E"?"rgba(0, 255, 0, 0.2)":r==="\u5F62\u5BB9\u8A5E"?"rgba(0, 0, 255, 0.2)":r==="\u526F\u8A5E"?"rgba(255, 0, 255, 0.2)":r==="\u52A9\u8A5E"?"rgba(0, 255, 255, 0.2)":r==="\u52A9\u52D5\u8A5E"?"rgba(255, 255, 0, 0.2)":void 0,outline:"solid 1px lightgray"},onMouseOver:z=>{if(!m.current)return;const b=m.current.getBoundingClientRect();L({top:b.top-b.height*2,left:b.left,description:`${s}: ${r} | ${i} | ${e} | ${a}`})},onMouseOut:()=>L(null),children:[l,k&&Ya.exports.createPortal(jr("div",{style:{position:"fixed",top:k.top,left:k.left,background:"white",fontSize:16,padding:2,border:"solid 1px gray"},children:k.description}),document.body)]})},uu={render:()=>{const[r,i]=nr.exports.useState(`\u3059\u3082\u3082\u3082\u3082\u3082\u3082\u3082\u3082\u306E\u3046\u3061\u3002

\u543E\u8F29 \uFF08 \u308F\u304C\u306F\u3044 \uFF09 \u306F\u732B\u3067\u3042\u308B\u3002\u540D\u524D\u306F\u307E\u3060\u7121\u3044\u3002

\u3042\u306E\u30A4\u30FC\u30CF\u30C8\u30FC\u30F4\u30A9\u306E\u3059\u304D\u3068\u304A\u3063\u305F\u98A8\u3001\u590F\u3067\u3082\u5E95\u306B\u51B7\u305F\u3055\u3092\u3082\u3064\u9752\u3044\u305D\u3089\u3001\u3046\u3064\u304F\u3057\u3044\u68EE\u3067\u98FE\u3089\u308C\u305F\u30E2\u30EA\u30FC\u30AA\u5E02\u3001\u90CA\u5916\u306E\u304E\u3089\u304E\u3089\u3072\u304B\u308B\u8349\u306E\u6CE2\u3002

\u5C71\u8DEF\u3092\u767B\u308A\u306A\u304C\u3089\u3001\u3053\u3046\u8003\u3048\u305F\u3002\u667A\u306B\u50CD\u3051\u3070\u89D2\u304C\u7ACB\u3064\u3002\u60C5\u306B\u68F9\u3055\u305B\u3070\u6D41\u3055\u308C\u308B\u3002\u610F\u5730\u3092\u901A\u305B\u3070\u7AAE\u5C48\u3060\u3002\u3068\u304B\u304F\u306B\u4EBA\u306E\u4E16\u306F\u4F4F\u307F\u306B\u304F\u3044\u3002\u4F4F\u307F\u306B\u304F\u3055\u304C\u9AD8\u3058\u308B\u3068\u3001\u5B89\u3044\u6240\u3078\u5F15\u304D\u8D8A\u3057\u305F\u304F\u306A\u308B\u3002\u3069\u3053\u3078\u8D8A\u3057\u3066\u3082\u4F4F\u307F\u306B\u304F\u3044\u3068\u609F\u3063\u305F\u6642\u3001\u8A69\u304C\u751F\u308C\u3066\u3001\u753B\u304C\u51FA\u6765\u308B\u3002`),[e,a]=nr.exports.useState(null);return nr.exports.useEffect(()=>{(async()=>{const s=await In.getTokenizer({dicPath:process.env.STORYBOOK_DEPLOY?"/rich-textarea/dict":"/dict"});a(s)})()},[]),Bn("div",{style:{marginTop:16},children:[!e&&jr("div",{children:"Loading dictionaries"}),jr(jn,{style:qo,onChange:s=>i(s.target.value),value:r,children:s=>{if(!e)return s;const l=e.tokenize(r),m=[];for(const k of l)m.push(jr(Zo,{token:k,children:k.surface_form},k.word_position));return m}})]})}},su=["Kuromoji"];export{uu as Kuromoji,su as __namedExportsOrder,ou as default};
//# sourceMappingURL=Kuromoji.stories.a70b2a5a.js.map
