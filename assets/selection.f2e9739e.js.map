{"version":3,"file":"selection.f2e9739e.js","sources":["../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/range-at-index/build/index.js","../../src/dom.ts","../../src/selection.ts"],"sourcesContent":["/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","\"use strict\";\n\n/**\n * Module exports.\n */\n\nmodule.exports = RangeAtIndex;\n\n/**\n * Returns a Range instance selecting text within HTML Element `el`,\n * at the given `start` and `end` offsets.\n *\n * @param {HTMLElement} el - DOM element to select text within\n * @public\n */\n\nfunction RangeAtIndex(el, index, offset, range) {\n  var doc = el.ownerDocument;\n  if (!range) range = doc.createRange();\n\n  var iterator = doc.createNodeIterator(el, NodeFilter.SHOW_TEXT, null, false);\n\n  var start = {};\n  var end = {};\n  var node = undefined,\n      val = undefined,\n      len = undefined;\n\n  while (node = iterator.nextNode()) {\n    val = node.nodeValue;\n    len = val.length;\n\n    if (!start.node && len > index) {\n      start.node = node;\n      start.offset = index;\n    }\n\n    if (!end.node && len >= offset) {\n      end.node = node;\n      end.offset = offset;\n    }\n\n    index -= len;\n    offset -= len;\n  }\n\n  // update the range with the start and end offsets\n  if (start.node) range.setStart(start.node, start.offset);\n  if (end.node) range.setEnd(end.node, end.offset);\n\n  return range;\n}\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDOzs7Ozs7Ozs7O0FBVTlCLFNBQVMsWUFBWSxDQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtBQUMvQyxNQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDO0FBQzNCLE1BQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7QUFFdEMsTUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFN0UsTUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2YsTUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBQ2IsTUFBSSxJQUFJLFlBQUE7TUFBRSxHQUFHLFlBQUE7TUFBRSxHQUFHLFlBQUEsQ0FBQzs7QUFFbkIsU0FBTyxJQUFJLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxFQUFFO0FBQ2pDLE9BQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0FBQ3JCLE9BQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUVqQixRQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxHQUFHLEdBQUcsS0FBSyxFQUFFO0FBQzlCLFdBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLFdBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0tBQ3RCOztBQUVELFFBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLEVBQUU7QUFDOUIsU0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDaEIsU0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7S0FDckI7O0FBRUQsU0FBSyxJQUFJLEdBQUcsQ0FBQztBQUNiLFVBQU0sSUFBSSxHQUFHLENBQUM7R0FDZjs7O0FBR0QsTUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDekQsTUFBSSxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRWpELFNBQU8sS0FBSyxDQUFDO0NBQ2QiLCJmaWxlIjoiYnVpbGQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSYW5nZUF0SW5kZXg7XG5cbi8qKlxuICogUmV0dXJucyBhIFJhbmdlIGluc3RhbmNlIHNlbGVjdGluZyB0ZXh0IHdpdGhpbiBIVE1MIEVsZW1lbnQgYGVsYCxcbiAqIGF0IHRoZSBnaXZlbiBgc3RhcnRgIGFuZCBgZW5kYCBvZmZzZXRzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gRE9NIGVsZW1lbnQgdG8gc2VsZWN0IHRleHQgd2l0aGluXG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmFuZ2VBdEluZGV4IChlbCwgaW5kZXgsIG9mZnNldCwgcmFuZ2UpIHtcbiAgdmFyIGRvYyA9IGVsLm93bmVyRG9jdW1lbnQ7XG4gIGlmICghcmFuZ2UpIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG5cbiAgbGV0IGl0ZXJhdG9yID0gZG9jLmNyZWF0ZU5vZGVJdGVyYXRvcihlbCwgTm9kZUZpbHRlci5TSE9XX1RFWFQsIG51bGwsIGZhbHNlKTtcblxuICBsZXQgc3RhcnQgPSB7fTtcbiAgbGV0IGVuZCA9IHt9O1xuICBsZXQgbm9kZSwgdmFsLCBsZW47XG5cbiAgd2hpbGUgKG5vZGUgPSBpdGVyYXRvci5uZXh0Tm9kZSgpKSB7XG4gICAgdmFsID0gbm9kZS5ub2RlVmFsdWU7XG4gICAgbGVuID0gdmFsLmxlbmd0aDtcblxuICAgIGlmICghc3RhcnQubm9kZSAmJiBsZW4gPiBpbmRleCkge1xuICAgICAgc3RhcnQubm9kZSA9IG5vZGU7XG4gICAgICBzdGFydC5vZmZzZXQgPSBpbmRleDtcbiAgICB9XG5cbiAgICBpZiAoIWVuZC5ub2RlICYmIGxlbiA+PSBvZmZzZXQpIHtcbiAgICAgIGVuZC5ub2RlID0gbm9kZTtcbiAgICAgIGVuZC5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgfVxuXG4gICAgaW5kZXggLT0gbGVuO1xuICAgIG9mZnNldCAtPSBsZW47XG4gIH1cblxuICAvLyB1cGRhdGUgdGhlIHJhbmdlIHdpdGggdGhlIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0c1xuICBpZiAoc3RhcnQubm9kZSkgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0KTtcbiAgaWYgKGVuZC5ub2RlKSByYW5nZS5zZXRFbmQoZW5kLm5vZGUsIGVuZC5vZmZzZXQpO1xuXG4gIHJldHVybiByYW5nZTtcbn1cbiJdfQ==","export const isSafari = (): boolean => {\n  const ua = navigator.userAgent.toLowerCase();\n  return ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") <= -1;\n};\n\nconst TEXT_STYLE_KEYS: (keyof React.CSSProperties)[] = [\n  \"direction\",\n  \"padding\",\n  \"paddingTop\",\n  \"paddingBottom\",\n  \"paddingLeft\",\n  \"paddingRight\",\n  \"margin\",\n  \"marginTop\",\n  \"marginBottom\",\n  \"marginLeft\",\n  \"marginRight\",\n  \"border\",\n  \"borderWidth\",\n  \"borderTopWidth\",\n  \"borderBottomWidth\",\n  \"borderLeftWidth\",\n  \"borderRightWidth\",\n  \"borderStyle\",\n  \"borderTopStyle\",\n  \"borderBottomStyle\",\n  \"borderLeftStyle\",\n  \"borderRightStyle\",\n  \"fontSize\",\n  \"fontFamily\",\n  \"fontStyle\",\n  \"fontVariant\",\n  \"fontWeight\",\n  \"fontStretch\",\n  \"fontSizeAdjust\",\n  \"textAlign\",\n  \"textTransform\",\n  \"textIndent\",\n  \"letterSpacing\",\n  \"wordSpacing\",\n  \"lineHeight\",\n  \"whiteSpace\",\n  \"wordBreak\",\n  \"overflowWrap\",\n  \"tabSize\",\n  \"MozTabSize\",\n];\n\nconst getPropertyValue = (style: CSSStyleDeclaration, key: string): string => {\n  return style.getPropertyValue(key);\n};\nconst setProperty = (\n  style: CSSStyleDeclaration,\n  key: string,\n  value: string\n) => {\n  style.setProperty(key, value);\n};\n\nconst getValueFromStyle = (style: CSSStyleDeclaration, key: string): number => {\n  const value = getPropertyValue(style, key);\n  if (!value) {\n    return 0;\n  } else {\n    return parseInt(value, 10);\n  }\n};\n\nexport const getStyle = getComputedStyle;\n\nexport const getVerticalPadding = (style: CSSStyleDeclaration): number => {\n  return (\n    getValueFromStyle(style, \"padding-top\") +\n    getValueFromStyle(style, \"padding-bottom\") +\n    getValueFromStyle(style, \"border-top\") +\n    getValueFromStyle(style, \"border-bottom\")\n  );\n};\n\nexport const getHorizontalPadding = (style: CSSStyleDeclaration): number => {\n  return (\n    getValueFromStyle(style, \"padding-left\") +\n    getValueFromStyle(style, \"padding-right\") +\n    getValueFromStyle(style, \"border-left\") +\n    getValueFromStyle(style, \"border-right\")\n  );\n};\n\nexport const getPointedElement = (\n  textarea: HTMLElement,\n  backdrop: HTMLElement,\n  e: React.MouseEvent\n): HTMLElement | null => {\n  const POINTER_EVENTS = \"pointer-events\";\n\n  const textareaStyle = textarea.style;\n  const backdropStyle = backdrop.style;\n  const prev = getPropertyValue(textareaStyle, POINTER_EVENTS);\n  const backPrev = getPropertyValue(backdropStyle, POINTER_EVENTS);\n  setProperty(textareaStyle, POINTER_EVENTS, \"none\");\n  setProperty(backdropStyle, POINTER_EVENTS, \"auto\");\n\n  const pointed = document.elementFromPoint(\n    e.clientX,\n    e.clientY\n  ) as HTMLElement | null;\n\n  setProperty(textareaStyle, POINTER_EVENTS, prev);\n  setProperty(backdropStyle, POINTER_EVENTS, backPrev);\n\n  if (isInsideBackdrop(pointed, backdrop)) {\n    return pointed;\n  } else {\n    return null;\n  }\n};\n\nconst isInsideBackdrop = (\n  pointed: HTMLElement | null,\n  backdrop: HTMLElement\n): boolean => !!pointed && backdrop !== pointed && backdrop.contains(pointed);\n\nconst dispatchMouseEvent = (\n  target: HTMLElement,\n  type: string,\n  init: MouseEventInit\n) => {\n  target.dispatchEvent(new MouseEvent(type, init));\n};\n\nexport const dispatchClonedMouseEvent = (\n  pointed: HTMLElement,\n  e: MouseEvent\n) => {\n  dispatchMouseEvent(pointed, e.type, e);\n};\n\nexport const dispatchMouseMoveEvent = (\n  pointed: HTMLElement | null,\n  prevPointed: React.MutableRefObject<HTMLElement | null>,\n  e: MouseEvent\n) => {\n  if (pointed) {\n    dispatchClonedMouseEvent(pointed, e);\n  }\n\n  if (prevPointed.current !== pointed) {\n    dispatchMouseOutEvent(prevPointed, e, pointed);\n    if (pointed) {\n      dispatchMouseEvent(pointed, \"mouseover\", e);\n    }\n  }\n};\n\nexport const dispatchMouseOutEvent = (\n  prevPointed: React.MutableRefObject<HTMLElement | null>,\n  e: MouseEvent,\n  pointed: HTMLElement | null\n) => {\n  if (prevPointed.current) {\n    dispatchMouseEvent(prevPointed.current, \"mouseout\", e);\n  }\n  prevPointed.current = pointed;\n};\n\nexport const stopPropagation = (event: React.MouseEvent) => {\n  event.stopPropagation();\n};\n\nexport const syncBackdropStyle = (\n  textarea: HTMLElement,\n  backdrop: HTMLElement,\n  caretColorRef: React.MutableRefObject<string>,\n  style?: React.CSSProperties\n) => {\n  const computedTextAreaStyle = getStyle(textarea);\n  const textareaStyle = textarea.style;\n  const backdropStyle = backdrop.style;\n  if (!caretColorRef.current) {\n    caretColorRef.current = getPropertyValue(computedTextAreaStyle, \"color\");\n  }\n\n  TEXT_STYLE_KEYS.forEach((k) => {\n    backdropStyle[k as any] = computedTextAreaStyle[k as any]!;\n  });\n  textareaStyle.color = backdropStyle.borderColor = \"transparent\";\n  textareaStyle.caretColor = style?.caretColor || caretColorRef.current;\n};\n","const NOOP = () => {};\n\nexport const initSelectionStore = (\n  ref: React.RefObject<HTMLTextAreaElement | HTMLInputElement>\n) => {\n  let listener = NOOP;\n  let cache: [number | null, number | null] = [null, null];\n  let compositionEvent: CompositionEvent | null = null;\n  const handle = {\n    _subscribe(callback: () => void) {\n      listener = callback;\n      return () => {\n        listener = NOOP;\n      };\n    },\n    _update() {\n      setTimeout(listener);\n    },\n    _setComposition(comp: CompositionEvent | null) {\n      compositionEvent = comp;\n    },\n    _getSelectionStart(): number | null {\n      const el = ref.current;\n      if (!el) return null;\n      let pos = el.selectionStart!;\n      if (compositionEvent) {\n        pos = Math.min(pos, el.selectionEnd! - compositionEvent.data.length);\n      }\n      return pos;\n    },\n    _getSelectionEnd(): number | null {\n      const el = ref.current;\n      if (!el) return null;\n      let pos = el.selectionEnd!;\n      if (compositionEvent) {\n        pos = Math.min(pos, el.selectionStart! + compositionEvent.data.length);\n      }\n      return pos;\n    },\n    _getSelection(): [number | null, number | null] {\n      const selectionStart = handle._getSelectionStart();\n      const selectionEnd = handle._getSelectionEnd();\n      if (cache[0] === selectionStart && cache[1] === selectionEnd) {\n        return cache;\n      }\n      cache = [selectionStart, selectionEnd];\n      return cache;\n    },\n  };\n  return handle;\n};\n"],"names":["e","require$$0","h","a","b","k","l","m","n","p","q","d","f","c","g","r","t","u","useSyncExternalStoreShim_production_min","module","build","RangeAtIndex","el","index","offset","range","doc","iterator","start","end","node","val","len","isSafari","ua","TEXT_STYLE_KEYS","getPropertyValue","style","key","setProperty","value","getValueFromStyle","getStyle","getVerticalPadding","getHorizontalPadding","getPointedElement","textarea","backdrop","POINTER_EVENTS","textareaStyle","backdropStyle","prev","backPrev","pointed","isInsideBackdrop","dispatchMouseEvent","target","type","init","dispatchClonedMouseEvent","dispatchMouseMoveEvent","prevPointed","dispatchMouseOutEvent","stopPropagation","event","syncBackdropStyle","caretColorRef","computedTextAreaStyle","NOOP","initSelectionStore","ref","listener","cache","compositionEvent","handle","callback","comp","pos","selectionStart","selectionEnd"],"mappings":"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"}