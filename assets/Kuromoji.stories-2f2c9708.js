import{a as Ln,j as Br}from"./useStatic-0a5cdcfd.js";import{c as kt,r as nr}from"./index-90fda323.js";import{r as Za}from"./index-a96038f4.js";import{p as On}from"./index-188d1ff8.js";import{R as Un}from"./textarea-9843bea7.js";var xn={},Gt={},Or={},Xa={get exports(){return Or},set exports(r){Or=r}};(function(r,i){(function(e,a){a(i)})(kt,function(e){const a=Symbol("newer"),s=Symbol("older");class h{constructor(b,S){typeof b!="number"&&(S=b,b=0),this.size=0,this.limit=b,this.oldest=this.newest=void 0,this._keymap=new Map,S&&(this.assign(S),b<1&&(this.limit=this.size))}_markEntryAsUsed(b){b!==this.newest&&(b[a]&&(b===this.oldest&&(this.oldest=b[a]),b[a][s]=b[s]),b[s]&&(b[s][a]=b[a]),b[a]=void 0,b[s]=this.newest,this.newest&&(this.newest[a]=b),this.newest=b)}assign(b){let S,K=this.limit||Number.MAX_VALUE;this._keymap.clear();let ut=b[Symbol.iterator]();for(let rt=ut.next();!rt.done;rt=ut.next()){let at=new m(rt.value[0],rt.value[1]);if(this._keymap.set(at.key,at),S?(S[a]=at,at[s]=S):this.oldest=at,S=at,K--==0)throw new Error("overflow")}this.newest=S,this.size=this._keymap.size}get(b){var S=this._keymap.get(b);return S?(this._markEntryAsUsed(S),S.value):void 0}set(b,S){var K=this._keymap.get(b);return K?(K.value=S,this._markEntryAsUsed(K),this):(this._keymap.set(b,K=new m(b,S)),this.newest?(this.newest[a]=K,K[s]=this.newest):this.oldest=K,this.newest=K,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var b=this.oldest;if(b)return this.oldest[a]?(this.oldest=this.oldest[a],this.oldest[s]=void 0):(this.oldest=void 0,this.newest=void 0),b[a]=b[s]=void 0,this._keymap.delete(b.key),--this.size,[b.key,b.value]}find(b){let S=this._keymap.get(b);return S?S.value:void 0}has(b){return this._keymap.has(b)}delete(b){var S=this._keymap.get(b);return S?(this._keymap.delete(S.key),S[a]&&S[s]?(S[s][a]=S[a],S[a][s]=S[s]):S[a]?(S[a][s]=void 0,this.oldest=S[a]):S[s]?(S[s][a]=void 0,this.newest=S[s]):this.oldest=this.newest=void 0,this.size--,S.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new L(this.oldest)}values(){return new P(this.oldest)}entries(){return this}[Symbol.iterator](){return new A(this.oldest)}forEach(b,S){typeof S!="object"&&(S=this);let K=this.oldest;for(;K;)b.call(S,K.value,K.key,this),K=K[a]}toJSON(){for(var b=new Array(this.size),S=0,K=this.oldest;K;)b[S++]={key:K.key,value:K.value},K=K[a];return b}toString(){for(var b="",S=this.oldest;S;)b+=String(S.key)+":"+S.value,S=S[a],S&&(b+=" < ");return b}}e.LRUMap=h;function m(z,b){this.key=z,this.value=b,this[a]=void 0,this[s]=void 0}function A(z){this.entry=z}A.prototype[Symbol.iterator]=function(){return this},A.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:[z.key,z.value]}):{done:!0,value:void 0}};function L(z){this.entry=z}L.prototype[Symbol.iterator]=function(){return this},L.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:z.key}):{done:!0,value:void 0}};function P(z){this.entry=z}P.prototype[Symbol.iterator]=function(){return this},P.prototype.next=function(){let z=this.entry;return z?(this.entry=z[a],{done:!1,value:z.value}):{done:!0,value:void 0}}})})(Xa,Or);var oe={};Object.defineProperty(oe,"__esModule",{value:!0});var Ja=function(){function r(){var i=this;this.promise=new Promise(function(e,a){i.resolve=e,i.reject=a})}return r}();oe.default=Ja;function Qa(r,i,e,a,s,h,m,A){this.name=r,this.cost=i,this.start_pos=e,this.length=a,this.left_id=h,this.right_id=m,this.prev=null,this.surface_form=A,s==="BOS"?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=s}var zn=Qa,$n=zn;function ue(){this.nodes_end_at=[],this.nodes_end_at[0]=[new $n(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}ue.prototype.append=function(r){var i=r.start_pos+r.length-1;this.eos_pos<i&&(this.eos_pos=i);var e=this.nodes_end_at[i];e==null&&(e=[]),e.push(r),this.nodes_end_at[i]=e};ue.prototype.appendEos=function(){var r=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[r]=[new $n(-1,0,this.eos_pos,0,"EOS",0,0,"")]};var to=ue;function Ot(r){this.str=r,this.index_mapping=[];for(var i=0;i<r.length;i++){var e=r.charAt(i);this.index_mapping.push(i),Ot.isSurrogatePair(e)&&i++}this.length=this.index_mapping.length}Ot.prototype.slice=function(r){if(this.index_mapping.length<=r)return"";var i=this.index_mapping[r];return this.str.slice(i)};Ot.prototype.charAt=function(r){if(this.str.length<=r)return"";var i=this.index_mapping[r],e=this.index_mapping[r+1];return e==null?this.str.slice(i):this.str.slice(i,e)};Ot.prototype.charCodeAt=function(r){if(this.index_mapping.length<=r)return NaN;var i=this.index_mapping[r],e=this.str.charCodeAt(i),a;return e>=55296&&e<=56319&&i<this.str.length&&(a=this.str.charCodeAt(i+1),a>=56320&&a<=57343)?(e-55296)*1024+a-56320+65536:e};Ot.prototype.toString=function(){return this.str};Ot.isSurrogatePair=function(r){var i=r.charCodeAt(0);return i>=55296&&i<=56319};var Mn=Ot,Tn=zn,ro=to,ne=Mn;function Pn(r){this.trie=r.trie,this.token_info_dictionary=r.token_info_dictionary,this.unknown_dictionary=r.unknown_dictionary}Pn.prototype.build=function(r){for(var i=new ro,e=new ne(r),a,s,h,m,A,L=0;L<e.length;L++){for(var P=e.slice(L),z=this.trie.commonPrefixSearch(P),b=0;b<z.length;b++){s=z[b].v,a=z[b].k;for(var S=this.token_info_dictionary.target_map[s],K=0;K<S.length;K++){var ut=parseInt(S[K]);h=this.token_info_dictionary.dictionary.getShort(ut),m=this.token_info_dictionary.dictionary.getShort(ut+2),A=this.token_info_dictionary.dictionary.getShort(ut+4),i.append(new Tn(ut,A,L+1,a.length,"KNOWN",h,m,a))}}var rt=new ne(P),at=new ne(rt.charAt(0)),vt=this.unknown_dictionary.lookup(at.toString());if(z==null||z.length===0||vt.is_always_invoke===1){if(a=at,vt.is_grouping===1&&1<rt.length)for(var p=1;p<rt.length;p++){var D=rt.charAt(p),B=this.unknown_dictionary.lookup(D);if(vt.class_name!==B.class_name)break;a+=D}for(var F=this.unknown_dictionary.target_map[vt.class_id],T=0;T<F.length;T++){var w=parseInt(F[T]);h=this.unknown_dictionary.dictionary.getShort(w),m=this.unknown_dictionary.dictionary.getShort(w+2),A=this.unknown_dictionary.dictionary.getShort(w+4),i.append(new Tn(w,A,L+1,a.length,"UNKNOWN",h,m,a.toString()))}}}return i.appendEos(),i};var eo=Pn;function zr(r){this.connection_costs=r}zr.prototype.search=function(r){return r=this.forward(r),this.backward(r)};zr.prototype.forward=function(r){var i,e,a;for(i=1;i<=r.eos_pos;i++){var s=r.nodes_end_at[i];if(s!=null)for(e=0;e<s.length;e++){var h=s[e],m=Number.MAX_VALUE,A,L=r.nodes_end_at[h.start_pos-1];if(L!=null){for(a=0;a<L.length;a++){var P=L[a],z;h.left_id==null||P.right_id==null?(console.log("Left or right is null"),z=0):z=this.connection_costs.get(P.right_id,h.left_id);var b=P.shortest_cost+z+h.cost;b<m&&(A=P,m=b)}h.prev=A,h.shortest_cost=m}}}return r};zr.prototype.backward=function(r){var i=[],e=r.nodes_end_at[r.nodes_end_at.length-1][0],a=e.prev;if(a==null)return[];for(;a.type!=="BOS";){if(i.push(a),a.prev==null)return[];a=a.prev}return i.reverse()};var no=zr;function se(){}se.prototype.formatEntry=function(r,i,e,a){var s={};return s.word_id=r,s.word_type=e,s.word_position=i,s.surface_form=a[0],s.pos=a[1],s.pos_detail_1=a[2],s.pos_detail_2=a[3],s.pos_detail_3=a[4],s.conjugated_type=a[5],s.conjugated_form=a[6],s.basic_form=a[7],s.reading=a[8],s.pronunciation=a[9],s};se.prototype.formatUnknownEntry=function(r,i,e,a,s){var h={};return h.word_id=r,h.word_type=e,h.word_position=i,h.surface_form=s,h.pos=a[1],h.pos_detail_1=a[2],h.pos_detail_2=a[3],h.pos_detail_3=a[4],h.conjugated_type=a[5],h.conjugated_form=a[6],h.basic_form=a[7],h};var io=se,ao=eo,oo=no,uo=io,so=/、|。/;function Kt(r){this.token_info_dictionary=r.token_info_dictionary,this.unknown_dictionary=r.unknown_dictionary,this.viterbi_builder=new ao(r),this.viterbi_searcher=new oo(r.connection_costs),this.formatter=new uo}Kt.splitByPunctuation=function(r){for(var i=[],e=r;e!=="";){var a=e.search(so);if(a<0){i.push(e);break}i.push(e.substring(0,a+1)),e=e.substring(a+1)}return i};Kt.prototype.tokenize=function(r){for(var i=Kt.splitByPunctuation(r),e=[],a=0;a<i.length;a++){var s=i[a];this.tokenizeForSentence(s,e)}return e};Kt.prototype.tokenizeForSentence=function(r,i){i==null&&(i=[]);var e=this.getLattice(r),a=this.viterbi_searcher.search(e),s=0;i.length>0&&(s=i[i.length-1].word_position);for(var h=0;h<a.length;h++){var m=a[h],A,L,P;m.type==="KNOWN"?(P=this.token_info_dictionary.getFeatures(m.name),P==null?L=[]:L=P.split(","),A=this.formatter.formatEntry(m.name,s+m.start_pos,m.type,L)):m.type==="UNKNOWN"?(P=this.unknown_dictionary.getFeatures(m.name),P==null?L=[]:L=P.split(","),A=this.formatter.formatUnknownEntry(m.name,s+m.start_pos,m.type,L,m.surface_form)):A=this.formatter.formatEntry(m.name,s+m.start_pos,m.type,[]),i.push(A)}return i};Kt.prototype.getLattice=function(r){return this.viterbi_builder.build(r)};var fo=Kt,co={};/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){function r(k){throw k}var i=void 0,e=this;function a(k,g){var _=k.split("."),d=e;!(_[0]in d)&&d.execScript&&d.execScript("var "+_[0]);for(var l;_.length&&(l=_.shift());)!_.length&&g!==i?d[l]=g:d=d[l]?d[l]:d[l]={}}var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";new(s?Uint8Array:Array)(256);function h(k,g,_){var d,l=typeof g=="number"?g:g=0,x=typeof _=="number"?_:k.length;for(d=-1,l=x&7;l--;++g)d=d>>>8^A[(d^k[g])&255];for(l=x>>3;l--;g+=8)d=d>>>8^A[(d^k[g])&255],d=d>>>8^A[(d^k[g+1])&255],d=d>>>8^A[(d^k[g+2])&255],d=d>>>8^A[(d^k[g+3])&255],d=d>>>8^A[(d^k[g+4])&255],d=d>>>8^A[(d^k[g+5])&255],d=d>>>8^A[(d^k[g+6])&255],d=d>>>8^A[(d^k[g+7])&255];return(d^4294967295)>>>0}var m=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],A=s?new Uint32Array(m):m;function L(){}L.prototype.getName=function(){return this.name},L.prototype.getData=function(){return this.data},L.prototype.G=function(){return this.H};function P(k){var g=k.length,_=0,d=Number.POSITIVE_INFINITY,l,x,G,H,W,tt,$,O,N,st;for(O=0;O<g;++O)k[O]>_&&(_=k[O]),k[O]<d&&(d=k[O]);for(l=1<<_,x=new(s?Uint32Array:Array)(l),G=1,H=0,W=2;G<=_;){for(O=0;O<g;++O)if(k[O]===G){for(tt=0,$=H,N=0;N<G;++N)tt=tt<<1|$&1,$>>=1;for(st=G<<16|O,N=tt;N<l;N+=W)x[N]=st;++H}++G,H<<=1,W<<=1}return[x,_,d]}var z;for(z=0;288>z;z++)switch(!0){case 143>=z:break;case 255>=z:break;case 279>=z:break;case 287>=z:break;default:r("invalid literal: "+z)}(function(){function k(l){switch(!0){case l===3:return[257,l-3,0];case l===4:return[258,l-4,0];case l===5:return[259,l-5,0];case l===6:return[260,l-6,0];case l===7:return[261,l-7,0];case l===8:return[262,l-8,0];case l===9:return[263,l-9,0];case l===10:return[264,l-10,0];case 12>=l:return[265,l-11,1];case 14>=l:return[266,l-13,1];case 16>=l:return[267,l-15,1];case 18>=l:return[268,l-17,1];case 22>=l:return[269,l-19,2];case 26>=l:return[270,l-23,2];case 30>=l:return[271,l-27,2];case 34>=l:return[272,l-31,2];case 42>=l:return[273,l-35,3];case 50>=l:return[274,l-43,3];case 58>=l:return[275,l-51,3];case 66>=l:return[276,l-59,3];case 82>=l:return[277,l-67,4];case 98>=l:return[278,l-83,4];case 114>=l:return[279,l-99,4];case 130>=l:return[280,l-115,4];case 162>=l:return[281,l-131,5];case 194>=l:return[282,l-163,5];case 226>=l:return[283,l-195,5];case 257>=l:return[284,l-227,5];case l===258:return[285,l-258,0];default:r("invalid length: "+l)}}var g=[],_,d;for(_=3;258>=_;_++)d=k(_),g[_]=d[2]<<24|d[1]<<16|d[0];return g})();function b(k,g){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=s?new Uint8Array(k):k,this.o=!1,this.k=K,this.w=!1,(g||!(g={}))&&(g.index&&(this.c=g.index),g.bufferSize&&(this.j=g.bufferSize),g.bufferType&&(this.k=g.bufferType),g.resize&&(this.w=g.resize)),this.k){case S:this.a=32768,this.b=new(s?Uint8Array:Array)(32768+this.j+258);break;case K:this.a=0,this.b=new(s?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:r(Error("invalid inflate mode"))}}var S=0,K=1;b.prototype.g=function(){for(;!this.o;){var k=lt(this,3);switch(k&1&&(this.o=!0),k>>>=1,k){case 0:var g=this.input,_=this.c,d=this.b,l=this.a,x=g.length,G=i,H=i,W=d.length,tt=i;switch(this.d=this.f=0,_+1>=x&&r(Error("invalid uncompressed block header: LEN")),G=g[_++]|g[_++]<<8,_+1>=x&&r(Error("invalid uncompressed block header: NLEN")),H=g[_++]|g[_++]<<8,G===~H&&r(Error("invalid uncompressed block header: length verify")),_+G>g.length&&r(Error("input buffer is broken")),this.k){case S:for(;l+G>d.length;){if(tt=W-l,G-=tt,s)d.set(g.subarray(_,_+tt),l),l+=tt,_+=tt;else for(;tt--;)d[l++]=g[_++];this.a=l,d=this.e(),l=this.a}break;case K:for(;l+G>d.length;)d=this.e({t:2});break;default:r(Error("invalid inflate mode"))}if(s)d.set(g.subarray(_,_+G),l),l+=G,_+=G;else for(;G--;)d[l++]=g[_++];this.c=_,this.a=l,this.b=d;break;case 1:this.l(V,Mr);break;case 2:for(var $=lt(this,5)+257,O=lt(this,5)+1,N=lt(this,4)+4,st=new(s?Uint8Array:Array)(rt.length),et=i,yt=i,It=i,ft=i,ht=i,xt=i,Et=i,q=i,ar=i,q=0;q<N;++q)st[rt[q]]=lt(this,3);if(!s)for(q=N,N=st.length;q<N;++q)st[rt[q]]=0;for(et=P(st),ft=new(s?Uint8Array:Array)($+O),q=0,ar=$+O;q<ar;)switch(ht=Ft(this,et),ht){case 16:for(Et=3+lt(this,2);Et--;)ft[q++]=xt;break;case 17:for(Et=3+lt(this,3);Et--;)ft[q++]=0;xt=0;break;case 18:for(Et=11+lt(this,7);Et--;)ft[q++]=0;xt=0;break;default:xt=ft[q++]=ht}yt=P(s?ft.subarray(0,$):ft.slice(0,$)),It=P(s?ft.subarray($):ft.slice($)),this.l(yt,It);break;default:r(Error("unknown BTYPE: "+k))}}return this.q()};var ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=s?new Uint16Array(ut):ut,at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],vt=s?new Uint16Array(at):at,p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],D=s?new Uint8Array(p):p,B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],F=s?new Uint16Array(B):B,T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=s?new Uint8Array(T):T,I=new(s?Uint8Array:Array)(288),E,M;for(E=0,M=I.length;E<M;++E)I[E]=143>=E?8:255>=E?9:279>=E?7:8;var V=P(I),J=new(s?Uint8Array:Array)(30),ct,Ut;for(ct=0,Ut=J.length;ct<Ut;++ct)J[ct]=5;var Mr=P(J);function lt(k,g){for(var _=k.f,d=k.d,l=k.input,x=k.c,G=l.length,H;d<g;)x>=G&&r(Error("input buffer is broken")),_|=l[x++]<<d,d+=8;return H=_&(1<<g)-1,k.f=_>>>g,k.d=d-g,k.c=x,H}function Ft(k,g){for(var _=k.f,d=k.d,l=k.input,x=k.c,G=l.length,H=g[0],W=g[1],tt,$;d<W&&!(x>=G);)_|=l[x++]<<d,d+=8;return tt=H[_&(1<<W)-1],$=tt>>>16,$>d&&r(Error("invalid code length: "+$)),k.f=_>>$,k.d=d-$,k.c=x,tt&65535}b.prototype.l=function(k,g){var _=this.b,d=this.a;this.r=k;for(var l=_.length-258,x,G,H,W;(x=Ft(this,k))!==256;)if(256>x)d>=l&&(this.a=d,_=this.e(),d=this.a),_[d++]=x;else for(G=x-257,W=vt[G],0<D[G]&&(W+=lt(this,D[G])),x=Ft(this,g),H=F[x],0<w[x]&&(H+=lt(this,w[x])),d>=l&&(this.a=d,_=this.e(),d=this.a);W--;)_[d]=_[d++-H];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},b.prototype.C=function(k,g){var _=this.b,d=this.a;this.r=k;for(var l=_.length,x,G,H,W;(x=Ft(this,k))!==256;)if(256>x)d>=l&&(_=this.e(),l=_.length),_[d++]=x;else for(G=x-257,W=vt[G],0<D[G]&&(W+=lt(this,D[G])),x=Ft(this,g),H=F[x],0<w[x]&&(H+=lt(this,w[x])),d+W>l&&(_=this.e(),l=_.length);W--;)_[d]=_[d++-H];for(;8<=this.d;)this.d-=8,this.c--;this.a=d},b.prototype.e=function(){var k=new(s?Uint8Array:Array)(this.a-32768),g=this.a-32768,_,d,l=this.b;if(s)k.set(l.subarray(32768,k.length));else for(_=0,d=k.length;_<d;++_)k[_]=l[_+32768];if(this.i.push(k),this.n+=k.length,s)l.set(l.subarray(g,g+32768));else for(_=0;32768>_;++_)l[_]=l[g+_];return this.a=32768,l},b.prototype.D=function(k){var g,_=this.input.length/this.c+1|0,d,l,x,G=this.input,H=this.b;return k&&(typeof k.t=="number"&&(_=k.t),typeof k.z=="number"&&(_+=k.z)),2>_?(d=(G.length-this.c)/this.r[2],x=258*(d/2)|0,l=x<H.length?H.length+x:H.length<<1):l=H.length*_,s?(g=new Uint8Array(l),g.set(H)):g=H,this.b=g},b.prototype.q=function(){var k=0,g=this.b,_=this.i,d,l=new(s?Uint8Array:Array)(this.n+(this.a-32768)),x,G,H,W;if(_.length===0)return s?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(x=0,G=_.length;x<G;++x)for(d=_[x],H=0,W=d.length;H<W;++H)l[k++]=d[H];for(x=32768,G=this.a;x<G;++x)l[k++]=g[x];return this.i=[],this.buffer=l},b.prototype.A=function(){var k,g=this.a;return s?this.w?(k=new Uint8Array(g),k.set(this.b.subarray(0,g))):k=this.b.subarray(0,g):(this.b.length>g&&(this.b.length=g),k=this.b),this.buffer=k};function Ct(k){this.input=k,this.c=0,this.m=[],this.s=!1}Ct.prototype.F=function(){return this.s||this.g(),this.m.slice()},Ct.prototype.g=function(){for(var k=this.input.length;this.c<k;){var g=new L,_=i,d=i,l=i,x=i,G=i,H=i,W=i,tt=i,$=i,O=this.input,N=this.c;switch(g.u=O[N++],g.v=O[N++],(g.u!==31||g.v!==139)&&r(Error("invalid file signature:"+g.u+","+g.v)),g.p=O[N++],g.p){case 8:break;default:r(Error("unknown compression method: "+g.p))}if(g.h=O[N++],tt=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24,g.H=new Date(1e3*tt),g.N=O[N++],g.M=O[N++],0<(g.h&4)&&(g.I=O[N++]|O[N++]<<8,N+=g.I),0<(g.h&8)){for(W=[],H=0;0<(G=O[N++]);)W[H++]=String.fromCharCode(G);g.name=W.join("")}if(0<(g.h&16)){for(W=[],H=0;0<(G=O[N++]);)W[H++]=String.fromCharCode(G);g.J=W.join("")}0<(g.h&2)&&(g.B=h(O,0,N)&65535,g.B!==(O[N++]|O[N++]<<8)&&r(Error("invalid header crc16"))),_=O[O.length-4]|O[O.length-3]<<8|O[O.length-2]<<16|O[O.length-1]<<24,O.length-N-4-4<512*_&&(x=_),d=new b(O,{index:N,bufferSize:x}),g.data=l=d.g(),N=d.c,g.K=$=(O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24)>>>0,h(l,i,i)!==$&&r(Error("invalid CRC-32 checksum: 0x"+h(l,i,i).toString(16)+" / 0x"+$.toString(16))),g.L=_=(O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24)>>>0,(l.length&4294967295)!==_&&r(Error("invalid input size: "+(l.length&4294967295)+" / "+_)),this.m.push(g),this.c=N}this.s=!0;var st=this.m,et,yt,It=0,ft=0,ht;for(et=0,yt=st.length;et<yt;++et)ft+=st[et].data.length;if(s)for(ht=new Uint8Array(ft),et=0;et<yt;++et)ht.set(st[et].data,It),It+=st[et].data.length;else{for(ht=[],et=0;et<yt;++et)ht[et]=st[et].data;ht=Array.prototype.concat.apply([],ht)}return ht},a("Zlib.Gunzip",Ct),a("Zlib.Gunzip.prototype.decompress",Ct.prototype.g),a("Zlib.Gunzip.prototype.getMembers",Ct.prototype.F),a("Zlib.GunzipMember",L),a("Zlib.GunzipMember.prototype.getName",L.prototype.getName),a("Zlib.GunzipMember.prototype.getData",L.prototype.getData),a("Zlib.GunzipMember.prototype.getMtime",L.prototype.G)}).call(kt);var Ur={},lo={get exports(){return Ur},set exports(r){Ur=r}};(function(r,i){(function(e,a){a(i)})(kt,function(e){function a(t,n){n=n|0;for(var o=Math.max(t.length-n,0),u=Array(o),c=0;c<o;c++)u[c]=t[n+c];return u}var s=function(t){var n=a(arguments,1);return function(){var o=a(arguments);return t.apply(null,n.concat(o))}},h=function(t){return function(){var n=a(arguments),o=n.pop();t.call(this,n,o)}};function m(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var A=typeof setImmediate=="function"&&setImmediate,L=typeof process=="object"&&typeof process.nextTick=="function";function P(t){setTimeout(t,0)}function z(t){return function(n){var o=a(arguments,1);t(function(){n.apply(null,o)})}}var b;A?b=setImmediate:L?b=process.nextTick:b=P;var S=z(b);function K(t){return h(function(n,o){var u;try{u=t.apply(this,n)}catch(c){return o(c)}m(u)&&typeof u.then=="function"?u.then(function(c){ut(o,null,c)},function(c){ut(o,c.message?c:new Error(c))}):o(null,u)})}function ut(t,n,o){try{t(n,o)}catch(u){S(rt,u)}}function rt(t){throw t}var at=typeof Symbol=="function";function vt(t){return at&&t[Symbol.toStringTag]==="AsyncFunction"}function p(t){return vt(t)?K(t):t}function D(t){return function(n){var o=a(arguments,1),u=h(function(c,f){var v=this;return t(n,function(y,C){p(y).apply(v,c.concat(C))},f)});return o.length?u.apply(this,o):u}}var B=typeof kt=="object"&&kt&&kt.Object===Object&&kt,F=typeof self=="object"&&self&&self.Object===Object&&self,T=B||F||Function("return this")(),w=T.Symbol,I=Object.prototype,E=I.hasOwnProperty,M=I.toString,V=w?w.toStringTag:void 0;function J(t){var n=E.call(t,V),o=t[V];try{t[V]=void 0;var u=!0}catch{}var c=M.call(t);return u&&(n?t[V]=o:delete t[V]),c}var ct=Object.prototype,Ut=ct.toString;function Mr(t){return Ut.call(t)}var lt="[object Null]",Ft="[object Undefined]",Ct=w?w.toStringTag:void 0;function k(t){return t==null?t===void 0?Ft:lt:Ct&&Ct in Object(t)?J(t):Mr(t)}var g="[object AsyncFunction]",_="[object Function]",d="[object GeneratorFunction]",l="[object Proxy]";function x(t){if(!m(t))return!1;var n=k(t);return n==_||n==d||n==g||n==l}var G=9007199254740991;function H(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G}function W(t){return t!=null&&H(t.length)&&!x(t)}var tt={};function $(){}function O(t){return function(){if(t!==null){var n=t;t=null,n.apply(this,arguments)}}}var N=typeof Symbol=="function"&&Symbol.iterator,st=function(t){return N&&t[N]&&t[N]()};function et(t,n){for(var o=-1,u=Array(t);++o<t;)u[o]=n(o);return u}function yt(t){return t!=null&&typeof t=="object"}var It="[object Arguments]";function ft(t){return yt(t)&&k(t)==It}var ht=Object.prototype,xt=ht.hasOwnProperty,Et=ht.propertyIsEnumerable,ar=ft(function(){return arguments}())?ft:function(t){return yt(t)&&xt.call(t,"callee")&&!Et.call(t,"callee")},q=Array.isArray;function Qn(){return!1}var ye=typeof e=="object"&&e&&!e.nodeType&&e,ge=ye&&!0&&r&&!r.nodeType&&r,ti=ge&&ge.exports===ye,de=ti?T.Buffer:void 0,ri=de?de.isBuffer:void 0,ei=ri||Qn,ni=9007199254740991,ii=/^(?:0|[1-9]\d*)$/;function ai(t,n){var o=typeof t;return n=n??ni,!!n&&(o=="number"||o!="symbol"&&ii.test(t))&&t>-1&&t%1==0&&t<n}var oi="[object Arguments]",ui="[object Array]",si="[object Boolean]",fi="[object Date]",ci="[object Error]",li="[object Function]",hi="[object Map]",vi="[object Number]",pi="[object Object]",yi="[object RegExp]",gi="[object Set]",di="[object String]",mi="[object WeakMap]",_i="[object ArrayBuffer]",bi="[object DataView]",wi="[object Float32Array]",ki="[object Float64Array]",Ai="[object Int8Array]",Si="[object Int16Array]",Ti="[object Int32Array]",Ci="[object Uint8Array]",Ei="[object Uint8ClampedArray]",ji="[object Uint16Array]",Di="[object Uint32Array]",Y={};Y[wi]=Y[ki]=Y[Ai]=Y[Si]=Y[Ti]=Y[Ci]=Y[Ei]=Y[ji]=Y[Di]=!0,Y[oi]=Y[ui]=Y[_i]=Y[si]=Y[bi]=Y[fi]=Y[ci]=Y[li]=Y[hi]=Y[vi]=Y[pi]=Y[yi]=Y[gi]=Y[di]=Y[mi]=!1;function Fi(t){return yt(t)&&H(t.length)&&!!Y[k(t)]}function Ii(t){return function(n){return t(n)}}var me=typeof e=="object"&&e&&!e.nodeType&&e,qt=me&&!0&&r&&!r.nodeType&&r,Bi=qt&&qt.exports===me,Pr=Bi&&B.process,_e=function(){try{var t=qt&&qt.require&&qt.require("util").types;return t||Pr&&Pr.binding&&Pr.binding("util")}catch{}}(),be=_e&&_e.isTypedArray,Li=be?Ii(be):Fi,Oi=Object.prototype,Ui=Oi.hasOwnProperty;function xi(t,n){var o=q(t),u=!o&&ar(t),c=!o&&!u&&ei(t),f=!o&&!u&&!c&&Li(t),v=o||u||c||f,y=v?et(t.length,String):[],C=y.length;for(var U in t)(n||Ui.call(t,U))&&!(v&&(U=="length"||c&&(U=="offset"||U=="parent")||f&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||ai(U,C)))&&y.push(U);return y}var zi=Object.prototype;function $i(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||zi;return t===o}function Mi(t,n){return function(o){return t(n(o))}}var Pi=Mi(Object.keys,Object),Ni=Object.prototype,Ri=Ni.hasOwnProperty;function Vi(t){if(!$i(t))return Pi(t);var n=[];for(var o in Object(t))Ri.call(t,o)&&o!="constructor"&&n.push(o);return n}function Nr(t){return W(t)?xi(t):Vi(t)}function Gi(t){var n=-1,o=t.length;return function(){return++n<o?{value:t[n],key:n}:null}}function Ki(t){var n=-1;return function(){var u=t.next();return u.done?null:(n++,{value:u.value,key:n})}}function Hi(t){var n=Nr(t),o=-1,u=n.length;return function(){var f=n[++o];return o<u?{value:t[f],key:f}:null}}function Wi(t){if(W(t))return Gi(t);var n=st(t);return n?Ki(n):Hi(t)}function mt(t){return function(){if(t===null)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,arguments)}}function or(t){return function(n,o,u){if(u=O(u||$),t<=0||!n)return u(null);var c=Wi(n),f=!1,v=0,y=!1;function C(j,R){if(v-=1,j)f=!0,u(j);else{if(R===tt||f&&v<=0)return f=!0,u(null);y||U()}}function U(){for(y=!0;v<t&&!f;){var j=c();if(j===null){f=!0,v<=0&&u(null);return}v+=1,o(j.value,j.key,mt(C))}y=!1}U()}}function Bt(t,n,o,u){or(n)(t,p(o),u)}function it(t,n){return function(o,u,c){return t(o,n,u,c)}}function qi(t,n,o){o=O(o||$);var u=0,c=0,f=t.length;f===0&&o(null);function v(y,C){y?o(y):(++c===f||C===tt)&&o(null)}for(;u<f;u++)n(t[u],u,mt(v))}var Yi=it(Bt,1/0),jt=function(t,n,o){var u=W(t)?qi:Yi;u(t,p(n),o)};function zt(t){return function(n,o,u){return t(jt,n,p(o),u)}}function we(t,n,o,u){u=u||$,n=n||[];var c=[],f=0,v=p(o);t(n,function(y,C,U){var j=f++;v(y,function(R,Z){c[j]=Z,U(R)})},function(y){u(y,c)})}var ur=zt(we),ke=D(ur);function $t(t){return function(n,o,u,c){return t(or(o),n,p(u),c)}}var Mt=$t(we),Rr=it(Mt,1),Ae=D(Rr);function sr(t,n){for(var o=-1,u=t==null?0:t.length;++o<u&&n(t[o],o,t)!==!1;);return t}function Zi(t){return function(n,o,u){for(var c=-1,f=Object(n),v=u(n),y=v.length;y--;){var C=v[t?y:++c];if(o(f[C],C,f)===!1)break}return n}}var Xi=Zi();function Yt(t,n){return t&&Xi(t,n,Nr)}function Ji(t,n,o,u){for(var c=t.length,f=o+(u?1:-1);u?f--:++f<c;)if(n(t[f],f,t))return f;return-1}function Qi(t){return t!==t}function ta(t,n,o){for(var u=o-1,c=t.length;++u<c;)if(t[u]===n)return u;return-1}function fr(t,n,o){return n===n?ta(t,n,o):Ji(t,Qi,o)}var Vr=function(t,n,o){typeof n=="function"&&(o=n,n=null),o=O(o||$);var u=Nr(t),c=u.length;if(!c)return o(null);n||(n=c);var f={},v=0,y=!1,C=Object.create(null),U=[],j=[],R={};Yt(t,function(X,Q){if(!q(X)){Z(Q,[X]),j.push(Q);return}var nt=X.slice(0,X.length-1),wt=nt.length;if(wt===0){Z(Q,X),j.push(Q);return}R[Q]=wt,sr(nt,function(Vt){if(!t[Vt])throw new Error("async.auto task `"+Q+"` has a non-existent dependency `"+Vt+"` in "+nt.join(", "));_t(Vt,function(){wt--,wt===0&&Z(Q,X)})})}),Ha(),ot();function Z(X,Q){U.push(function(){bt(X,Q)})}function ot(){if(U.length===0&&v===0)return o(null,f);for(;U.length&&v<n;){var X=U.shift();X()}}function _t(X,Q){var nt=C[X];nt||(nt=C[X]=[]),nt.push(Q)}function gt(X){var Q=C[X]||[];sr(Q,function(nt){nt()}),ot()}function bt(X,Q){if(!y){var nt=mt(function(Vt,re){if(v--,arguments.length>2&&(re=a(arguments,1)),Vt){var ee={};Yt(f,function(qa,Ya){ee[Ya]=qa}),ee[X]=re,y=!0,C=Object.create(null),o(Vt,ee)}else f[X]=re,gt(X)});v++;var wt=p(Q[Q.length-1]);Q.length>1?wt(f,nt):wt(nt)}}function Ha(){for(var X,Q=0;j.length;)X=j.pop(),Q++,sr(Wa(X),function(nt){--R[nt]===0&&j.push(nt)});if(Q!==c)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Wa(X){var Q=[];return Yt(t,function(nt,wt){q(nt)&&fr(nt,X,0)>=0&&Q.push(wt)}),Q}};function Pt(t,n){for(var o=-1,u=t==null?0:t.length,c=Array(u);++o<u;)c[o]=n(t[o],o,t);return c}var ra="[object Symbol]";function ea(t){return typeof t=="symbol"||yt(t)&&k(t)==ra}var na=1/0,Se=w?w.prototype:void 0,Te=Se?Se.toString:void 0;function Gr(t){if(typeof t=="string")return t;if(q(t))return Pt(t,Gr)+"";if(ea(t))return Te?Te.call(t):"";var n=t+"";return n=="0"&&1/t==-na?"-0":n}function ia(t,n,o){var u=-1,c=t.length;n<0&&(n=-n>c?0:c+n),o=o>c?c:o,o<0&&(o+=c),c=n>o?0:o-n>>>0,n>>>=0;for(var f=Array(c);++u<c;)f[u]=t[u+n];return f}function aa(t,n,o){var u=t.length;return o=o===void 0?u:o,!n&&o>=u?t:ia(t,n,o)}function oa(t,n){for(var o=t.length;o--&&fr(n,t[o],0)>-1;);return o}function ua(t,n){for(var o=-1,u=t.length;++o<u&&fr(n,t[o],0)>-1;);return o}function sa(t){return t.split("")}var fa="\\ud800-\\udfff",ca="\\u0300-\\u036f",la="\\ufe20-\\ufe2f",ha="\\u20d0-\\u20ff",va=ca+la+ha,pa="\\ufe0e\\ufe0f",ya="\\u200d",ga=RegExp("["+ya+fa+va+pa+"]");function da(t){return ga.test(t)}var Ce="\\ud800-\\udfff",ma="\\u0300-\\u036f",_a="\\ufe20-\\ufe2f",ba="\\u20d0-\\u20ff",wa=ma+_a+ba,ka="\\ufe0e\\ufe0f",Aa="["+Ce+"]",Kr="["+wa+"]",Hr="\\ud83c[\\udffb-\\udfff]",Sa="(?:"+Kr+"|"+Hr+")",Ee="[^"+Ce+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",De="[\\ud800-\\udbff][\\udc00-\\udfff]",Ta="\\u200d",Fe=Sa+"?",Ie="["+ka+"]?",Ca="(?:"+Ta+"(?:"+[Ee,je,De].join("|")+")"+Ie+Fe+")*",Ea=Ie+Fe+Ca,ja="(?:"+[Ee+Kr+"?",Kr,je,De,Aa].join("|")+")",Da=RegExp(Hr+"(?="+Hr+")|"+ja+Ea,"g");function Fa(t){return t.match(Da)||[]}function Be(t){return da(t)?Fa(t):sa(t)}function Ia(t){return t==null?"":Gr(t)}var Ba=/^\s+|\s+$/g;function La(t,n,o){if(t=Ia(t),t&&(o||n===void 0))return t.replace(Ba,"");if(!t||!(n=Gr(n)))return t;var u=Be(t),c=Be(n),f=ua(u,c),v=oa(u,c)+1;return aa(u,f,v).join("")}var Oa=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ua=/,/,xa=/(=.+)?(\s*)$/,za=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;function $a(t){return t=t.toString().replace(za,""),t=t.match(Oa)[2].replace(" ",""),t=t?t.split(Ua):[],t=t.map(function(n){return La(n.replace(xa,""))}),t}function Le(t,n){var o={};Yt(t,function(u,c){var f,v=vt(u),y=!v&&u.length===1||v&&u.length===0;if(q(u))f=u.slice(0,-1),u=u[u.length-1],o[c]=f.concat(f.length>0?C:u);else if(y)o[c]=u;else{if(f=$a(u),u.length===0&&!v&&f.length===0)throw new Error("autoInject task functions require explicit parameters.");v||f.pop(),o[c]=f.concat(C)}function C(U,j){var R=Pt(f,function(Z){return U[Z]});R.push(j),p(u).apply(null,R)}}),Vr(o,n)}function dt(){this.head=this.tail=null,this.length=0}function Oe(t,n){t.length=1,t.head=t.tail=n}dt.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},dt.prototype.empty=function(){for(;this.head;)this.shift();return this},dt.prototype.insertAfter=function(t,n){n.prev=t,n.next=t.next,t.next?t.next.prev=n:this.tail=n,t.next=n,this.length+=1},dt.prototype.insertBefore=function(t,n){n.prev=t.prev,n.next=t,t.prev?t.prev.next=n:this.head=n,t.prev=n,this.length+=1},dt.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):Oe(this,t)},dt.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):Oe(this,t)},dt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},dt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},dt.prototype.toArray=function(){for(var t=Array(this.length),n=this.head,o=0;o<this.length;o++)t[o]=n.data,n=n.next;return t},dt.prototype.remove=function(t){for(var n=this.head;n;){var o=n.next;t(n)&&this.removeLink(n),n=o}return this};function Ue(t,n,o){if(n==null)n=1;else if(n===0)throw new Error("Concurrency must not be zero");var u=p(t),c=0,f=[],v=!1;function y(R,Z,ot){if(ot!=null&&typeof ot!="function")throw new Error("task callback must be a function");if(j.started=!0,q(R)||(R=[R]),R.length===0&&j.idle())return S(function(){j.drain()});for(var _t=0,gt=R.length;_t<gt;_t++){var bt={data:R[_t],callback:ot||$};Z?j._tasks.unshift(bt):j._tasks.push(bt)}v||(v=!0,S(function(){v=!1,j.process()}))}function C(R){return function(Z){c-=1;for(var ot=0,_t=R.length;ot<_t;ot++){var gt=R[ot],bt=fr(f,gt,0);bt===0?f.shift():bt>0&&f.splice(bt,1),gt.callback.apply(gt,arguments),Z!=null&&j.error(Z,gt.data)}c<=j.concurrency-j.buffer&&j.unsaturated(),j.idle()&&j.drain(),j.process()}}var U=!1,j={_tasks:new dt,concurrency:n,payload:o,saturated:$,unsaturated:$,buffer:n/4,empty:$,drain:$,error:$,started:!1,paused:!1,push:function(R,Z){y(R,!1,Z)},kill:function(){j.drain=$,j._tasks.empty()},unshift:function(R,Z){y(R,!0,Z)},remove:function(R){j._tasks.remove(R)},process:function(){if(!U){for(U=!0;!j.paused&&c<j.concurrency&&j._tasks.length;){var R=[],Z=[],ot=j._tasks.length;j.payload&&(ot=Math.min(ot,j.payload));for(var _t=0;_t<ot;_t++){var gt=j._tasks.shift();R.push(gt),f.push(gt),Z.push(gt.data)}c+=1,j._tasks.length===0&&j.empty(),c===j.concurrency&&j.saturated();var bt=mt(C(R));u(Z,bt)}U=!1}},length:function(){return j._tasks.length},running:function(){return c},workersList:function(){return f},idle:function(){return j._tasks.length+c===0},pause:function(){j.paused=!0},resume:function(){j.paused!==!1&&(j.paused=!1,S(j.process))}};return j}function xe(t,n){return Ue(t,1,n)}var Nt=it(Bt,1);function Dt(t,n,o,u){u=O(u||$);var c=p(o);Nt(t,function(f,v,y){c(n,f,function(C,U){n=U,y(C)})},function(f){u(f,n)})}function Wr(){var t=Pt(arguments,p);return function(){var n=a(arguments),o=this,u=n[n.length-1];typeof u=="function"?n.pop():u=$,Dt(t,n,function(c,f,v){f.apply(o,c.concat(function(y){var C=a(arguments,1);v(y,C)}))},function(c,f){u.apply(o,[c].concat(f))})}}var ze=function(){return Wr.apply(null,a(arguments).reverse())},Ma=Array.prototype.concat,cr=function(t,n,o,u){u=u||$;var c=p(o);Mt(t,n,function(f,v){c(f,function(y){return y?v(y):v(null,a(arguments,1))})},function(f,v){for(var y=[],C=0;C<v.length;C++)v[C]&&(y=Ma.apply(y,v[C]));return u(f,y)})},$e=it(cr,1/0),Me=it(cr,1),Pe=function(){var t=a(arguments),n=[null].concat(t);return function(){var o=arguments[arguments.length-1];return o.apply(this,n)}};function Zt(t){return t}function Rt(t,n){return function(o,u,c,f){f=f||$;var v=!1,y;o(u,function(C,U,j){c(C,function(R,Z){R?j(R):t(Z)&&!y?(v=!0,y=n(!0,C),j(null,tt)):j()})},function(C){C?f(C):f(null,v?y:n(!1))})}}function Ne(t,n){return n}var lr=zt(Rt(Zt,Ne)),Xt=$t(Rt(Zt,Ne)),hr=it(Xt,1);function Re(t){return function(n){var o=a(arguments,1);o.push(function(u){var c=a(arguments,1);typeof console=="object"&&(u?console.error&&console.error(u):console[t]&&sr(c,function(f){console[t](f)}))}),p(n).apply(null,o)}}var Ve=Re("dir");function Ge(t,n,o){o=mt(o||$);var u=p(t),c=p(n);function f(y){if(y)return o(y);var C=a(arguments,1);C.push(v),c.apply(this,C)}function v(y,C){if(y)return o(y);if(!C)return o(null);u(f)}v(null,!0)}function qr(t,n,o){o=mt(o||$);var u=p(t),c=function(f){if(f)return o(f);var v=a(arguments,1);if(n.apply(this,v))return u(c);o.apply(null,[null].concat(v))};u(c)}function Ke(t,n,o){qr(t,function(){return!n.apply(this,arguments)},o)}function He(t,n,o){o=mt(o||$);var u=p(n),c=p(t);function f(y){if(y)return o(y);c(v)}function v(y,C){if(y)return o(y);if(!C)return o(null);u(f)}c(v)}function We(t){return function(n,o,u){return t(n,u)}}function vr(t,n,o){jt(t,We(p(n)),o)}function Jt(t,n,o,u){or(n)(t,We(p(o)),u)}var Qt=it(Jt,1);function Yr(t){return vt(t)?t:h(function(n,o){var u=!0;n.push(function(){var c=arguments;u?S(function(){o.apply(null,c)}):o.apply(null,c)}),t.apply(this,n),u=!1})}function pr(t){return!t}var yr=zt(Rt(pr,pr)),tr=$t(Rt(pr,pr)),gr=it(tr,1);function qe(t){return function(n){return n==null?void 0:n[t]}}function Pa(t,n,o,u){var c=new Array(n.length);t(n,function(f,v,y){o(f,function(C,U){c[v]=!!U,y(C)})},function(f){if(f)return u(f);for(var v=[],y=0;y<n.length;y++)c[y]&&v.push(n[y]);u(null,v)})}function Na(t,n,o,u){var c=[];t(n,function(f,v,y){o(f,function(C,U){C?y(C):(U&&c.push({index:v,value:f}),y())})},function(f){f?u(f):u(null,Pt(c.sort(function(v,y){return v.index-y.index}),qe("value")))})}function Zr(t,n,o,u){var c=W(n)?Pa:Na;c(t,n,p(o),u||$)}var dr=zt(Zr),rr=$t(Zr),mr=it(rr,1);function Ye(t,n){var o=mt(n||$),u=p(Yr(t));function c(f){if(f)return o(f);u(c)}c()}var _r=function(t,n,o,u){u=u||$;var c=p(o);Mt(t,n,function(f,v){c(f,function(y,C){return y?v(y):v(null,{key:C,val:f})})},function(f,v){for(var y={},C=Object.prototype.hasOwnProperty,U=0;U<v.length;U++)if(v[U]){var j=v[U].key,R=v[U].val;C.call(y,j)?y[j].push(R):y[j]=[R]}return u(f,y)})},Ze=it(_r,1/0),Xe=it(_r,1),Je=Re("log");function br(t,n,o,u){u=O(u||$);var c={},f=p(o);Bt(t,n,function(v,y,C){f(v,y,function(U,j){if(U)return C(U);c[y]=j,C()})},function(v){u(v,c)})}var Qe=it(br,1/0),tn=it(br,1);function rn(t,n){return n in t}function en(t,n){var o=Object.create(null),u=Object.create(null);n=n||Zt;var c=p(t),f=h(function(y,C){var U=n.apply(null,y);rn(o,U)?S(function(){C.apply(null,o[U])}):rn(u,U)?u[U].push(C):(u[U]=[C],c.apply(null,y.concat(function(){var j=a(arguments);o[U]=j;var R=u[U];delete u[U];for(var Z=0,ot=R.length;Z<ot;Z++)R[Z].apply(null,j)})))});return f.memo=o,f.unmemoized=t,f}var wr;L?wr=process.nextTick:A?wr=setImmediate:wr=P;var nn=z(wr);function Xr(t,n,o){o=o||$;var u=W(n)?[]:{};t(n,function(c,f,v){p(c)(function(y,C){arguments.length>2&&(C=a(arguments,1)),u[f]=C,v(y)})},function(c){o(c,u)})}function an(t,n){Xr(jt,t,n)}function on(t,n,o){Xr(or(n),t,o)}var Jr=function(t,n){var o=p(t);return Ue(function(u,c){o(u[0],c)},n,1)},un=function(t,n){var o=Jr(t,n);return o.push=function(u,c,f){if(f==null&&(f=$),typeof f!="function")throw new Error("task callback must be a function");if(o.started=!0,q(u)||(u=[u]),u.length===0)return S(function(){o.drain()});c=c||0;for(var v=o._tasks.head;v&&c>=v.priority;)v=v.next;for(var y=0,C=u.length;y<C;y++){var U={data:u[y],priority:c,callback:f};v?o._tasks.insertBefore(v,U):o._tasks.push(U)}S(o.process)},delete o.unshift,o};function sn(t,n){if(n=O(n||$),!q(t))return n(new TypeError("First argument to race must be an array of functions"));if(!t.length)return n();for(var o=0,u=t.length;o<u;o++)p(t[o])(n)}function kr(t,n,o,u){var c=a(t).reverse();Dt(c,n,o,u)}function Ar(t){var n=p(t);return h(function(u,c){return u.push(function(v,y){if(v)c(null,{error:v});else{var C;arguments.length<=2?C=y:C=a(arguments,1),c(null,{value:C})}}),n.apply(this,u)})}function fn(t){var n;return q(t)?n=Pt(t,Ar):(n={},Yt(t,function(o,u){n[u]=Ar.call(this,o)})),n}function cn(t,n,o,u){Zr(t,n,function(c,f){o(c,function(v,y){f(v,!y)})},u)}var ln=zt(cn),Qr=$t(cn),hn=it(Qr,1);function vn(t){return function(){return t}}function Sr(t,n,o){var u=5,c=0,f={times:u,intervalFunc:vn(c)};function v(j,R){if(typeof R=="object")j.times=+R.times||u,j.intervalFunc=typeof R.interval=="function"?R.interval:vn(+R.interval||c),j.errorFilter=R.errorFilter;else if(typeof R=="number"||typeof R=="string")j.times=+R||u;else throw new Error("Invalid arguments for async.retry")}if(arguments.length<3&&typeof t=="function"?(o=n||$,n=t):(v(f,t),o=o||$),typeof n!="function")throw new Error("Invalid arguments for async.retry");var y=p(n),C=1;function U(){y(function(j){j&&C++<f.times&&(typeof f.errorFilter!="function"||f.errorFilter(j))?setTimeout(U,f.intervalFunc(C)):o.apply(null,arguments)})}U()}var pn=function(t,n){n||(n=t,t=null);var o=p(n);return h(function(u,c){function f(v){o.apply(null,u.concat(v))}t?Sr(t,f,c):Sr(f,c)})};function yn(t,n){Xr(Nt,t,n)}var Tr=zt(Rt(Boolean,Zt)),er=$t(Rt(Boolean,Zt)),Cr=it(er,1);function gn(t,n,o){var u=p(n);ur(t,function(f,v){u(f,function(y,C){if(y)return v(y);v(null,{value:f,criteria:C})})},function(f,v){if(f)return o(f);o(null,Pt(v.sort(c),qe("value")))});function c(f,v){var y=f.criteria,C=v.criteria;return y<C?-1:y>C?1:0}}function dn(t,n,o){var u=p(t);return h(function(c,f){var v=!1,y;function C(){var U=t.name||"anonymous",j=new Error('Callback function "'+U+'" timed out.');j.code="ETIMEDOUT",o&&(j.info=o),v=!0,f(j)}c.push(function(){v||(f.apply(null,arguments),clearTimeout(y))}),y=setTimeout(C,n),u.apply(null,c)})}var Ra=Math.ceil,Va=Math.max;function Ga(t,n,o,u){for(var c=-1,f=Va(Ra((n-t)/(o||1)),0),v=Array(f);f--;)v[u?f:++c]=t,t+=o;return v}function Er(t,n,o,u){var c=p(o);Mt(Ga(0,t,1),n,c,u)}var mn=it(Er,1/0),_n=it(Er,1);function bn(t,n,o,u){arguments.length<=3&&(u=o,o=n,n=q(t)?[]:{}),u=O(u||$);var c=p(o);jt(t,function(f,v,y){c(n,f,v,y)},function(f){u(f,n)})}function wn(t,n){var o=null,u;n=n||$,Qt(t,function(c,f){p(c)(function(v,y){arguments.length>2?u=a(arguments,1):u=y,o=v,f(!v)})},function(){n(o,u)})}function kn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function te(t,n,o){o=mt(o||$);var u=p(n);if(!t())return o(null);var c=function(f){if(f)return o(f);if(t())return u(c);var v=a(arguments,1);o.apply(null,[null].concat(v))};u(c)}function An(t,n,o){te(function(){return!t.apply(this,arguments)},n,o)}var Sn=function(t,n){if(n=O(n||$),!q(t))return n(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return n();var o=0;function u(f){var v=p(t[o++]);f.push(mt(c)),v.apply(null,f)}function c(f){if(f||o===t.length)return n.apply(null,arguments);u(a(arguments,1))}u([])},Ka={apply:s,applyEach:ke,applyEachSeries:Ae,asyncify:K,auto:Vr,autoInject:Le,cargo:xe,compose:ze,concat:$e,concatLimit:cr,concatSeries:Me,constant:Pe,detect:lr,detectLimit:Xt,detectSeries:hr,dir:Ve,doDuring:Ge,doUntil:Ke,doWhilst:qr,during:He,each:vr,eachLimit:Jt,eachOf:jt,eachOfLimit:Bt,eachOfSeries:Nt,eachSeries:Qt,ensureAsync:Yr,every:yr,everyLimit:tr,everySeries:gr,filter:dr,filterLimit:rr,filterSeries:mr,forever:Ye,groupBy:Ze,groupByLimit:_r,groupBySeries:Xe,log:Je,map:ur,mapLimit:Mt,mapSeries:Rr,mapValues:Qe,mapValuesLimit:br,mapValuesSeries:tn,memoize:en,nextTick:nn,parallel:an,parallelLimit:on,priorityQueue:un,queue:Jr,race:sn,reduce:Dt,reduceRight:kr,reflect:Ar,reflectAll:fn,reject:ln,rejectLimit:Qr,rejectSeries:hn,retry:Sr,retryable:pn,seq:Wr,series:yn,setImmediate:S,some:Tr,someLimit:er,someSeries:Cr,sortBy:gn,timeout:dn,times:mn,timesLimit:Er,timesSeries:_n,transform:bn,tryEach:wn,unmemoize:kn,until:An,waterfall:Sn,whilst:te,all:yr,allLimit:tr,allSeries:gr,any:Tr,anyLimit:er,anySeries:Cr,find:lr,findLimit:Xt,findSeries:hr,forEach:vr,forEachSeries:Qt,forEachLimit:Jt,forEachOf:jt,forEachOfSeries:Nt,forEachOfLimit:Bt,inject:Dt,foldl:Dt,foldr:kr,select:dr,selectLimit:rr,selectSeries:mr,wrapSync:K};e.default=Ka,e.apply=s,e.applyEach=ke,e.applyEachSeries=Ae,e.asyncify=K,e.auto=Vr,e.autoInject=Le,e.cargo=xe,e.compose=ze,e.concat=$e,e.concatLimit=cr,e.concatSeries=Me,e.constant=Pe,e.detect=lr,e.detectLimit=Xt,e.detectSeries=hr,e.dir=Ve,e.doDuring=Ge,e.doUntil=Ke,e.doWhilst=qr,e.during=He,e.each=vr,e.eachLimit=Jt,e.eachOf=jt,e.eachOfLimit=Bt,e.eachOfSeries=Nt,e.eachSeries=Qt,e.ensureAsync=Yr,e.every=yr,e.everyLimit=tr,e.everySeries=gr,e.filter=dr,e.filterLimit=rr,e.filterSeries=mr,e.forever=Ye,e.groupBy=Ze,e.groupByLimit=_r,e.groupBySeries=Xe,e.log=Je,e.map=ur,e.mapLimit=Mt,e.mapSeries=Rr,e.mapValues=Qe,e.mapValuesLimit=br,e.mapValuesSeries=tn,e.memoize=en,e.nextTick=nn,e.parallel=an,e.parallelLimit=on,e.priorityQueue=un,e.queue=Jr,e.race=sn,e.reduce=Dt,e.reduceRight=kr,e.reflect=Ar,e.reflectAll=fn,e.reject=ln,e.rejectLimit=Qr,e.rejectSeries=hn,e.retry=Sr,e.retryable=pn,e.seq=Wr,e.series=yn,e.setImmediate=S,e.some=Tr,e.someLimit=er,e.someSeries=Cr,e.sortBy=gn,e.timeout=dn,e.times=mn,e.timesLimit=Er,e.timesSeries=_n,e.transform=bn,e.tryEach=wn,e.unmemoize=kn,e.until=An,e.waterfall=Sn,e.whilst=te,e.all=yr,e.allLimit=tr,e.allSeries=gr,e.any=Tr,e.anyLimit=er,e.anySeries=Cr,e.find=lr,e.findLimit=Xt,e.findSeries=hr,e.forEach=vr,e.forEachSeries=Qt,e.forEachLimit=Jt,e.forEachOf=jt,e.forEachOfSeries=Nt,e.forEachOfLimit=Bt,e.inject=Dt,e.foldl=Dt,e.foldr=kr,e.select=dr,e.selectLimit=rr,e.selectSeries=mr,e.wrapSync=K,Object.defineProperty(e,"__esModule",{value:!0})})})(lo,Ur);var xr={},ho={get exports(){return xr},set exports(r){xr=r}};(function(r){(function(){var i="\0",e=0,a=0,s=-1,h=!0,m=!0,A=4,L=4,P=2,z=function(p){p==null&&(p=1024);var D=function(E,M,V){for(var J=M;J<V;J++)E[J]=-J+1;if(0<I.array[I.array.length-1]){for(var ct=I.array.length-2;0<I.array[ct];)ct--;E[M]=-ct}},B=function(E,M,V){for(var J=M;J<V;J++)E[J]=-J-1},F=function(E){var M=E*P,V=K(w.signed,w.bytes,M);D(V,w.array.length,M),V.set(w.array),w.array=null,w.array=V;var J=K(I.signed,I.bytes,M);B(J,I.array.length,M),J.set(I.array),I.array=null,I.array=J},T=a+1,w={signed:h,bytes:A,array:K(h,A,p)},I={signed:m,bytes:L,array:K(m,L,p)};return w.array[a]=1,I.array[a]=a,D(w.array,a+1,w.array.length),B(I.array,a+1,I.array.length),{getBaseBuffer:function(){return w.array},getCheckBuffer:function(){return I.array},loadBaseBuffer:function(E){return w.array=E,this},loadCheckBuffer:function(E){return I.array=E,this},size:function(){return Math.max(w.array.length,I.array.length)},getBase:function(E){return w.array.length-1<E?-E+1:w.array[E]},getCheck:function(E){return I.array.length-1<E?-E-1:I.array[E]},setBase:function(E,M){w.array.length-1<E&&F(E),w.array[E]=M},setCheck:function(E,M){I.array.length-1<E&&F(E),I.array[E]=M},setFirstUnusedNode:function(E){T=E},getFirstUnusedNode:function(){return T},shrink:function(){for(var E=this.size()-1;!(0<=I.array[E]);)E--;w.array=w.array.subarray(0,E+2),I.array=I.array.subarray(0,E+2)},calc:function(){for(var E=0,M=I.array.length,V=0;V<M;V++)I.array[V]<0&&E++;return{all:M,unused:E,efficiency:(M-E)/M}},dump:function(){var E="",M="",V;for(V=0;V<w.array.length;V++)E=E+" "+this.getBase(V);for(V=0;V<I.array.length;V++)M=M+" "+this.getCheck(V);return console.log("base:"+E),console.log("chck:"+M),"base:"+E+" chck:"+M}}};function b(p){this.bc=z(p),this.keys=[]}b.prototype.append=function(p,D){return this.keys.push({k:p,v:D}),this},b.prototype.build=function(p,D){if(p==null&&(p=this.keys),p==null)return new S(this.bc);D==null&&(D=!1);var B=p.map(function(F){return{k:rt(F.k+i),v:F.v}});return D?this.keys=B:this.keys=B.sort(function(F,T){for(var w=F.k,I=T.k,E=Math.min(w.length,I.length),M=0;M<E;M++)if(w[M]!==I[M])return w[M]-I[M];return w.length-I.length}),B=null,this._build(a,0,0,this.keys.length),new S(this.bc)},b.prototype._build=function(p,D,B,F){var T=this.getChildrenInfo(D,B,F),w=this.findAllocatableBase(T);this.setBC(p,T,w);for(var I=0;I<T.length;I=I+3){var E=T[I];if(E!==e){var M=T[I+1],V=T[I+2],J=w+E;this._build(J,D+1,M,V)}}},b.prototype.getChildrenInfo=function(p,D,B){var F=this.keys[D].k[p],T=0,w=new Int32Array(B*3);w[T++]=F,w[T++]=D;for(var I=D,E=D;I<D+B;I++){var M=this.keys[I].k[p];F!==M&&(w[T++]=I-E,w[T++]=M,w[T++]=I,F=M,E=I)}return w[T++]=I-E,w=w.subarray(0,T),w},b.prototype.setBC=function(p,D,B){var F=this.bc;F.setBase(p,B);var T;for(T=0;T<D.length;T=T+3){var w=D[T],I=B+w,E=-F.getBase(I),M=-F.getCheck(I);I!==F.getFirstUnusedNode()?F.setCheck(E,-M):F.setFirstUnusedNode(M),F.setBase(M,-E);var V=p;if(F.setCheck(I,V),w===e){var J=D[T+1],ct=this.keys[J].v;ct==null&&(ct=0);var Ut=-ct-1;F.setBase(I,Ut)}}},b.prototype.findAllocatableBase=function(p){for(var D=this.bc,B,F=D.getFirstUnusedNode();;){if(B=F-p[0],B<0){F=-D.getCheck(F);continue}for(var T=!0,w=0;w<p.length;w=w+3){var I=p[w],E=B+I;if(!this.isUnusedNode(E)){F=-D.getCheck(F),T=!1;break}}if(T)return B}},b.prototype.isUnusedNode=function(p){var D=this.bc,B=D.getCheck(p);return p===a?!1:B<0};function S(p){this.bc=p,this.bc.shrink()}S.prototype.contain=function(p){var D=this.bc;p+=i;for(var B=rt(p),F=a,T=s,w=0;w<B.length;w++){var I=B[w];if(T=this.traverse(F,I),T===s)return!1;if(D.getBase(T)<=0)return!0;F=T}return!1},S.prototype.lookup=function(p){p+=i;for(var D=rt(p),B=a,F=s,T=0;T<D.length;T++){var w=D[T];if(F=this.traverse(B,w),F===s)return s;B=F}var I=this.bc.getBase(F);return I<=0?-I-1:s},S.prototype.commonPrefixSearch=function(p){for(var D=rt(p),B=a,F=s,T=[],w=0;w<D.length;w++){var I=D[w];if(F=this.traverse(B,I),F!==s){B=F;var E=this.traverse(F,e);if(E!==s){var M=this.bc.getBase(E),V={};M<=0&&(V.v=-M-1),V.k=at(ut(D,0,w+1)),T.push(V)}continue}else break}return T},S.prototype.traverse=function(p,D){var B=this.bc.getBase(p)+D;return this.bc.getCheck(B)===p?B:s},S.prototype.size=function(){return this.bc.size()},S.prototype.calc=function(){return this.bc.calc()},S.prototype.dump=function(){return this.bc.dump()};var K=function(p,D,B){if(p)switch(D){case 1:return new Int8Array(B);case 2:return new Int16Array(B);case 4:return new Int32Array(B);default:throw new RangeError("Invalid newArray parameter element_bytes:"+D)}else switch(D){case 1:return new Uint8Array(B);case 2:return new Uint16Array(B);case 4:return new Uint32Array(B);default:throw new RangeError("Invalid newArray parameter element_bytes:"+D)}},ut=function(p,D,B){var F=new ArrayBuffer(B),T=new Uint8Array(F,0,B),w=p.subarray(D,B);return T.set(w),T},rt=function(p){for(var D=new Uint8Array(new ArrayBuffer(p.length*4)),B=0,F=0;B<p.length;){var T,w=p.charCodeAt(B++);if(w>=55296&&w<=56319){var I=w,E=p.charCodeAt(B++);if(E>=56320&&E<=57343)T=(I-55296)*(1<<10)+(1<<16)+(E-56320);else return null}else T=w;T<128?D[F++]=T:T<1<<11?(D[F++]=T>>>6|192,D[F++]=T&63|128):T<1<<16?(D[F++]=T>>>12|224,D[F++]=T>>6&63|128,D[F++]=T&63|128):T<1<<21&&(D[F++]=T>>>18|240,D[F++]=T>>12&63|128,D[F++]=T>>6&63|128,D[F++]=T&63|128)}return D.subarray(0,F)},at=function(p){for(var D="",B,F,T,w,I,E,M,V=0;V<p.length;)F=p[V++],F<128?B=F:F>>5===6?(T=p[V++],B=(F&31)<<6|T&63):F>>4===14?(T=p[V++],w=p[V++],B=(F&15)<<12|(T&63)<<6|w&63):(T=p[V++],w=p[V++],I=p[V++],B=(F&7)<<18|(T&63)<<12|(w&63)<<6|I&63),B<65536?D+=String.fromCharCode(B):(B-=65536,E=55296|B>>10,M=56320|B&1023,D+=String.fromCharCode(E,M));return D},vt={builder:function(p){return new b(p)},load:function(p,D){var B=z(0);return B.loadBaseBuffer(p),B.loadCheckBuffer(D),new S(B)}};r.exports=vt})()})(ho);var vo=function(r){for(var i=new Uint8Array(r.length*4),e=0,a=0;e<r.length;){var s,h=r.charCodeAt(e++);if(h>=55296&&h<=56319){var m=h,A=r.charCodeAt(e++);if(A>=56320&&A<=57343)s=(m-55296)*(1<<10)+(1<<16)+(A-56320);else return null}else s=h;s<128?i[a++]=s:s<1<<11?(i[a++]=s>>>6|192,i[a++]=s&63|128):s<1<<16?(i[a++]=s>>>12|224,i[a++]=s>>6&63|128,i[a++]=s&63|128):s<1<<21&&(i[a++]=s>>>18|240,i[a++]=s>>12&63|128,i[a++]=s>>6&63|128,i[a++]=s&63|128)}return i.subarray(0,a)},po=function(r){for(var i="",e,a,s,h,m,A,L,P=0;P<r.length;)a=r[P++],a<128?e=a:a>>5===6?(s=r[P++],e=(a&31)<<6|s&63):a>>4===14?(s=r[P++],h=r[P++],e=(a&15)<<12|(s&63)<<6|h&63):(s=r[P++],h=r[P++],m=r[P++],e=(a&7)<<18|(s&63)<<12|(h&63)<<6|m&63),e<65536?i+=String.fromCharCode(e):(e-=65536,A=55296|e>>10,L=56320|e&1023,i+=String.fromCharCode(A,L));return i};function pt(r){var i;if(r==null)i=1024*1024;else if(typeof r=="number")i=r;else if(r instanceof Uint8Array){this.buffer=r,this.position=0;return}else throw typeof r+" is invalid parameter type for ByteBuffer constructor";this.buffer=new Uint8Array(i),this.position=0}pt.prototype.size=function(){return this.buffer.length};pt.prototype.reallocate=function(){var r=new Uint8Array(this.buffer.length*2);r.set(this.buffer),this.buffer=r};pt.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer};pt.prototype.put=function(r){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=r};pt.prototype.get=function(r){return r==null&&(r=this.position,this.position+=1),this.buffer.length<r+1?0:this.buffer[r]};pt.prototype.putShort=function(r){if(65535<r)throw r+" is over short value";var i=255&r,e=(65280&r)>>8;this.put(i),this.put(e)};pt.prototype.getShort=function(r){if(r==null&&(r=this.position,this.position+=2),this.buffer.length<r+2)return 0;var i=this.buffer[r],e=this.buffer[r+1],a=(e<<8)+i;return a&32768&&(a=-(a-1^65535)),a};pt.prototype.putInt=function(r){if(4294967295<r)throw r+" is over integer value";var i=255&r,e=(65280&r)>>8,a=(16711680&r)>>16,s=(4278190080&r)>>24;this.put(i),this.put(e),this.put(a),this.put(s)};pt.prototype.getInt=function(r){if(r==null&&(r=this.position,this.position+=4),this.buffer.length<r+4)return 0;var i=this.buffer[r],e=this.buffer[r+1],a=this.buffer[r+2],s=this.buffer[r+3];return(s<<24)+(a<<16)+(e<<8)+i};pt.prototype.readInt=function(){var r=this.position;return this.position+=4,this.getInt(r)};pt.prototype.putString=function(r){for(var i=vo(r),e=0;e<i.length;e++)this.put(i[e]);this.put(0)};pt.prototype.getString=function(r){var i=[],e;for(r==null&&(r=this.position);!(this.buffer.length<r+1||(e=this.get(r++),e===0));)i.push(e);return this.position=r,po(i)};var fe=pt,Ht=fe;function St(){this.dictionary=new Ht(10*1024*1024),this.target_map={},this.pos_buffer=new Ht(10*1024*1024)}St.prototype.buildDictionary=function(r){for(var i={},e=0;e<r.length;e++){var a=r[e];if(!(a.length<4)){var s=a[0],h=a[1],m=a[2],A=a[3],L=a.slice(4).join(",");(!isFinite(h)||!isFinite(m)||!isFinite(A))&&console.log(a);var P=this.put(h,m,A,s,L);i[P]=s}}return this.dictionary.shrink(),this.pos_buffer.shrink(),i};St.prototype.put=function(r,i,e,a,s){var h=this.dictionary.position,m=this.pos_buffer.position;return this.dictionary.putShort(r),this.dictionary.putShort(i),this.dictionary.putShort(e),this.dictionary.putInt(m),this.pos_buffer.putString(a+","+s),h};St.prototype.addMapping=function(r,i){var e=this.target_map[r];e==null&&(e=[]),e.push(i),this.target_map[r]=e};St.prototype.targetMapToBuffer=function(){var r=new Ht,i=Object.keys(this.target_map).length;r.putInt(i);for(var e in this.target_map){var a=this.target_map[e],s=a.length;r.putInt(parseInt(e)),r.putInt(s);for(var h=0;h<a.length;h++)r.putInt(a[h])}return r.shrink()};St.prototype.loadDictionary=function(r){return this.dictionary=new Ht(r),this};St.prototype.loadPosVector=function(r){return this.pos_buffer=new Ht(r),this};St.prototype.loadTargetMap=function(r){var i=new Ht(r);for(i.position=0,this.target_map={},i.readInt();!(i.buffer.length<i.position+1);)for(var e=i.readInt(),a=i.readInt(),s=0;s<a;s++){var h=i.readInt();this.addMapping(e,h)}return this};St.prototype.getFeatures=function(r){var i=parseInt(r);if(isNaN(i))return"";var e=this.dictionary.getInt(i+6);return this.pos_buffer.getString(e)};var ce=St;function $r(r,i){this.forward_dimension=r,this.backward_dimension=i,this.buffer=new Int16Array(r*i+2),this.buffer[0]=r,this.buffer[1]=i}$r.prototype.put=function(r,i,e){var a=r*this.backward_dimension+i+2;if(this.buffer.length<a+1)throw"ConnectionCosts buffer overflow";this.buffer[a]=e};$r.prototype.get=function(r,i){var e=r*this.backward_dimension+i+2;if(this.buffer.length<e+1)throw"ConnectionCosts buffer overflow";return this.buffer[e]};$r.prototype.loadConnectionCosts=function(r){this.forward_dimension=r[0],this.backward_dimension=r[1],this.buffer=r};var Nn=$r;function yo(r,i,e,a,s){this.class_id=r,this.class_name=i,this.is_always_invoke=e,this.is_grouping=a,this.max_length=s}var Rn=yo,Vn=fe,go=Rn;function Lt(){this.map=[],this.lookup_table={}}Lt.load=function(r){for(var i=new Lt,e=[],a=new Vn(r);a.position+1<a.size();){var s=e.length,h=a.get(),m=a.get(),A=a.getInt(),L=a.getString();e.push(new go(s,L,h,m,A))}return i.init(e),i};Lt.prototype.init=function(r){if(r!=null)for(var i=0;i<r.length;i++){var e=r[i];this.map[i]=e,this.lookup_table[e.class_name]=i}};Lt.prototype.getCharacterClass=function(r){return this.map[r]};Lt.prototype.lookup=function(r){var i=this.lookup_table[r];return i??null};Lt.prototype.toBuffer=function(){for(var r=new Vn,i=0;i<this.map.length;i++){var e=this.map[i];r.put(e.is_always_invoke),r.put(e.is_grouping),r.putInt(e.max_length),r.putString(e.class_name)}return r.shrink(),r.buffer};var Gn=Lt,mo=Gn,_o=Rn,bo=Mn,ae="DEFAULT";function At(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}At.load=function(r,i,e){var a=new At;return a.character_category_map=r,a.compatible_category_map=i,a.invoke_definition_map=mo.load(e),a};At.parseCharCategory=function(r,i){var e=i[1],a=parseInt(i[2]),s=parseInt(i[3]),h=parseInt(i[4]);if(!isFinite(a)||a!==0&&a!==1)return console.log("char.def parse error. INVOKE is 0 or 1 in:"+a),null;if(!isFinite(s)||s!==0&&s!==1)return console.log("char.def parse error. GROUP is 0 or 1 in:"+s),null;if(!isFinite(h)||h<0)return console.log("char.def parse error. LENGTH is 1 to n:"+h),null;var m=a===1,A=s===1;return new _o(r,e,m,A,h)};At.parseCategoryMapping=function(r){var i=parseInt(r[1]),e=r[2],a=3<r.length?r.slice(3):[];return(!isFinite(i)||i<0||i>65535)&&console.log("char.def parse error. CODE is invalid:"+i),{start:i,default:e,compatible:a}};At.parseRangeCategoryMapping=function(r){var i=parseInt(r[1]),e=parseInt(r[2]),a=r[3],s=4<r.length?r.slice(4):[];return(!isFinite(i)||i<0||i>65535)&&console.log("char.def parse error. CODE is invalid:"+i),(!isFinite(e)||e<0||e>65535)&&console.log("char.def parse error. CODE is invalid:"+e),{start:i,end:e,default:a,compatible:s}};At.prototype.initCategoryMappings=function(r){var i;if(r!=null)for(var e=0;e<r.length;e++){var a=r[e],s=a.end||a.start;for(i=a.start;i<=s;i++){this.character_category_map[i]=this.invoke_definition_map.lookup(a.default);for(var h=0;h<a.compatible.length;h++){var m=this.compatible_category_map[i],A=a.compatible[h];if(A!=null){var L=this.invoke_definition_map.lookup(A);if(L!=null){var P=1<<L;m=m|P,this.compatible_category_map[i]=m}}}}}var z=this.invoke_definition_map.lookup(ae);if(z!=null)for(i=0;i<this.character_category_map.length;i++)this.character_category_map[i]===0&&(this.character_category_map[i]=1<<z)};At.prototype.lookupCompatibleCategory=function(r){var i=[],e=r.charCodeAt(0),a;if(e<this.compatible_category_map.length&&(a=this.compatible_category_map[e]),a==null||a===0)return i;for(var s=0;s<32;s++)if(a<<31-s>>>31===1){var h=this.invoke_definition_map.getCharacterClass(s);if(h==null)continue;i.push(h)}return i};At.prototype.lookup=function(r){var i,e=r.charCodeAt(0);return bo.isSurrogatePair(r)?i=this.invoke_definition_map.lookup(ae):e<this.character_category_map.length&&(i=this.character_category_map[e]),i==null&&(i=this.invoke_definition_map.lookup(ae)),this.invoke_definition_map.getCharacterClass(i)};var Kn=At,wo=ce,ko=Kn,Cn=fe;function Wt(){this.dictionary=new Cn(10*1024*1024),this.target_map={},this.pos_buffer=new Cn(10*1024*1024),this.character_definition=null}Wt.prototype=Object.create(wo.prototype);Wt.prototype.characterDefinition=function(r){return this.character_definition=r,this};Wt.prototype.lookup=function(r){return this.character_definition.lookup(r)};Wt.prototype.lookupCompatibleCategory=function(r){return this.character_definition.lookupCompatibleCategory(r)};Wt.prototype.loadUnknownDictionaries=function(r,i,e,a,s,h){this.loadDictionary(r),this.loadPosVector(i),this.loadTargetMap(e),this.character_definition=ko.load(a,s,h)};var Hn=Wt,Wn=xr,Ao=ce,So=Nn,To=Hn;function ir(r,i,e,a){r!=null?this.trie=r:this.trie=Wn.builder(0).build([{k:"",v:1}]),i!=null?this.token_info_dictionary=i:this.token_info_dictionary=new Ao,e!=null?this.connection_costs=e:this.connection_costs=new So(0,0),a!=null?this.unknown_dictionary=a:this.unknown_dictionary=new To}ir.prototype.loadTrie=function(r,i){return this.trie=Wn.load(r,i),this};ir.prototype.loadTokenInfoDictionaries=function(r,i,e){return this.token_info_dictionary.loadDictionary(r),this.token_info_dictionary.loadPosVector(i),this.token_info_dictionary.loadTargetMap(e),this};ir.prototype.loadConnectionCosts=function(r){return this.connection_costs.loadConnectionCosts(r),this};ir.prototype.loadUnknownDictionaries=function(r,i,e,a,s,h){return this.unknown_dictionary.loadUnknownDictionaries(r,i,e,a,s,h),this};var qn=ir,jr=On,Dr=Ur,Co=qn;function le(r){this.dic=new Co,this.dic_path=r}le.prototype.loadArrayBuffer=function(r,i){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")};le.prototype.load=function(r){var i=this.dic,e=this.dic_path,a=this.loadArrayBuffer;Dr.parallel([function(s){Dr.map(["base.dat.gz","check.dat.gz"],function(h,m){a(jr.join(e,h),function(A,L){if(A)return m(A);m(null,L)})},function(h,m){if(h)return s(h);var A=new Int32Array(m[0]),L=new Int32Array(m[1]);i.loadTrie(A,L),s(null)})},function(s){Dr.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(h,m){a(jr.join(e,h),function(A,L){if(A)return m(A);m(null,L)})},function(h,m){if(h)return s(h);var A=new Uint8Array(m[0]),L=new Uint8Array(m[1]),P=new Uint8Array(m[2]);i.loadTokenInfoDictionaries(A,L,P),s(null)})},function(s){a(jr.join(e,"cc.dat.gz"),function(h,m){if(h)return s(h);var A=new Int16Array(m);i.loadConnectionCosts(A),s(null)})},function(s){Dr.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(h,m){a(jr.join(e,h),function(A,L){if(A)return m(A);m(null,L)})},function(h,m){if(h)return s(h);var A=new Uint8Array(m[0]),L=new Uint8Array(m[1]),P=new Uint8Array(m[2]),z=new Uint8Array(m[3]),b=new Uint32Array(m[4]),S=new Uint8Array(m[5]);i.loadUnknownDictionaries(A,L,P,z,b,S),s(null)})}],function(s){r(s,i)})};var Eo=le,jo=co,Yn=Eo;function he(r){Yn.apply(this,[r])}he.prototype=Object.create(Yn.prototype);he.prototype.loadArrayBuffer=function(r,i){var e=new XMLHttpRequest;e.open("GET",r,!0),e.responseType="arraybuffer",e.onload=function(){if(this.status>0&&this.status!==200){i(e.statusText,null);return}var a=this.response,s=new jo.Zlib.Gunzip(new Uint8Array(a)),h=s.decompress();i(null,h.buffer)},e.onerror=function(a){i(a,null)},e.send()};var Do=he,Fo=fo,Io=Do;function Zn(r){r.dicPath==null?this.dic_path="dict/":this.dic_path=r.dicPath}Zn.prototype.build=function(r){var i=new Io(this.dic_path);i.load(function(e,a){r(e,new Fo(a))})};var Bo=Zn,Lo=Nn;function ve(){this.lines=0,this.connection_cost=null}ve.prototype.putLine=function(r){if(this.lines===0){var i=r.split(" "),e=i[0],a=i[1];if(e<0||a<0)throw"Parse error of matrix.def";return this.connection_cost=new Lo(e,a),this.lines++,this}var s=r.split(" ");if(s.length!==3)return this;var h=parseInt(s[0]),m=parseInt(s[1]),A=parseInt(s[2]);if(h<0||m<0||!isFinite(h)||!isFinite(m)||this.connection_cost.forward_dimension<=h||this.connection_cost.backward_dimension<=m)throw"Parse error of matrix.def";return this.connection_cost.put(h,m,A),this.lines++,this};ve.prototype.build=function(){return this.connection_cost};var Oo=ve,Lr=Kn,Uo=Gn,xo=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,zo=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,$o=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function pe(){this.char_def=new Lr,this.char_def.invoke_definition_map=new Uo,this.character_category_definition=[],this.category_mapping=[]}pe.prototype.putLine=function(r){var i=xo.exec(r);if(i!=null){var e=this.character_category_definition.length,a=Lr.parseCharCategory(e,i);if(a==null)return;this.character_category_definition.push(a);return}var s=zo.exec(r);if(s!=null){var h=Lr.parseCategoryMapping(s);this.category_mapping.push(h)}var m=$o.exec(r);if(m!=null){var A=Lr.parseRangeCategoryMapping(m);this.category_mapping.push(A)}};pe.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def};var Mo=pe,Po=xr,No=qn,Ro=ce,Vo=Oo,Go=Mo,Ko=Hn;function Tt(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new Vo,this.cd_builder=new Go}Tt.prototype.addTokenInfoDictionary=function(r){var i=r.split(",");return this.tid_entries.push(i),this};Tt.prototype.putCostMatrixLine=function(r){return this.cc_builder.putLine(r),this};Tt.prototype.putCharDefLine=function(r){return this.cd_builder.putLine(r),this};Tt.prototype.putUnkDefLine=function(r){return this.unk_entries.push(r.split(",")),this};Tt.prototype.build=function(){var r=this.buildTokenInfoDictionary(),i=this.buildUnknownDictionary();return new No(r.trie,r.token_info_dictionary,this.cc_builder.build(),i)};Tt.prototype.buildTokenInfoDictionary=function(){var r=new Ro,i=r.buildDictionary(this.tid_entries),e=this.buildDoubleArray();for(var a in i){var s=i[a],h=e.lookup(s);r.addMapping(h,a)}return{trie:e,token_info_dictionary:r}};Tt.prototype.buildUnknownDictionary=function(){var r=new Ko,i=r.buildDictionary(this.unk_entries),e=this.cd_builder.build();r.characterDefinition(e);for(var a in i){var s=i[a],h=e.invoke_definition_map.lookup(s);r.addMapping(h,a)}return r};Tt.prototype.buildDoubleArray=function(){var r=0,i=this.tid_entries.map(function(a){var s=a[0];return{k:s,v:r++}}),e=Po.builder(1024*1024);return e.build(i)};var Ho=Tt,Wo=Bo,qo=Ho,Yo={builder:function(r){return new Wo(r)},dictionaryBuilder:function(){return new qo}},Zo=Yo,Xn=kt&&kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.tokenize=Gt.getTokenizer=void 0;var En=Xn(On),Xo=Or,Jo=Xn(oe),Qo=Zo,Fr=new Jo.default,tu=function(){if(typeof process<"u"&&typeof process.env=="object"&&{}.KUROMOJIN_DIC_PATH)return{}.KUROMOJIN_DIC_PATH;var r=typeof window<"u"?window:void 0;if(typeof r<"u"&&typeof r.kuromojin=="object"&&typeof r.kuromojin.dicPath=="string")return r.kuromojin.dicPath;var i=En.default.dirname(require.resolve("kuromoji"));return En.default.join(i,"..","dict")},ie=null,jn=!1,Dn=new Xo.LRUMap(1e4);function Jn(r){return r===void 0&&(r={dicPath:tu()}),ie?Promise.resolve(ie):(jn||(jn=!0,Qo.builder(r).build(function(i,e){if(i)return Fr.reject(i);ie=e,Fr.resolve(e)})),Fr.promise)}Gt.getTokenizer=Jn;function ru(r,i){return Jn(i).then(function(e){if(i!=null&&i.noCacheTokenize)return e.tokenizeForSentence(r);var a=Dn.get(r);if(a)return a;var s=e.tokenizeForSentence(r);return Dn.set(r,s),s})}Gt.tokenize=ru;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.tokenize=r.getTokenizer=void 0;var i=Gt;Object.defineProperty(r,"getTokenizer",{enumerable:!0,get:function(){return i.getTokenizer}}),Object.defineProperty(r,"tokenize",{enumerable:!0,get:function(){return i.tokenize}})})(xn);const fu={component:Un},eu={width:"400px",height:"400px"},nu=({token:{pos:r,pos_detail_1:i,pos_detail_2:e,pos_detail_3:a,surface_form:s},children:h})=>{const m=nr.useRef(null),[A,L]=nr.useState(null);return Ln("span",{ref:m,style:{position:"relative",background:r==="名詞"?"rgba(255, 0, 0, 0.2)":r==="動詞"?"rgba(0, 255, 0, 0.2)":r==="形容詞"?"rgba(0, 0, 255, 0.2)":r==="副詞"?"rgba(255, 0, 255, 0.2)":r==="助詞"?"rgba(0, 255, 255, 0.2)":r==="助動詞"?"rgba(255, 255, 0, 0.2)":void 0,outline:"solid 1px lightgray"},onMouseOver:z=>{if(!m.current)return;const b=m.current.getBoundingClientRect();L({top:b.top-b.height*2,left:b.left,description:`${s}: ${r} | ${i} | ${e} | ${a}`})},onMouseOut:()=>L(null),children:[h,A&&Za.createPortal(Br("div",{style:{position:"fixed",top:A.top,left:A.left,background:"white",fontSize:16,padding:2,border:"solid 1px gray"},children:A.description}),document.body)]})},Ir={render:()=>{const[r,i]=nr.useState(`すもももももももものうち。

吾輩 （ わがはい ） は猫である。名前はまだ無い。

あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。

山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。`),[e,a]=nr.useState(null);return nr.useEffect(()=>{(async()=>{const s=await xn.getTokenizer({dicPath:"/rich-textarea/dict"});a(s)})()},[]),Ln("div",{style:{marginTop:16},children:[!e&&Br("div",{children:"Loading dictionaries"}),Br(Un,{style:eu,onChange:s=>i(s.target.value),value:r,children:s=>{if(!e)return s;const h=e.tokenize(r),m=[];for(const A of h)m.push(Br(nu,{token:A,children:A.surface_form},A.word_position));return m}})]})}};var Fn,In,Bn;Ir.parameters={...Ir.parameters,docs:{...(Fn=Ir.parameters)==null?void 0:Fn.docs,source:{originalSource:`{
  render: () => {
    const [text, setText] = useState("すもももももももものうち。\\n\\n吾輩 （ わがはい ） は猫である。名前はまだ無い。\\n\\nあのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。\\n\\n山路を登りながら、こう考えた。智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。住みにくさが高じると、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。");
    const [tokenizer, setTokenizer] = useState<Tokenizer | null>(null);
    useEffect(() => {
      (async () => {
        const tokenizer = await getTokenizer({
          dicPath: "true" ? "/rich-textarea/dict" : "/dict"
        });
        setTokenizer(tokenizer);
      })();
    }, []);
    return <div style={{
      marginTop: 16
    }}>
        {!tokenizer && <div>{"Loading dictionaries"}</div>}
        <RichTextarea style={style} onChange={e => setText(e.target.value)} value={text}>
          {v => {
          if (!tokenizer) return v;
          const tokens = tokenizer.tokenize(text);
          const nodes: React.ReactElement[] = [];
          for (const token of tokens) {
            nodes.push(<Mark key={token.word_position} token={token}>
                  {token.surface_form}
                </Mark>);
          }
          return nodes;
        }}
        </RichTextarea>
      </div>;
  }
}`,...(Bn=(In=Ir.parameters)==null?void 0:In.docs)==null?void 0:Bn.source}}};const cu=["Kuromoji"];export{Ir as Kuromoji,cu as __namedExportsOrder,fu as default};
//# sourceMappingURL=Kuromoji.stories-2f2c9708.js.map
