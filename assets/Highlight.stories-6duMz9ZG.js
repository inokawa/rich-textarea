import{j as E}from"./observer-ChNWUPNK.js";import{g as re,r as se,a as D}from"./index-CeHYjMkx.js";import{L as le}from"./mocks-Di3JMOQr.js";import{R as K}from"./textarea-D05uwaBC.js";var Q={exports:{}};(function(z){z.exports=function(c){var o={};function r(t){if(o[t])return o[t].exports;var s=o[t]={exports:{},id:t,loaded:!1};return c[t].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}return r.m=c,r.c=o,r.p="",r(0)}([function(c,o,r){c.exports=r(1)},function(c,o,r){Object.defineProperty(o,"__esModule",{value:!0});function t(l){return l&&l.__esModule?l:{default:l}}var s=r(2),u=t(s);o.default=u.default,c.exports=o.default},function(c,o,r){Object.defineProperty(o,"__esModule",{value:!0});var t=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};o.default=h;function s(e){return e&&e.__esModule?e:{default:e}}function u(e,i){var n={};for(var a in e)i.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var l=r(3),m=r(4),T=r(5),f=s(T);function h(e){var i=e.activeClassName,n=i===void 0?"":i,a=e.activeIndex,g=a===void 0?-1:a,v=e.activeStyle,p=e.autoEscape,d=e.caseSensitive,x=d===void 0?!1:d,H=e.className,j=e.findChunks,N=e.highlightClassName,S=N===void 0?"":N,$=e.highlightStyle,L=$===void 0?{}:$,M=e.highlightTag,U=M===void 0?"mark":M,V=e.sanitize,X=e.searchWords,k=e.textToHighlight,w=e.unhighlightTag,Y=w===void 0?"span":w,W=e.unhighlightClassName,Z=W===void 0?"":W,ee=e.unhighlightStyle,te=u(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),ae=(0,l.findAll)({autoEscape:p,caseSensitive:x,findChunks:j,sanitize:V,searchWords:X,textToHighlight:k}),q=U,R=-1,_="",F=void 0,ne=function(b){var C={};for(var y in b)C[y.toLowerCase()]=b[y];return C},ie=(0,f.default)(ne);return(0,m.createElement)("span",t({className:H},te,{children:ae.map(function(O,b){var C=k.substr(O.start,O.end-O.start);if(O.highlight){R++;var y=void 0;typeof S=="object"?x?y=S[C]:(S=ie(S),y=S[C.toLowerCase()]):y=S;var I=R===+g;_=y+" "+(I?n:""),F=I===!0&&v!=null?Object.assign({},L,v):L;var A={children:C,className:_,key:b,style:F};return typeof q!="string"&&(A.highlightIndex=R),(0,m.createElement)(q,A)}else return(0,m.createElement)(Y,{children:C,className:Z,key:b,style:ee})})}))}c.exports=o.default},function(c,o){c.exports=function(r){var t={};function s(u){if(t[u])return t[u].exports;var l=t[u]={exports:{},id:u,loaded:!1};return r[u].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}return s.m=r,s.c=t,s.p="",s(0)}([function(r,t,s){r.exports=s(1)},function(r,t,s){Object.defineProperty(t,"__esModule",{value:!0});var u=s(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return u.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return u.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return u.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return u.findChunks}})},function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(h){var e=h.autoEscape,i=h.caseSensitive,n=i===void 0?!1:i,a=h.findChunks,g=a===void 0?u:a,v=h.sanitize,p=h.searchWords,d=h.textToHighlight;return l({chunksToHighlight:s({chunks:g({autoEscape:e,caseSensitive:n,sanitize:v,searchWords:p,textToHighlight:d})}),totalLength:d?d.length:0})};var s=t.combineChunks=function(h){var e=h.chunks;return e=e.sort(function(i,n){return i.start-n.start}).reduce(function(i,n){if(i.length===0)return[n];var a=i.pop();if(n.start<=a.end){var g=Math.max(a.end,n.end);i.push({start:a.start,end:g})}else i.push(a,n);return i},[]),e},u=function(h){var e=h.autoEscape,i=h.caseSensitive,n=h.sanitize,a=n===void 0?m:n,g=h.searchWords,v=h.textToHighlight;return v=a(v),g.filter(function(p){return p}).reduce(function(p,d){d=a(d),e&&(d=T(d));for(var x=new RegExp(d,i?"g":"gi"),H=void 0;H=x.exec(v);){var j=H.index,N=x.lastIndex;N>j&&p.push({start:j,end:N}),H.index==x.lastIndex&&x.lastIndex++}return p},[])};t.findChunks=u;var l=t.fillInChunks=function(h){var e=h.chunksToHighlight,i=h.totalLength,n=[],a=function(p,d,x){d-p>0&&n.push({start:p,end:d,highlight:x})};if(e.length===0)a(0,i,!1);else{var g=0;e.forEach(function(v){a(g,v.start,!1),a(v.start,v.end,!0),g=v.end}),a(g,i,!1)}return n};function m(f){return f}function T(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(c,o){c.exports=se()},function(c,o){var r=function(u,l){return u===l};function t(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,l=void 0,m=[],T=void 0,f=!1,h=function(n,a){return u(n,m[a])},e=function(){for(var n=arguments.length,a=Array(n),g=0;g<n;g++)a[g]=arguments[g];return f&&l===this&&a.length===m.length&&a.every(h)||(f=!0,l=this,m=a,T=s.apply(this,a)),T};return e}c.exports=t}])})(Q);var ue=Q.exports;const he=re(ue),fe={component:K},oe={width:"600px",height:"400px"},P={render:()=>{const[z,c]=D.useState(le),[o,r]=D.useState("dolor");return E.jsxs("div",{children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"search",children:"input search word: "}),E.jsx("input",{name:"search",value:o,onChange:t=>r(t.target.value)})]}),E.jsx(K,{style:oe,onChange:t=>c(t.target.value),value:z,children:t=>E.jsx(he,{searchWords:o.split(" "),autoEscape:!0,textToHighlight:t})})]})}};var B,G,J;P.parameters={...P.parameters,docs:{...(B=P.parameters)==null?void 0:B.docs,source:{originalSource:`{
  render: () => {
    const [text, setText] = useState(LOREM);
    const [searchText, setSearchText] = useState("dolor");
    return <div>
        <div>
          <label htmlFor="search">input search word: </label>
          <input name="search" value={searchText} onChange={e => setSearchText(e.target.value)} />
        </div>
        <RichTextarea style={style} onChange={e => setText(e.target.value)} value={text}>
          {v => <Highlighter searchWords={searchText.split(" ")} autoEscape={true} textToHighlight={v} />}
        </RichTextarea>
      </div>;
  }
}`,...(J=(G=P.parameters)==null?void 0:G.docs)==null?void 0:J.source}}};const pe=["Highlight"];export{P as Highlight,pe as __namedExportsOrder,fe as default};
